<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NursingPro Academy - Capacitación Médica</title>
  <meta name="description" content="Plataforma de capacitación para médicos y enfermeros con cursos, casos clínicos y evaluaciones." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-primary: #f8fafc;
      --bg-secondary: #f1f5f9;
      --text-primary: #0f172a;
      --text-secondary: #64748b;
      --card-bg: #ffffff;
      --border-color: #e2e8f0;
      --accent: #0d9488;
      --accent-hover: #0f766e;
      --danger: #dc2626;
      --warning: #d97706;
      --success: #059669;
      --info: #0891b2;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    [data-theme="dark"] {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --text-primary: #e2e8f0;
      --text-secondary: #94a3b8;
      --card-bg: #1e293b;
      --border-color: #334155;
      --accent: #14b8a6;
      --danger: #f87171;
      --warning: #fbbf24;
      --success: #34d399;
      --info: #7dd3fc;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    header {
      background-color: var(--card-bg);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 50;
    }

    .header-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
    }

    .logo {
      display: flex;
      align-items: center;
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--accent);
    }

    .logo svg {
      margin-right: 0.5rem;
    }

    nav {
      display: flex;
      gap: 0.5rem;
    }

    nav button {
      background: none;
      border: none;
      font-weight: 500;
      cursor: pointer;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }

    nav button.active {
      background-color: var(--bg-secondary);
      color: var(--accent);
      font-weight: 600;
    }

    nav button:hover:not(.active) {
      background-color: var(--bg-secondary);
    }

    .search-bar {
      margin: 1.5rem 0;
      position: relative;
    }

    .search-bar input {
      width: 100%;
      padding: 1rem 1rem 1rem 2.5rem;
      border: 1px solid var(--border-color);
      border-radius: 0.75rem;
      background-color: var(--card-bg);
      color: var(--text-primary);
      font-size: 1rem;
    }

    .search-bar svg {
      position: absolute;
      left: 0.75rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-secondary);
    }

    .tab-content {
      margin-bottom: 2rem;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 1rem;
    }

    .card {
      background-color: var(--card-bg);
      border-radius: 0.75rem;
      box-shadow: var(--shadow);
      overflow: hidden;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .card-priority {
      height: 0.5rem;
      background-color: var(--success);
    }

    .card-priority.high { background-color: var(--danger); }
    .card-priority.medium { background-color: var(--warning); }
    .card-priority.low { background-color: var(--info); }

    .card-body {
      padding: 1.5rem;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.75rem;
    }

    .card-title {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .card-badge {
      font-size: 0.75rem;
      padding: 0.25rem 0.5rem;
      background-color: var(--bg-secondary);
      border-radius: 0.375rem;
    }

    .card-content {
      font-size: 0.875rem;
      color: var(--text-secondary);
      margin-bottom: 1rem;
    }

    .card-footer {
      font-size: 0.75rem;
      color: var(--text-secondary);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .btn {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.5rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
      font-size: 0.9rem;
    }

    .btn-primary {
      background-color: var(--accent);
      color: white;
    }

    .btn-primary:hover {
      background-color: var(--accent-hover);
    }

    .btn-outline {
      background-color: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-primary);
    }

    .btn-outline:hover {
      background-color: var(--bg-secondary);
    }

    .btn-sm {
      padding: 0.25rem 0.5rem;
      font-size: 0.8rem;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background-color: var(--card-bg);
      border-radius: 0.75rem;
      max-width: 800px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem;
      border-bottom: 1px solid var(--border-color);
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 600;
    }

    .modal-body {
      padding: 1.5rem;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }

    .form-control {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--border-color);
      border-radius: 0.5rem;
      background-color: var(--card-bg);
      color: var(--text-primary);
    }

    .form-control:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.3);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .modal-footer {
      padding: 1.5rem;
      border-top: 1px solid var(--border-color);
      display: flex;
      gap: 0.75rem;
      justify-content: flex-end;
    }

    .progress-bar {
      width: 100%;
      height: 0.5rem;
      background-color: var(--bg-secondary);
      border-radius: 9999px;
      margin: 0.5rem 0 1rem 0;
    }

    .progress-fill {
      height: 100%;
      background-color: var(--accent);
      border-radius: 9999px;
      width: 0%;
      transition: width 0.3s ease;
    }

    .pill {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .pill.high { background-color: #fee2e2; color: #dc2626; }
    .pill.medium { background-color: #fff7ed; color: #d97706; }
    .pill.low { background-color: #ecfdf5; color: #059669; }
    .pill.completed { background-color: #dcfce7; color: #166534; }

    .quiz-question {
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border-color);
    }

    .quiz-options {
      display: grid;
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .quiz-option {
      padding: 0.75rem;
      border: 1px solid var(--border-color);
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .quiz-option:hover {
      background-color: var(--bg-secondary);
    }

    .quiz-option.selected {
      background-color: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    .result-box {
      padding: 1.5rem;
      border-radius: 0.5rem;
      text-align: center;
      margin-top: 1rem;
      background-color: var(--bg-secondary);
    }

    .result-value {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .result-category {
      font-size: 1.1rem;
      font-weight: 600;
    }

    .result-category.success { color: var(--success); }
    .result-category.warning { color: var(--warning); }

    .certificate {
      background: linear-gradient(135deg, #f8fafc, #e2e8f0);
      border: 2px solid #0d9488;
      border-radius: 1rem;
      padding: 2rem;
      margin: 1rem 0;
      text-align: center;
      font-family: 'Georgia', serif;
    }

    .certificate h3 {
      color: #0d9488;
      margin-bottom: 0.5rem;
    }

    .certificate p {
      margin: 0.5rem 0;
      color: #334155;
    }

    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      background-color: var(--bg-secondary);
      text-align: center;
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    @media (max-width: 768px) {
      .header-inner { flex-wrap: wrap; }
      nav { order: 2; width: 100%; margin-top: 1rem; }
      .search-bar { order: 1; width: 100%; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-inner">
        <div class="logo">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.8 21.6L12 16.8L19.2 21.6L20.4 19.2L13.2 14.4L20.4 9.6L19.2 7.2L12 12L4.8 7.2L3.6 9.6L10.8 14.4L3.6 19.2L4.8 21.6Z"/></svg>
          <span>NursingPro Academy</span>
        </div>
        <nav id="desktop-nav">
          <button data-tab="courses" class="active">Cursos</button>
          <button data-tab="cases">Casos Clínicos</button>
          <button data-tab="quizzes">Evaluaciones</button>
          <button data-tab="profile">Mi Progreso</button>
          <button id="theme-toggle">Modo Oscuro</button>
          <button id="lang-toggle">EN</button>
        </nav>
      </div>
    </header>

    <main style="min-height: 70vh; padding: 2rem 0;">
      <!-- Búsqueda -->
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
        <input type="text" id="search-input" placeholder="Buscar cursos, temas o protocolos..." />
      </div>

      <!-- Cursos -->
      <section id="courses-tab" class="tab-content">
        <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem;">Cursos de Capacitación</h2>
        <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Completa cursos médicos certificados y mejora tu práctica clínica.</p>
        <div id="courses-grid" class="card-grid"></div>
      </section>

      <!-- Casos Clínicos -->
      <section id="cases-tab" class="tab-content" hidden>
        <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem;">Casos Clínicos Interactivos</h2>
        <div id="cases-list" class="card-grid"></div>
        <div id="case-detail" style="display: none; margin-top: 1.5rem; padding: 1.5rem; background-color: var(--card-bg); border-radius: 0.75rem; box-shadow: var(--shadow);">
          <h3 id="case-title" style="margin-bottom: 1rem; color: var(--accent);">Título del Caso</h3>
          <div id="case-content"></div>
          <button id="start-case-btn" class="btn btn-primary" style="margin-top: 1rem;">Iniciar Caso</button>
          <div id="case-quiz" style="display: none; margin-top: 1.5rem;"></div>
          <div id="case-feedback" style="display: none; margin-top: 1.5rem; padding: 1rem; background-color: var(--bg-secondary); border-radius: 0.5rem;"></div>
        </div>
      </section>

      <!-- Evaluaciones -->
      <section id="quizzes-tab" class="tab-content" hidden>
        <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem;">Evaluaciones</h2>
        <div class="card">
          <div class="card-body">
            <h3>Examen Final: Soporte Vital Básico</h3>
            <p style="color: var(--text-secondary); margin: 1rem 0;">Responde las siguientes preguntas para evaluar tus conocimientos.</p>
            <div id="quiz-container"></div>
            <button id="submit-quiz" class="btn btn-primary">Enviar Respuestas</button>
            <div id="quiz-results" style="display: none; margin-top: 1.5rem;"></div>
          </div>
        </div>
      </section>

      <!-- Perfil / Progreso -->
      <section id="profile-tab" class="tab-content" hidden>
        <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem;">Mi Progreso</h2>
        <div class="card">
          <div class="card-body">
            <h3>Curso: Soporte Vital Básico</h3>
            <div class="progress-bar">
              <div id="progress-fill" class="progress-fill" style="width: 65%;"></div>
            </div>
            <p>Progreso: <strong>65%</strong> completado</p>
          </div>
        </div>

        <div class="card" style="margin-top: 1.5rem;">
          <div class="card-body">
            <h3>Histórico de Evaluaciones</h3>
            <div style="margin-top: 1rem; color: var(--text-secondary);">
              <p><strong>Soporte Vital Básico:</strong> 8/10 (80%) - Aprobado</p>
              <p><strong>Manejo de Sepsis:</strong> 7/10 (70%) - Aprobado</p>
              <p><strong>Escalas Neurológicas:</strong> 9/10 (90%) - Aprobado</p>
            </div>
          </div>
        </div>

        <div class="certificate">
          <h3>Certificado de Finalización</h3>
          <p>Se otorga a</p>
          <p style="font-size: 1.2rem; font-weight: 600;">María González</p>
          <p>Por completar el curso de Soporte Vital Básico</p>
          <p style="font-size: 0.9rem;">Fecha: 15 de Abril de 2024</p>
        </div>
      </section>
    </main>

    <footer>
      <div class="container">
        <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 1rem;">
          <div style="display: flex; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 0.5rem; color: var(--accent);"><path d="M4.8 21.6L12 16.8L19.2 21.6L20.4 19.2L13.2 14.4L20.4 9.6L19.2 7.2L12 12L4.8 7.2L3.6 9.6L10.8 14.4L3.6 19.2L4.8 21.6Z"/></svg>
            <span>NursingPro Academy</span>
          </div>
          <div style="color: var(--text-secondary);">
            © 2024 | Capacitación Médica Continua
          </div>
          <div style="display: flex; gap: 1rem;">
            <a href="#" style="color: var(--text-secondary);">Política Educativa</a>
            <a href="#" style="color: var(--text-secondary);">Soporte</a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <script>
    // Traducciones
    const translations = {
      es: {
        theme: 'Modo Oscuro',
        themeLight: 'Modo Claro',
        lang: 'EN',
        searchResults: 'Resultados para',
        progress: 'Progreso',
        completed: 'Completado',
        start: 'Iniciar',
        next: 'Siguiente',
        submit: 'Enviar',
        correct: '¡Correcto!',
        incorrect: 'Incorrecto. La respuesta correcta es:',
        quizTitle: 'Evaluación: Soporte Vital Básico',
        certificate: 'Certificado de Finalización',
        courseSv: 'Soporte Vital Básico',
        caseTitle: 'Caso Clínico: Paciente con Dolor Torácico',
        caseIntro: 'Paciente masculino de 58 años que llega a urgencias con dolor torácico opresivo de 2 horas de evolución...',
        feedbackTitle: 'Retroalimentación',
        feedbackText: 'Excelente manejo. El paciente requiere aspirina, ECG inmediato y derivación a unidad coronaria.'
      },
      en: {
        theme: 'Dark Mode',
        themeLight: 'Light Mode',
        lang: 'ES',
        searchResults: 'Results for',
        progress: 'Progress',
        completed: 'Completed',
        start: 'Start',
        next: 'Next',
        submit: 'Submit',
        correct: 'Correct!',
        incorrect: 'Incorrect. The correct answer is:',
        quizTitle: 'Quiz: Basic Life Support',
        certificate: 'Completion Certificate',
        courseSv: 'Basic Life Support',
        caseTitle: 'Clinical Case: Patient with Chest Pain',
        caseIntro: '58-year-old male presenting to ER with oppressive chest pain for 2 hours...',
        feedbackTitle: 'Feedback',
        feedbackText: 'Excellent management. The patient requires aspirin, immediate ECG, and transfer to coronary unit.'
      }
    };

    let currentLang = 'es';

    // Cursos de capacitación
    const courses = [
      {
        id: 1,
        title: 'Soporte Vital Básico (SVB)',
        instructor: 'Dr. Ana Martínez',
        duration: '4 horas',
        progress: 65,
        description: 'Curso completo sobre reanimación cardiopulmonar, uso de DEA y manejo de paro cardíaco.',
        image: 'https://placehold.co/300x150/0d9488/ffffff?text=SVB'
      },
      {
        id: 2,
        title: 'Manejo de Sepsis',
        instructor: 'Dra. Laura Fernández',
        duration: '3 horas',
        progress: 30,
        description: 'Identificación temprana, lactato, hemocultivos, antibióticos en la hora mágica.',
        image: 'https://placehold.co/300x150/dc2626/ffffff?text=Sepsis'
      },
      {
        id: 3,
        title: 'Escalas Neurológicas',
        instructor: 'Dr. Carlos Ruiz',
        duration: '2.5 horas',
        progress: 0,
        description: 'Escala de Glasgow, NIHSS, escala de Monroe para trauma craneoencefálico.',
        image: 'https://placehold.co/300x150/0891b2/ffffff?text=Neuro'
      }
    ];

    // Casos clínicos
    const clinicalCases = [
      {
        id: 1,
        title: 'Dolor Torácico en Hombre de 58 Años',
        specialty: 'Cardiología',
        difficulty: 'Alta',
        description: 'Paciente con dolor opresivo, sudoración y náuseas. ¿Qué hacer primero?'
      },
      {
        id: 2,
        title: 'Neumonía en Paciente Diabético',
        specialty: 'Infecciosas',
        difficulty: 'Media',
        description: 'Fiebre, tos productiva y disnea en paciente con DM2. Manejo antibiótico.'
      },
      {
        id: 3,
        title: 'Trauma Craneoencefálico en Joven',
        specialty: 'Neurocirugía',
        difficulty: 'Alta',
        description: 'GCS 9, cefalea intensa y vómitos. ¿TC urgente? ¿Neurocirugía?'
      }
    ];

    // Preguntas de evaluación
    const quizQuestions = [
      {
        question: "¿Cuál es la frecuencia recomendada de compresiones torácicas en RCP adulta?",
        options: ["60-80/min", "80-100/min", "100-120/min", "120-140/min"],
        correct: 2
      },
      {
        question: "¿Qué medicamento se administra primero en una anafilaxia grave?",
        options: ["Corticoides", "Antihistamínicos", "Adrenalina IM", "Broncodilatadores"],
        correct: 2
      },
      {
        question: "¿Cuál es el valor normal de la escala de Glasgow?",
        options: ["3-8", "9-12", "13-14", "15"],
        correct: 3
      },
      {
        question: "¿Cuál es el tratamiento inicial para un IAM con elevación de ST?",
        options: ["Observación", "Trombólisis o angioplastia", "Solo aspirina", "Beta-bloqueadores"],
        correct: 1
      },
      {
        question: "¿Cuál es el límite superior normal del IMC?",
        options: ["24.9", "29.9", "34.9", "39.9"],
        correct: 0
      }
    ];

    // Elementos del DOM
    const tabs = document.querySelectorAll('[data-tab]');
    const tabContents = document.querySelectorAll('.tab-content');
    const searchInput = document.getElementById('search-input');
    const coursesGrid = document.getElementById('courses-grid');
    const casesList = document.getElementById('cases-list');
    const caseDetail = document.getElementById('case-detail');
    const caseTitle = document.getElementById('case-title');
    const caseContent = document.getElementById('case-content');
    const startCaseBtn = document.getElementById('start-case-btn');
    const caseQuiz = document.getElementById('case-quiz');
    const caseFeedback = document.getElementById('case-feedback');
    const themeToggle = document.getElementById('theme-toggle');
    const langToggle = document.getElementById('lang-toggle');
    const quizContainer = document.getElementById('quiz-container');
    const submitQuiz = document.getElementById('submit-quiz');
    const quizResults = document.getElementById('quiz-results');
    const progressFill = document.getElementById('progress-fill');

    // Renderizar cursos
    function renderCourses() {
      coursesGrid.innerHTML = '';
      courses.forEach(course => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <img src="${course.image}" alt="${course.title}" style="width: 100%; height: 150px; object-fit: cover; border-bottom: 1px solid var(--border-color);">
          <div class="card-body">
            <h3 class="card-title">${course.title}</h3>
            <p class="card-content">Por ${course.instructor} • ${course.duration}</p>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${course.progress}%;"></div>
            </div>
            <div class="card-footer">
              <span>${course.progress}% ${translations[currentLang].progress}</span>
              <button class="btn btn-sm btn-primary">${course.progress > 0 ? translations[currentLang].continue : translations[currentLang].start}</button>
            </div>
          </div>
        `;
        coursesGrid.appendChild(card);
      });
    }

    // Renderizar casos clínicos
    function renderCases() {
      casesList.innerHTML = '';
      clinicalCases.forEach(caso => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="card-body">
            <h3 class="card-title">${caso.title}</h3>
            <p class="card-content">${caso.description}</p>
            <div class="card-footer">
              <span class="pill ${caso.difficulty === 'Alta' ? 'high' : 'medium'}">${caso.difficulty}</span>
              <button class="btn btn-sm btn-primary" data-case="${caso.id}">Explorar</button>
            </div>
          </div>
        `;
        casesList.appendChild(card);
      });

      // Eventos para explorar casos
      document.querySelectorAll('[data-case]').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const caseId = e.target.dataset.case;
          const caso = clinicalCases.find(c => c.id == caseId);
          caseTitle.textContent = caso.title;
          caseContent.innerHTML = `<p><strong>Especialidad:</strong> ${caso.specialty}</p>
                                  <p><strong>Dificultad:</strong> ${caso.difficulty}</p>
                                  <p style="margin-top: 1rem;">${translations[currentLang].caseIntro}</p>`;
          caseDetail.style.display = 'block';
        });
      });
    }

    // Iniciar caso clínico
    startCaseBtn.addEventListener('click', () => {
      caseQuiz.style.display = 'block';
      startCaseBtn.style.display = 'none';
      caseQuiz.innerHTML = `
        <div class="quiz-question">
          <p><strong>1. ¿Cuál es el primer paso en este paciente?</strong></p>
          <div class="quiz-options">
            <div class="quiz-option" data-value="0">Pedir un ECG</div>
            <div class="quiz-option" data-value="1">Administrar aspirina 300mg</div>
            <div class="quiz-option" data-value="2">Oxígeno y acceso IV</div>
            <div class="quiz-option" data-value="3">Todas las anteriores</div>
          </div>
        </div>
        <button id="submit-case" class="btn btn-primary">Evaluar Respuesta</button>
      `;

      // Selección de opción
      document.querySelectorAll('.quiz-option').forEach(opt => {
        opt.addEventListener('click', () => {
          document.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
          opt.classList.add('selected');
        });
      });

      // Evaluar respuesta
      document.getElementById('submit-case').addEventListener('click', () => {
        const selected = document.querySelector('.quiz-option.selected');
        if (selected && selected.dataset.value === '3') {
          caseFeedback.innerHTML = `<h4 style="color: var(--success);">${translations[currentLang].correct}</h4>
                                   <p>${translations[currentLang].feedbackText}</p>`;
        } else {
          caseFeedback.innerHTML = `<h4 style="color: var(--danger);">${translations[currentLang].incorrect} <strong>Todas las anteriores</strong></h4>`;
        }
        caseFeedback.style.display = 'block';
      });
    });

    // Renderizar evaluación
    function renderQuiz() {
      quizContainer.innerHTML = `<h3>${translations[currentLang].quizTitle}</h3>`;
      quizQuestions.forEach((q, i) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'quiz-question';
        questionDiv.innerHTML = `
          <p><strong>${i+1}. ${q.question}</strong></p>
          <div class="quiz-options">
            ${q.options.map((opt, idx) => 
              `<div class="quiz-option" data-question="${i}" data-value="${idx}">${opt}</div>`
            ).join('')}
          </div>
        `;
        quizContainer.appendChild(questionDiv);
      });

      // Selección múltiple
      document.querySelectorAll('.quiz-option').forEach(opt => {
        opt.addEventListener('click', () => {
          const question = opt.dataset.question;
          document.querySelectorAll(`.quiz-option[data-question="${question}"]`).forEach(o => o.classList.remove('selected'));
          opt.classList.add('selected');
        });
      });
    }

    // Enviar evaluación
    submitQuiz.addEventListener('click', () => {
      let correct = 0;
      quizQuestions.forEach((q, i) => {
        const selected = document.querySelector(`.quiz-option[data-question="${i}"].selected`);
        if (selected && selected.dataset.value == q.correct) correct++;
      });

      const score = Math.round((correct / quizQuestions.length) * 100);
      quizResults.innerHTML = `
        <div class="result-box">
          <div class="result-value">${correct}/${quizQuestions.length}</div>
          <div class="result-category ${score >= 80 ? 'success' : 'warning'}">
            ${score}% - ${score >= 80 ? 'Aprobado' : 'Reprobado'}
          </div>
        </div>
        <p style="margin-top: 1rem;">${score >= 80 ? '¡Felicidades! Has aprobado el examen.' : 'Sigue estudiando para mejorar.'}</p>
      `;
      quizResults.style.display = 'block';
    });

    // Cambiar de pestaña
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        const tabId = tab.dataset.tab;
        tabContents.forEach(content => {
          content.hidden = true;
        });
        document.getElementById(`${tabId}-tab`).hidden = false;

        if (tabId === 'quizzes') renderQuiz();
      });
    });

    // Búsqueda
    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      if (query.includes('svb') || query.includes('reanimación')) {
        document.getElementById('courses-tab').hidden = false;
        tabs.forEach(t => t.classList.remove('active'));
        document.querySelector('[data-tab="courses"]').classList.add('active');
        coursesGrid.innerHTML = `<div class="card"><div class="card-body">
          <h3 class="card-title">${courses[0].title}</h3>
          <p class="card-content">${courses[0].description}</p>
        </div></div>`;
      }
    });

    // Tema oscuro
    themeToggle.addEventListener('click', () => {
      const html = document.documentElement;
      const isDark = html.getAttribute('data-theme') === 'dark';
      html.setAttribute('data-theme', isDark ? 'light' : 'dark');
      themeToggle.textContent = isDark ? translations[currentLang].theme : translations[currentLang].themeLight;
    });

    // Idioma
    langToggle.addEventListener('click', () => {
      currentLang = currentLang === 'es' ? 'en' : 'es';
      langToggle.textContent = translations[currentLang].lang;
      themeToggle.textContent = translations[currentLang].theme;
      document.querySelector('[data-tab="courses"]').textContent = currentLang === 'es' ? 'Cursos' : 'Courses';
      document.querySelector('[data-tab="cases"]').textContent = currentLang === 'es' ? 'Casos Clínicos' : 'Clinical Cases';
      document.querySelector('[data-tab="quizzes"]').textContent = currentLang === 'es' ? 'Evaluaciones' : 'Quizzes';
      document.querySelector('[data-tab="profile"]').textContent = currentLang === 'es' ? 'Mi Progreso' : 'My Progress';
      searchInput.placeholder = currentLang === 'es' 
        ? 'Buscar cursos, temas o protocolos...' 
        : 'Search courses, topics or protocols...';
    });

    // Inicializar
    renderCourses();
    renderCases();
  </script>
</body>
</html>
