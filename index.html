
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediAssist Pro ULTRA - Herramienta MÃ©dica</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --white: #ffffff;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.25rem;
            --font-size-xl: 1.5rem;
            --font-size-2xl: 2rem;
            --border-radius: 0.5rem;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--box-shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: var(--font-size-xl);
            font-weight: bold;
        }

        .logo i {
            color: var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1rem;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        nav a:hover, nav a.active {
            background: var(--secondary);
            color: var(--white);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        @media (min-width: 992px) {
            .main-content {
                grid-template-columns: 300px 1fr;
            }
        }

        .sidebar {
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar h3 {
            color: var(--secondary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            margin-bottom: 0.5rem;
        }

        .sidebar a {
            color: var(--light);
            text-decoration: none;
            padding: 0.5rem;
            display: block;
            border-radius: var(--border-radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar a:hover, .sidebar a.active {
            background: var(--secondary);
            color: var(--white);
        }

        .content {
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section {
            margin-bottom: 2rem;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-title {
            font-size: var(--font-size-lg);
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            background: var(--secondary);
            color: var(--white);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: var(--font-size-sm);
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--secondary);
            color: var(--secondary);
        }

        .btn-outline:hover {
            background: var(--secondary);
            color: var(--white);
        }

        .btn-sm {
            padding: 0.25rem 0.75rem;
            font-size: 0.875rem;
        }

        .btn-danger {
            background: var(--danger);
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--light);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.1);
            color: var(--white);
            font-size: var(--font-size-base);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.25);
        }

        .input-group {
            display: flex;
            gap: 0.5rem;
        }

        .input-group .form-control {
            flex: 1;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 1.5rem 0;
        }

        .chart-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .glass-inner {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-inner h4 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .glass-inner p {
            margin-bottom: 0.5rem;
        }

        .glass-inner ol, .glass-inner ul {
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .glass-inner li {
            margin-bottom: 0.25rem;
        }

        .status {
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-danger {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }

        .status-warning {
            background: rgba(243, 156, 18, 0.2);
            color: var(--warning);
        }

        .status-success {
            background: rgba(39, 174, 96, 0.2);
            color: var(--success);
        }

        .alert {
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .alert-warning {
            background: rgba(243, 156, 18, 0.2);
            border: 1px solid rgba(243, 156, 18, 0.3);
        }

        .alert-danger {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid rgba(231, 76, 60, 0.3);
        }

        .alert-success {
            background: rgba(46, 204, 113, 0.2);
            border: 1px solid rgba(46, 204, 113, 0.3);
        }

        .alert-icon {
            font-size: 1.5rem;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .search-container {
            margin-bottom: 1.5rem;
        }

        .search-input {
            position: relative;
            margin-bottom: 1rem;
        }

        .search-input i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .search-input input {
            width: 100%;
            padding: 0.75rem 0.75rem 0.75rem 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.1);
            color: var(--white);
        }

        .search-results {
            margin-top: 1rem;
        }

        .result-item {
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
        }

        .result-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .result-item i {
            margin-right: 0.5rem;
            color: var(--secondary);
        }

        .pae-entry {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 0;
        }

        .pae-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .pae-title {
            font-weight: 600;
            color: var(--secondary);
        }

        .pae-subtitle {
            font-size: 0.875rem;
            color: var(--light);
        }

        .pae-date {
            font-size: 0.75rem;
            color: var(--gray);
        }

        .rcp-step {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .rcp-step:last-child {
            border-bottom: none;
        }

        .rcp-step h4 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--light);
            font-size: 0.875rem;
            margin-top: 2rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .table th, .table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .table th {
            color: var(--secondary);
            font-weight: 600;
        }

        .table-danger {
            background-color: rgba(231, 76, 60, 0.2) !important;
            color: var(--danger) !important;
        }

        .table-warning {
            background-color: rgba(243, 156, 18, 0.2) !important;
            color: var(--warning) !important;
        }

        .table-success {
            background-color: rgba(46, 204, 113, 0.2) !important;
            color: var(--success) !important;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-primary {
            background: rgba(52, 152, 219, 0.2);
            color: var(--secondary);
        }

        .badge-success {
            background: rgba(46, 204, 113, 0.2);
            color: var(--success);
        }

        .badge-warning {
            background: rgba(241, 196, 15, 0.2);
            color: var(--warning);
        }

        .badge-danger {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }

        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tab:hover, .tab.active {
            background: var(--secondary);
            color: var(--white);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .progress-container {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--secondary);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--secondary);
        }

        .info-box {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
        }

        .info-icon {
            font-size: 2rem;
            color: var(--secondary);
        }

        .info-content h4 {
            color: var(--secondary);
            margin-bottom: 0.25rem;
        }

        .info-content p {
            margin: 0;
            font-size: 0.875rem;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem;
            border-radius: var(--border-radius);
            background: var(--success);
            color: var(--white);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-danger {
            background: var(--danger);
        }

        .notification-warning {
            background: var(--warning);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--dark);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            color: var(--secondary);
            font-size: var(--font-size-lg);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--light);
            cursor: pointer;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        .print-btn {
            background: #27ae60;
            margin-left: 0.5rem;
        }

        .print-btn:hover {
            background: #219653;
        }

        .interaction-level {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
        }

        .level-severe {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }

        .level-moderate {
            background: rgba(243, 156, 18, 0.2);
            color: var(--warning);
        }

        .level-minor {
            background: rgba(241, 196, 15, 0.2);
            color: var(--warning);
        }

        .level-contraindicated {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }

        .risk-factor {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .risk-factor i {
            color: var(--warning);
        }

        @media print {
            .no-print, .no-print * {
                display: none !important;
            }
            
            body {
                background: none;
                color: #000;
            }
            
            .content {
                background: none;
                border: none;
                box-shadow: none;
            }
            
            .card {
                background: none;
                border: none;
                box-shadow: none;
            }
            
            .glass-inner {
                background: none;
                border: none;
            }
            
            .alert, .notification, .modal, header, footer, .card-actions, .chart-controls {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>MediAssist Pro ULTRA</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#inicio" class="active"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="#areas"><i class="fas fa-hospital"></i> Ãreas</a></li>
                    <li><a href="#primerosAuxilios"><i class="fas fa-band-aid"></i> Primeros Auxilios</a></li>
                    <li><a href="#calculadoras"><i class="fas fa-calculator"></i> Calculadoras</a></li>
                    <li><a href="#interacciones"><i class="fas fa-pills"></i> Interacciones</a></li>
                </ul>
            </nav>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <h3><i class="fas fa-tasks"></i> NavegaciÃ³n</h3>
                <ul>
                    <li><a href="#inicio" class="active"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="#areas"><i class="fas fa-hospital"></i> Ãreas Hospitalarias</a></li>
                    <li><a href="#primerosAuxilios"><i class="fas fa-first-aid"></i> Primeros Auxilios</a></li>
                    <li><a href="#calculadoras"><i class="fas fa-calculator"></i> Calculadoras MÃ©dicas</a></li>
                    <li><a href="#interacciones"><i class="fas fa-exchange-alt"></i> Interacciones</a></li>
                    <li><a href="#pae"><i class="fas fa-notes-medical"></i> PAE</a></li>
                </ul>

                <h3><i class="fas fa-clock"></i> Hora</h3>
                <div class="card">
                    <div id="relojDigital" style="font-size: 1.5rem; font-weight: bold; text-align: center; color: var(--secondary);"></div>
                    <div id="fecha" style="text-align: center; margin-top: 0.5rem; color: var(--light);"></div>
                </div>

                <h3><i class="fas fa-exclamation-triangle"></i> Emergencias</h3>
                <div class="card">
                    <div class="info-box">
                        <div class="info-icon">
                            <i class="fas fa-ambulance"></i>
                        </div>
                        <div class="info-content">
                            <h4>Emergencias</h4>
                            <p>Llame al 112</p>
                        </div>
                    </div>
                    <div class="info-box">
                        <div class="info-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="info-content">
                            <h4>Urgencias</h4>
                            <p>900 123 456</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content">
                <!-- SecciÃ³n Inicio -->
                <section id="inicio" class="section active">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-home"></i> Bienvenido a MediAssist Pro ULTRA</h3>
                        </div>
                        <div class="card-body">
                            <p>Esta herramienta mÃ©dica integral estÃ¡ diseÃ±ada para profesionales de la salud, proporcionando acceso rÃ¡pido a informaciÃ³n crÃ­tica, protocolos de atenciÃ³n, calculadoras mÃ©dicas y recursos esenciales para el trabajo diario en entornos hospitalarios.</p>
                            
                            <div class="grid-3" style="margin: 2rem 0;">
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-book-medical"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Protocolos</h4>
                                        <p>Acceso a protocolos de atenciÃ³n mÃ©dica</p>
                                    </div>
                                </div>
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-calculator"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Calculadoras</h4>
                                        <p>Herramientas mÃ©dicas precisas</p>
                                    </div>
                                </div>
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-exchange-alt"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Interacciones</h4>
                                        <p>VerificaciÃ³n de combinaciones de medicamentos</p>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-warning">
                                <div class="alert-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="alert-content">
                                    <div class="alert-title">Advertencia Importante</div>
                                    <div>Esta herramienta proporciona informaciÃ³n de referencia para profesionales mÃ©dicos. Siempre consulte las guÃ­as clÃ­nicas actualizadas y las polÃ­ticas del hospital antes de tomar decisiones clÃ­nicas.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SecciÃ³n Ãreas Hospitalarias -->
                <section id="areas" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-hospital"></i> Ãreas Hospitalarias</h3>
                            <div class="card-actions">
                                <button class="btn btn-outline btn-sm" id="refreshAreas"><i class="fas fa-sync"></i> Actualizar</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="search-container">
                                <div class="search-input">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="searchArea" placeholder="Buscar Ã¡rea hospitalaria...">
                                </div>
                            </div>

                            <div class="tabs">
                                <div class="tab active" data-tab="urgencias">Urgencias</div>
                                <div class="tab" data-tab="recepcion">RecepciÃ³n</div>
                                <div class="tab" data-tab="farmacia">Farmacia</div>
                                <div class="tab" data-tab="quirÃ³fano">QuirÃ³fano</div>
                                <div class="tab" data-tab="uci">UCI</div>
                                <div class="tab" data-tab="maternidad">Maternidad</div>
                                <div class="tab" data-tab="rayosx">Rayos X</div>
                                <div class="tab" data-tab="neurologia">NeurologÃ­a</div>
                                <div class="tab" data-tab="cardiologia">CardiologÃ­a</div>
                                <div class="tab" data-tab="oncologia">OncologÃ­a</div>
                                <div class="tab" data-tab="pediatria">PediatrÃ­a</div>
                                <div class="tab" data-tab="laboratorio">Laboratorio</div>
                            </div>

                            <div id="areaContent">
                                <!-- El contenido se llenarÃ¡ dinÃ¡micamente -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SecciÃ³n Primeros Auxilios -->
                <section id="primerosAuxilios" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-first-aid"></i> Protocolos de Primeros Auxilios</h3>
                            <div class="card-actions">
                                <button class="btn btn-outline btn-sm" id="printFirstAid"><i class="fas fa-print"></i> Imprimir</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <div class="tab active" data-tab="traumatismos">Traumatismos</div>
                                <div class="tab" data-tab="hemorragias">Hemorragias</div>
                                <div class="tab" data-tab="quemaduras">Quemaduras</div>
                                <div class="tab" data-tab="ahogamiento">Ahogamiento</div>
                                <div class="tab" data-tab="intoxicacion">IntoxicaciÃ³n</div>
                                <div class="tab" data-tab="rce">RCP</div>
                            </div>

                            <div id="firstAidContent">
                                <!-- Contenido de primeros auxilios -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SecciÃ³n Calculadoras MÃ©dicas -->
                <section id="calculadoras" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-calculator"></i> Calculadoras MÃ©dicas</h3>
                            <div class="card-actions">
                                <button class="btn btn-outline btn-sm" id="clearCalculators"><i class="fas fa-eraser"></i> Limpiar</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <div class="tab active" data-tab="imc">IMC</div>
                                <div class="tab" data-tab="cardio">Riesgo Cardiovascular</div>
                                <div class="tab" data-tab="medicamentos">Medicamentos</div>
                            </div>

                            <div id="calculatorContent">
                                <!-- Contenido de calculadoras -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SecciÃ³n Interacciones de Medicamentos -->
                <section id="interacciones" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-exchange-alt"></i> VerificaciÃ³n de Interacciones de Medicamentos</h3>
                            <div class="card-actions">
                                <button class="btn btn-outline btn-sm" id="printInteractions"><i class="fas fa-print"></i> Imprimir</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="alert alert-warning">
                                <div class="alert-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="alert-content">
                                    <div class="alert-title">Advertencia Importante</div>
                                    <div>Las interacciones entre medicamentos pueden ser peligrosas. Esta herramienta proporciona informaciÃ³n de referencia, pero siempre debe consultarse con un especialista antes de prescribir combinaciones.</div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label"><i class="fas fa-pills"></i> Seleccionar medicamentos para verificar interacciÃ³n:</label>
                                <div class="grid-2">
                                    <div>
                                        <select class="form-control" id="medicamento1">
                                            <option value="">Seleccionar primer medicamento</option>
                                            <option value="paracetamol">Paracetamol</option>
                                            <option value="ibuprofeno">Ibuprofeno</option>
                                            <option value="omeprazol">Omeprazol</option>
                                            <option value="aspirina">Aspirina</option>
                                            <option value="simvastatina">Simvastatina</option>
                                            <option value="warfarina">Warfarina</option>
                                            <option value="alcohol">Alcohol</option>
                                            <option value="jugo de toronja">Jugo de Toronja</option>
                                        </select>
                                    </div>
                                    <div>
                                        <select class="form-control" id="medicamento2">
                                            <option value="">Seleccionar segundo medicamento</option>
                                            <option value="paracetamol">Paracetamol</option>
                                            <option value="ibuprofeno">Ibuprofeno</option>
                                            <option value="omeprazol">Omeprazol</option>
                                            <option value="aspirina">Aspirina</option>
                                            <option value="simvastatina">Simvastatina</option>
                                            <option value="warfarina">Warfarina</option>
                                            <option value="alcohol">Alcohol</option>
                                            <option value="jugo de toronja">Jugo de Toronja</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <button class="btn" id="verificarInteraccion"><i class="fas fa-check-circle"></i> Verificar InteracciÃ³n</button>

                            <div id="resultadoInteraccion" style="display: none; margin-top: 1.5rem;">
                                <div class="alert" id="alertInteraccion">
                                    <div class="alert-icon">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="alert-content">
                                        <div class="alert-title" id="tituloInteraccion">InteracciÃ³n de Medicamentos</div>
                                        <p id="textoInteraccion">El resultado de la verificaciÃ³n de interacciÃ³n se mostrarÃ¡ aquÃ­.</p>
                                    </div>
                                </div>

                                <div class="card glass-inner">
                                    <h4 class="card-title"><i class="fas fa-info-circle"></i> Detalles de la InteracciÃ³n</h4>
                                    <div id="detallesInteraccion">
                                        <p><strong>Mecanismo:</strong> <span id="mecanismoInteraccion"></span></p>
                                        <p><strong>Gravedad:</strong> <span id="gravedadInteraccion" class="interaction-level"></span></p>
                                        <p><strong>RecomendaciÃ³n:</strong> <span id="recomendacionInteraccion"></span></p>
                                        <div id="factoresRiesgo">
                                            <h5><i class="fas fa-exclamation-triangle"></i> Factores de Riesgo Adicionales</h5>
                                            <div id="listaFactoresRiesgo"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card glass-inner">
                                <h4 class="card-title"><i class="fas fa-list"></i> Historial de Verificaciones</h4>
                                <div id="historialInteracciones">
                                    <p style="text-align: center; color: var(--gray);">No hay verificaciones realizadas. Realice una verificaciÃ³n para ver el historial.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SecciÃ³n PAE -->
                <section id="pae" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-notes-medical"></i> Plan de AtenciÃ³n de EnfermerÃ­a (PAE)</h3>
                            <div class="card-actions">
                                <button class="btn" id="agregarPAE"><i class="fas fa-plus"></i> Nuevo PAE</button>
                            </div>
                        </div>
                        <div class="card-body" id="historialPAE">
                            <p style="text-align: center; color: var(--gray);">No hay registros de PAE. Cree el primero haciendo clic en "Nuevo PAE".</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <footer>
            <p>MediAssist Pro ULTRA Â© 2024 - AplicaciÃ³n mÃ©dica para profesionales de la salud</p>
            <p>Esta herramienta es de uso exclusivo para personal mÃ©dico autorizado</p>
        </footer>

        <!-- Modal para agregar PAE -->
        <div class="modal" id="paeModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-notes-medical"></i> Nuevo Plan de AtenciÃ³n de EnfermerÃ­a</h3>
                    <button class="modal-close" id="closePaeModal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="formularioPAE">
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-user-injured"></i> Nombre del paciente:</label>
                            <input type="text" class="form-control" id="paePaciente" placeholder="Nombre del paciente">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-diagnoses"></i> DiagnÃ³stico de enfermerÃ­a:</label>
                            <textarea class="form-control" id="paeDiagnostico" rows="3" placeholder="Ej: Riesgo de infecciÃ³n relacionado con herida quirÃºrgica"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-bullseye"></i> Objetivos:</label>
                            <textarea class="form-control" id="paeObjetivos" rows="3" placeholder="Ej: El paciente mantendrÃ¡ la herida limpia y seca sin signos de infecciÃ³n en 72 horas"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-hand-holding-medical"></i> Intervenciones:</label>
                            <textarea class="form-control" id="paeIntervenciones" rows="3" placeholder="Ej: Cambio de apÃ³sito estÃ©ril cada 24 horas, observaciÃ³n de signos de infecciÃ³n, educaciÃ³n del paciente"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-clipboard-check"></i> EvaluaciÃ³n:</label>
                            <textarea class="form-control" id="paeEvaluacion" rows="3" placeholder="Ej: Herida sin signos de infecciÃ³n, paciente informa disminuciÃ³n del dolor"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" id="cancelPae">Cancelar</button>
                    <button class="btn" id="guardarPAE"><i class="fas fa-save"></i> Guardar PAE</button>
                </div>
            </div>
        </div>

        <div class="notification" id="notification">
            <i class="fas fa-check-circle"></i>
            <span id="notificationMessage">AcciÃ³n realizada con Ã©xito</span>
        </div>

    </div>

    <script>
        // Datos de Ã¡reas hospitalarias
        const areasData = {
            'urgencias': {
                titulo: 'Urgencias',
                descripcion: 'AtenciÃ³n inmediata a pacientes con condiciones mÃ©dicas agudas. Servicio 24/7 con equipo multidisciplinar.',
                personal: 'Dr. Juan PÃ©rez (MÃ©dico de Urgencias), Dra. MarÃ­a LÃ³pez (TraumatÃ³loga), Enf. Carlos GÃ³mez (Enfermero de Urgencias)',
                contacto: 'Tfno: 900 123 456, Ext: 101, Email: urgencias@hospital.com'
            },
            'recepcion': {
                titulo: 'RecepciÃ³n',
                descripcion: 'Punto de informaciÃ³n y registro de pacientes. AtenciÃ³n al pÃºblico y gestiÃ³n administrativa.',
                personal: 'Srta. Ana MartÃ­nez (Recepcionista), Sr. David Ruiz (Coordinador Administrativo)',
                contacto: 'Tfno: 900 123 456, Ext: 100, Email: recepcion@hospital.com'
            },
            'farmacia': {
                titulo: 'Farmacia',
                descripcion: 'DispensaciÃ³n de medicamentos y asesoramiento farmacÃ©utico. Horario: 8:00-20:00.',
                personal: 'Dra. Laura SÃ¡nchez (FarmacÃ©utica Jefe), Dr. Pablo DÃ­az (FarmacÃ©utico)',
                contacto: 'Tfno: 900 123 456, Ext: 105, Email: farmacia@hospital.com'
            },
            'quirÃ³fano': {
                titulo: 'QuirÃ³fano',
                descripcion: 'Salas de intervenciÃ³n quirÃºrgica. Equipadas con tecnologÃ­a avanzada para cirugÃ­as generales, traumatologÃ­a y neurocirugÃ­a.',
                personal: 'Dr. Roberto FernÃ¡ndez (Cirujano General), Enf. Elena Castro (Instrumentista)',
                contacto: 'Tfno: 900 123 456, Ext: 201, Email: quirÃ³fano@hospital.com'
            },
            'uci': {
                titulo: 'Unidad de Cuidados Intensivos (UCI)',
                descripcion: 'AtenciÃ³n especializada para pacientes crÃ­ticos. MonitorizaciÃ³n continua y soporte vital avanzado.',
                personal: 'Dra. Patricia GÃ³mez (Intensivista), Dr. Miguel Ãngel Torres (NeurÃ³logo)',
                contacto: 'Tfno: 900 123 456, Ext: 205, Email: uci@hospital.com'
            },
            'maternidad': {
                titulo: 'Maternidad',
                descripcion: 'AtenciÃ³n al parto, sala de dilataciÃ³n y postparto. Cuidado neonatal y unidad de cuidados intensivos neonatales.',
                personal: 'Dra. Isabel RamÃ­rez (GinecÃ³loga), Enf. Marta JimÃ©nez (Matrona)',
                contacto: 'Tfno: 900 123 456, Ext: 301, Email: maternidad@hospital.com'
            },
            'rayosx': {
                titulo: 'Rayos X',
                descripcion: 'Servicio de radiologÃ­a diagnÃ³stica. RadiografÃ­as, fluoroscopia, mamografÃ­a y densitometrÃ­a Ã³sea.',
                personal: 'Dr. Francisco HernÃ¡ndez (RadiÃ³logo), TÃ©c. Laura Ortiz (TÃ©cnico de Rayos X)',
                contacto: 'Tfno: 900 123 456, Ext: 210, Email: rayosx@hospital.com'
            },
            'neurologia': {
                titulo: 'NeurologÃ­a',
                descripcion: 'DiagnÃ³stico y tratamiento de enfermedades del sistema nervioso central y perifÃ©rico.',
                personal: 'Dr. Alberto Vargas (NeurÃ³logo), Dra. Silvia Mendoza (NeuropsicÃ³loga)',
                contacto: 'Tfno: 900 123 456, Ext: 401, Email: neurologia@hospital.com'
            },
            'cardiologia': {
                titulo: 'CardiologÃ­a',
                descripcion: 'EvaluaciÃ³n y tratamiento de enfermedades del corazÃ³n y sistema circulatorio. Unidad coronaria y hemodinÃ¡mica.',
                personal: 'Dr. JosÃ© Luis Navarro (CardiÃ³logo), Dra. Beatriz Paredes (ElectrofisiÃ³loga)',
                contacto: 'Tfno: 900 123 456, Ext: 405, Email: cardiologia@hospital.com'
            },
            'oncologia': {
                titulo: 'OncologÃ­a',
                descripcion: 'DiagnÃ³stico y tratamiento del cÃ¡ncer. Quimioterapia, radioterapia y cuidados paliativos.',
                personal: 'Dr. Manuel Castro (OncÃ³logo MÃ©dico), Dra. Raquel SuÃ¡rez (OncÃ³loga RadioterÃ¡pica)',
                contacto: 'Tfno: 900 123 456, Ext: 410, Email: oncologia@hospital.com'
            },
            'pediatria': {
                titulo: 'PediatrÃ­a',
                descripcion: 'AtenciÃ³n mÃ©dica especializada para niÃ±os y adolescentes. Consultas externas y hospitalizaciÃ³n.',
                personal: 'Dra. Carmen Rivas (Pediatra), Dr. Daniel Ortega (NeonatÃ³logo)',
                contacto: 'Tfno: 900 123 456, Ext: 501, Email: pediatria@hospital.com'
            },
            'laboratorio': {
                titulo: 'Laboratorio',
                descripcion: 'AnÃ¡lisis clÃ­nicos y pruebas de diagnÃ³stico. Resultados en 24-48 horas.',
                personal: 'Dr. Ignacio Molina (BioquÃ­mico), TÃ©c. Ana BelÃ©n LÃ³pez (TÃ©cnico de Laboratorio)',
                contacto: 'Tfno: 900 123 456, Ext: 215, Email: laboratorio@hospital.com'
            }
        };

        // Datos de primeros auxilios
        const firstAidData = {
            'traumatismos': `
                <div class="glass-inner">
                    <h4><i class="fas fa-bone"></i> Fracturas</h4>
                    <p>SÃ­ntomas: dolor intenso, deformidad, hinchazÃ³n, imposibilidad de mover la extremidad.</p>
                    <ol>
                        <li>Inmovilice la zona afectada sin tratar de realinear el hueso</li>
                        <li>Aplicar frÃ­o para reducir la hinchazÃ³n (no hielo directo)</li>
                        <li>ElevaciÃ³n de la extremidad si es posible</li>
                        <li>Control del dolor si estÃ¡ permitido</li>
                        <li>Buscar atenciÃ³n mÃ©dica inmediata</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-skull"></i> Fractura de CrÃ¡neo</h4>
                    <p>SÃ­ntomas: pÃ©rdida de conciencia, vÃ³mitos, sangre o lÃ­quido por oÃ­do/nariz, pupilas desiguales.</p>
                    <ol>
                        <li>Mantenga al paciente acostado y quieto</li>
                        <li>No taponar orificios por donde sale lÃ­quido</li>
                        <li>No dar alimentos ni bebidas</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-spine"></i> Fractura de Columna</h4>
                    <ol>
                        <li>No mover al paciente a menos que haya peligro inminente</li>
                        <li>Mantener alineaciÃ³n cabeza-cuello-columna</li>
                        <li>Si debe moverlo, hacerlo como una sola unidad (tÃ©cnica de log roll)</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
            `,
            'hemorragias': `
                <div class="glass-inner">
                    <h4><i class="fas fa-tint"></i> Hemorragia Externa</h4>
                    <ol>
                        <li>Aplicar presiÃ³n directa sobre la herida con gasa estÃ©ril o tela limpia</li>
                        <li>Elevar la extremidad por encima del nivel del corazÃ³n si es posible</li>
                        <li>Aplicar vendaje compresivo si la hemorragia continÃºa</li>
                        <li>Si hay un objeto incrustado, no lo retire; aplique presiÃ³n alrededor del objeto</li>
                        <li>Llame al 112 si la hemorragia no cede o es muy abundante</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-arrow-down"></i> Hemorragia Interna</h4>
                    <p>SÃ­ntomas: palidez, sudoraciÃ³n, pulso rÃ¡pido y dÃ©bil, confusiÃ³n, dolor abdominal o torÃ¡cico, hematomas sin causa aparente.</p>
                    <ol>
                        <li>Mantenga al paciente acostado y quieto</li>
                        <li>Eleve las piernas si no hay lesiÃ³n en columna</li>
                        <li>Administre oxÃ­geno si estÃ¡ disponible</li>
                        <li>No administre alimentos ni bebidas</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-ambulance"></i> Hemorragia Nasal</h4>
                    <ol>
                        <li>Siente al paciente con la cabeza ligeramente inclinada hacia delante</li>
                        <li>PÃ­dale que se pinche la nariz con los dedos durante 10-15 minutos</li>
                        <li>No introduzca nada en la nariz</li>
                        <li>Si la hemorragia persiste mÃ¡s de 20 minutos, busque atenciÃ³n mÃ©dica</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-tint-slash"></i> Hemorragia Dental</h4>
                    <ol>
                        <li>Aplicar presiÃ³n con gasa estÃ©ril sobre la encÃ­a</li>
                        <li>Si hay un diente extraÃ­do, colocar gasa en el alveolo y pedir que muerda</li>
                        <li>Aplicar frÃ­o externo en la zona</li>
                        <li>Evitar enjuagues bucales durante las primeras 24 horas</li>
                    </ol>
                </div>
            `,
            'quemaduras': `
                <div class="glass-inner">
                    <h4><i class="fas fa-fire"></i> ClasificaciÃ³n de Quemaduras</h4>
                    <ul>
                        <li><strong>1er grado:</strong> Enrojecimiento, dolor (ej: quemadura solar)</li>
                        <li><strong>2do grado:</strong> Ampollas, dolor intenso</li>
                        <li><strong>3er grado:</strong> DestrucciÃ³n de tejidos, puede no doler por daÃ±o nervioso</li>
                    </ul>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-band-aid"></i> Tratamiento</h4>
                    <ol>
                        <li>Enfriar la quemadura con agua corriente durante 10-15 minutos</li>
                        <li>Cubrir con gasa estÃ©ril o tela limpia</li>
                        <li>Prevenir hipotermia</li>
                        <li>Valorar necesidad de traslado a unidad especializada</li>
                        <li>Aplicar fÃ³rmula de Parkland si >20% superficie corporal</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-skull"></i> Traumatismo CraneoencefÃ¡lico</h4>
                    <ul>
                        <li>Mantener inmovilizaciÃ³n cervical</li>
                        <li>Controlar vÃ­a aÃ©rea, respiraciÃ³n y circulaciÃ³n</li>
                        <li>Monitoreo neurolÃ³gico (escala de Glasgow)</li>
                        <li>Evitar hipercapnia e hipotensiÃ³n</li>
                        <li>Preparar para TC craneal</li>
                    </ul>
                </div>
            `,
            'ahogamiento': `
                <div class="glass-inner">
                    <h4><i class="fas fa-swimmer"></i> Rescate AcuÃ¡tico</h4>
                    <ol>
                        <li>No entre al agua a menos que estÃ© capacitado y sea seguro</li>
                        <li>Use objetos flotantes para acercar al paciente a la orilla</li>
                        <li>Si debe entrar, use equipo de flotaciÃ³n y evite el contacto directo si el paciente estÃ¡ agitado</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-heartbeat"></i> EvaluaciÃ³n y RCP</h4>
                    <ol>
                        <li>Saque al paciente del agua con cuidado</li>
                        <li>Verifique respuesta: "Â¡Oiga! Â¿EstÃ¡ bien?"</li>
                        <li>Si no responde, llame al 112</li>
                        <li>Comience la RCP inmediatamente si no hay pulso</li>
                        <li>El riesgo de vÃ³mito es alto; si ocurre, gire al paciente de lado y limpie la boca</li>
                        <li>El hipotermia es comÃºn; mantenga al paciente caliente una vez estabilizado</li>
                    </ol>
                </div>
            `,
            'intoxicacion': `
                <div class="glass-inner">
                    <h4><i class="fas fa-pills"></i> IntoxicaciÃ³n por Medicamentos</h4>
                    <ol>
                        <li>Verifique estado de conciencia y respiraciÃ³n</li>
                        <li>Busque envases o restos del medicamento</li>
                        <li>No induzca el vÃ³mito a menos que lo indique un profesional</li>
                        <li>No administre leche, carbÃ³n activado u otros remedios caseros</li>
                        <li>Llame al 112 o al Servicio de InformaciÃ³n ToxicolÃ³gica</li>
                        <li>Proporcione informaciÃ³n sobre el medicamento, cantidad y hora de ingestiÃ³n</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-gas-pump"></i> IntoxicaciÃ³n por Gases</h4>
                    <ol>
                        <li>Salga del Ã¡rea contaminada si es seguro</li>
                        <li>Abrir ventanas y puertas para ventilar</li>
                        <li>Apague fuentes de igniciÃ³n si es seguro</li>
                        <li>Saque al paciente al aire libre</li>
                        <li>Administre oxÃ­geno si estÃ¡ disponible</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-utensils"></i> IntoxicaciÃ³n Alimentaria</h4>
                    <ol>
                        <li>Detenga la ingestiÃ³n del alimento sospechoso</li>
                        <li>Mantenga al paciente hidratado con pequeÃ±os sorbos de agua</li>
                        <li>No administre antiemÃ©ticos o antidiarreicos sin indicaciÃ³n mÃ©dica</li>
                        <li>Guarde una muestra del alimento si es posible</li>
                        <li>Busque atenciÃ³n mÃ©dica si hay fiebre alta, sangre en vÃ³mitos o deposiciones, o signos de deshidrataciÃ³n</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-leaf"></i> IntoxicaciÃ³n por Plantas</h4>
                    <ol>
                        <li>Identifique la planta si es posible</li>
                        <li>No induzca el vÃ³mito</li>
                        <li>Lave la boca con agua</li>
                        <li>Llame al Servicio de InformaciÃ³n ToxicolÃ³gica</li>
                        <li>Guarde una muestra de la planta o vÃ³mito si es posible</li>
                    </ol>
                </div>
            `,
            'rce': `
                <div class="rcp-step">
                    <h4><i class="fas fa-user-check"></i> 1. EvaluaciÃ³n inicial</h4>
                    <p>Verifique la respuesta del paciente: "Â¡Oiga! Â¿EstÃ¡ bien?". Si no hay respuesta, llame a emergencias (112) y pida un DEA. EnvÃ­e a alguien a buscar el DEA mientras usted comienza la RCP.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-heartbeat"></i> 2. ComprobaciÃ³n de pulso y respiraciÃ³n</h4>
                    <p>Compruebe pulso carotÃ­deo durante 5-10 segundos. Si no hay pulso o no estÃ¡ seguro, comience la RCP inmediatamente. No pase mÃ¡s de 10 segundos en esta comprobaciÃ³n.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-hands"></i> 3. Compresiones torÃ¡cicas</h4>
                    <p>Realice compresiones en el centro del pecho a una profundidad de 5-6 cm a una frecuencia de 100-120 por minuto. Permita que el pecho se reexpanda completamente entre compresiones.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
                    <p>DespuÃ©s de 30 compresiones, realice 2 ventilaciones de 1 segundo cada una, observando la elevaciÃ³n del pecho. Si no estÃ¡ capacitado en ventilaciones, realice solo compresiones torÃ¡cicas.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
                    <p>Cuando llegue el DEA, enciÃ©ndalo y siga las instrucciones. AsegÃºrese de que nadie toque al paciente durante el anÃ¡lisis. Si se recomienda una descarga, asegÃºrese de que todos estÃ©n alejados y active la descarga.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-clipboard-check"></i> 6. Continuar RCP</h4>
                    <p>ContinÃºe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda mÃ©dica, el paciente muestre signos de vida, o usted estÃ© demasiado cansado para continuar.</p>
                </div>
            `
        };

        // Datos para calculadoras
        const calculatorsData = {
            'imc': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-weight"></i> Peso (kg):</label>
                    <input type="number" class="form-control" id="pesoIMC" placeholder="Ej: 70">
                </div>
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-ruler-vertical"></i> Altura (cm):</label>
                    <input type="number" class="form-control" id="alturaIMC" placeholder="Ej: 170">
                </div>
                <button class="btn" id="calcularIMC"><i class="fas fa-calculator"></i> Calcular IMC</button>
                <div id="resultadoIMC" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 class="card-title">Resultado del IMC</h4>
                        <div class="grid-2">
                            <div>
                                <p><strong>IMC:</strong> <span id="valorIMC"></span> kg/mÂ²</p>
                                <p><strong>ClasificaciÃ³n:</strong> <span id="clasificacionIMC"></span></p>
                            </div>
                            <div>
                                <p><strong>Peso ideal:</strong> <span id="pesoIdeal"></span> kg</p>
                                <p><strong>Diferencia:</strong> <span id="diferenciaPeso"></span> kg</p>
                            </div>
                        </div>
                        <div class="progress-container">
                            <div class="progress-text">Nivel de riesgo: <span id="nivelRiesgo"></span></div>
                            <div class="progress-bar" id="barraRiesgo" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            `,
            'cardio': `
                <div class="grid-2">
                    <div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-user"></i> Edad:</label>
                            <input type="number" class="form-control" id="edadCardio" placeholder="Ej: 45">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-venus-mars"></i> Sexo:</label>
                            <select class="form-control" id="sexoCardio">
                                <option value="">Seleccionar</option>
                                <option value="masculino">Masculino</option>
                                <option value="femenino">Femenino</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-heart"></i> PresiÃ³n arterial sistÃ³lica (mmHg):</label>
                            <input type="number" class="form-control" id="pasCardio" placeholder="Ej: 120">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-smoking"></i> Â¿Fumador?</label>
                            <select class="form-control" id="fumadorCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">SÃ­</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-chart-line"></i> Colesterol total (mg/dL):</label>
                            <input type="number" class="form-control" id="colesterolCardio" placeholder="Ej: 200">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-heartbeat"></i> HDL (mg/dL):</label>
                            <input type="number" class="form-control" id="hdlCardio" placeholder="Ej: 50">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-diabetes"></i> Â¿Diabetes?</label>
                            <select class="form-control" id="diabetesCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">SÃ­</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-prescription"></i> Â¿Tratamiento para hipertensiÃ³n?</label>
                            <select class="form-control" id="htaCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">SÃ­</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button class="btn" id="calcularCardio"><i class="fas fa-calculator"></i> Calcular Riesgo</button>
                <div id="resultadoCardio" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 class="card-title">Resultado del Riesgo Cardiovascular</h4>
                        <p><strong>Riesgo a 10 aÃ±os:</strong> <span id="riesgoCardio"></span>%</p>
                        <p><strong>ClasificaciÃ³n:</strong> <span id="clasificacionCardio"></span></p>
                        <p><strong>Recomendaciones:</strong> <span id="recomendacionesCardio"></span></p>
                    </div>
                </div>
            `,
            'medicamentos': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-pills"></i> Nombre del medicamento:</label>
                    <input type="text" class="form-control" id="buscadorMedicamento" placeholder="Ej: Paracetamol, Ibuprofeno...">
                </div>
                <button class="btn" id="buscarMedicamentoBtn"><i class="fas fa-search"></i> Buscar Medicamento</button>
                <div id="resultadoMedicamento" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 id="nombreMedicamento" class="card-title" style="font-size: var(--font-size-xl); margin-bottom: 1rem;"></h4>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-flask"></i> Principio activo:</label>
                            <p id="principioActivo"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-notes-medical"></i> Indicaciones:</label>
                            <p id="indicaciones"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-ban"></i> Contraindicaciones:</label>
                            <p id="contraindicaciones"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-exclamation-triangle"></i> Efectos secundarios:</label>
                            <p id="efectosSecundarios"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-prescription"></i> Dosis habitual:</label>
                            <p id="dosis"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-exclamation-circle"></i> Advertencias:</label>
                            <p id="advertencias"></p>
                        </div>
                    </div>
                </div>
            `
        };

        // Datos de interacciones de medicamentos
        const interaccionesData = [
            {
                medicamento1: 'paracetamol',
                medicamento2: 'alcohol',
                nivel: 'severe',
                titulo: 'CombinaciÃ³n Peligrosa: Paracetamol y Alcohol',
                descripcion: 'CombinaciÃ³n extremadamente peligrosa que puede causar daÃ±o hepÃ¡tico severo e incluso fallo hepÃ¡tico agudo.',
                mecanismo: 'El alcohol aumenta la toxicidad del paracetamol al inducir las enzimas del citocromo P450, especialmente CYP2E1, que convierten el paracetamol en un metabolito tÃ³xico (NAPQI). SimultÃ¡neamente, el alcohol reduce la disponibilidad de glutatiÃ³n, que es necesario para desintoxicar este metabolito.',
                recomendacion: 'Evitar completamente la combinaciÃ³n. Si se consume alcohol regularmente, reducir significativamente la dosis de paracetamol o usar alternativas. En caso de sobredosis, administrar N-acetilcisteÃ­na inmediatamente.',
                factoresRiesgo: [
                    'Consumo crÃ³nico de alcohol',
                    'MalnutriciÃ³n',
                    'Insuficiencia hepÃ¡tica preexistente',
                    'Dosis altas de paracetamol (>4g/dÃ­a)',
                    'Uso prolongado de la combinaciÃ³n'
                ]
            },
            {
                medicamento1: 'paracetamol',
                medicamento2: 'warfarina',
                nivel: 'moderate',
                titulo: 'InteracciÃ³n: Paracetamol y Warfarina',
                descripcion: 'El paracetamol puede potenciar el efecto anticoagulante de la warfarina, aumentando el riesgo de hemorragia.',
                mecanismo: 'El paracetamol en dosis altas (>2g/dÃ­a) durante perÃ­odos prolongados puede inhibir la agregaciÃ³n plaquetaria y potenciar el efecto anticoagulante de la warfarina, posiblemente mediante mecanismos que no estÃ¡n completamente claros pero que podrÃ­an incluir efectos sobre la sÃ­ntesis de factores de coagulaciÃ³n.',
                recomendacion: 'Monitorizar el INR mÃ¡s frecuentemente cuando se inicie o detenga el tratamiento con paracetamol. Considerar reducir la dosis de warfarina si se requiere paracetamol a largo plazo. Preferir dosis bajas de paracetamol (<2g/dÃ­a) si es posible.',
                factoresRiesgo: [
                    'Dosis altas de paracetamol (>2g/dÃ­a)',
                    'Tratamiento prolongado con paracetamol (>1 semana)',
                    'INR inestable previamente',
                    'Edad avanzada',
                    'Historia previa de hemorragia'
                ]
            },
            {
                medicamento1: 'ibuprofeno',
                medicamento2: 'aspirina',
                nivel: 'moderate',
                titulo: 'InteracciÃ³n: Ibuprofeno y Aspirina',
                descripcion: 'El ibuprofeno puede interferir con el efecto antiagregante plaquetario de la aspirina cuando se toman juntos.',
                mecanismo: 'El ibuprofeno compite con la aspirina por el sitio activo de la ciclooxigenasa-1 (COX-1) en las plaquetas. Si el ibuprofeno se toma antes que la aspirina, puede bloquear el acceso de la aspirina a su sitio de acciÃ³n, reduciendo su efecto antiagregante y potencialmente aumentando el riesgo de eventos cardiovasculares en pacientes que toman aspirina para prevenciÃ³n secundaria.',
                recomendacion: 'Evitar el uso regular de ibuprofeno en pacientes que toman aspirina para prevenciÃ³n cardiovascular. Si es necesario, tomar la aspirina al menos 30 minutos antes del ibuprofeno o 8 horas despuÃ©s. Considerar alternativas como el paracetamol o naproxeno.',
                factoresRiesgo: [
                    'Uso crÃ³nico de ibuprofeno',
                    'Pacientes con enfermedad cardiovascular establecida',
                    'Dosis altas de ibuprofeno',
                    'Edad avanzada',
                    'Historia de enfermedad cardiovascular'
                ]
            },
            {
                medicamento1: 'ibuprofeno',
                medicamento2: 'warfarina',
                nivel: 'moderate',
                titulo: 'InteracciÃ³n: Ibuprofeno y Warfarina',
                descripcion: 'CombinaciÃ³n que aumenta significativamente el riesgo de hemorragia gastrointestinal y sistÃ©mica.',
                mecanismo: 'Los AINEs como el ibuprofeno inhiben la ciclooxigenasa-1 (COX-1), reduciendo la producciÃ³n de prostaglandinas gastroprotectores y aumentando el riesgo de Ãºlceras gÃ¡stricas. AdemÃ¡s, afectan la funciÃ³n plaquetaria. Cuando se combinan con anticoagulantes como la warfarina, el riesgo de hemorragia se multiplica.',
                recomendacion: 'Evitar la combinaciÃ³n si es posible. Si es necesaria, usar la dosis mÃ¡s baja de ibuprofeno durante el menor tiempo posible. Considerar la coadministraciÃ³n con un protector gÃ¡strico (omeprazol o pantoprazol). Monitorizar el INR mÃ¡s frecuentemente.',
                factoresRiesgo: [
                    'Edad > 65 aÃ±os',
                    'Historia previa de Ãºlcera gÃ¡strica o hemorragia digestiva',
                    'Dosis altas de warfarina (INR > 3)',
                    'Uso concomitante de corticosteroides',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'omeprazol',
                medicamento2: 'clopidogrel',
                nivel: 'moderate',
                titulo: 'InteracciÃ³n: Omeprazol y Clopidogrel',
                descripcion: 'El omeprazol puede reducir la eficacia del clopidogrel, aumentando el riesgo de eventos cardiovasculares.',
                mecanismo: 'El clopidogrel es un profÃ¡rmaco que requiere activaciÃ³n por la enzima CYP2C19. El omeprazol es un inhibidor potente de CYP2C19, lo que reduce significativamente la conversiÃ³n del clopidogrel a su metabolito activo, disminuyendo su efecto antiagregante.',
                recomendacion: 'Evitar la combinaciÃ³n de omeprazol con clopidogrel. Si es necesario un IBP, usar pantoprazol (menos inhibidor de CYP2C19) o dexlansoprazol. Considerar alternativas como la ranitidina si es apropiado. Monitorear la funciÃ³n plaquetaria si no se puede evitar la combinaciÃ³n.',
                factoresRiesgo: [
                    'Pacientes con stent coronario reciente',
                    'Pacientes con infarto de miocardio reciente',
                    'Pacientes con accidente cerebrovascular isquÃ©mico',
                    'Dosis altas de omeprazol',
                    'Genotipo CYP2C19 pobre metabolizador'
                ]
            },
            {
                medicamento1: 'simvastatina',
                medicamento2: 'jugo de toronja',
                nivel: 'severe',
                titulo: 'CombinaciÃ³n Peligrosa: Simvastatina y Jugo de Toronja',
                descripcion: 'CombinaciÃ³n extremadamente peligrosa que puede causar rabdomiÃ³lisis y fallo renal agudo.',
                mecanismo: 'El jugo de toronja inhibe fuertemente la enzima CYP3A4 en el intestino delgado, que es responsable del metabolismo de la simvastatina. Esto lleva a un aumento de 10-15 veces en la biodisponibilidad de la simvastatina, causando niveles plasmÃ¡ticos tÃ³xicos que pueden daÃ±ar gravemente los mÃºsculos.',
                recomendacion: 'Evitar completamente el jugo de toronja y toronjas mientras se toma simvastatina. Informar al paciente sobre esta interacciÃ³n crÃ­tica. Si se requiere un estatin, considerar alternativas como pravastatina o rosuvastatina que no dependen del metabolismo por CYP3A4.',
                factoresRiesgo: [
                    'Dosis altas de simvastatina (>20mg/dÃ­a)',
                    'Edad > 65 aÃ±os',
                    'Insuficiencia renal',
                    'Hipotiroidismo no tratado',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'warfarina',
                medicamento2: 'aspirina',
                nivel: 'severe',
                titulo: 'CombinaciÃ³n de Alto Riesgo: Warfarina y Aspirina',
                descripcion: 'CombinaciÃ³n que aumenta dramÃ¡ticamente el riesgo de hemorragia grave, incluyendo hemorragia gastrointestinal y hemorragia cerebral.',
                mecanismo: 'La warfarina inhibe la sÃ­ntesis de factores de coagulaciÃ³n dependientes de la vitamina K, mientras que la aspirina inhibe la agregaciÃ³n plaquetaria. La combinaciÃ³n de estos dos mecanismos antitrombÃ³ticos tiene un efecto sinÃ©rgico en la prolongaciÃ³n del tiempo de sangrado, multiplicando el riesgo de hemorragia.',
                recomendacion: 'Evitar la combinaciÃ³n salvo en indicaciones especÃ­ficas y bien justificadas (como en ciertos casos de fibrilaciÃ³n auricular con enfermedad coronaria). Si se usa, monitorizar el INR mÃ¡s frecuentemente y educar al paciente sobre los signos de hemorragia. Considerar alternativas como inhibidores del factor Xa (apixaban, rivaroxaban) que pueden tener perfiles de seguridad mejores en algunas situaciones.',
                factoresRiesgo: [
                    'Edad > 75 aÃ±os',
                    'Historia previa de hemorragia gastrointestinal',
                    'HipertensiÃ³n mal controlada',
                    'Insuficiencia renal',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'warfarina',
                medicamento2: 'ibuprofeno',
                nivel: 'severe',
                titulo: 'CombinaciÃ³n Peligrosa: Warfarina e Ibuprofeno',
                descripcion: 'CombinaciÃ³n extremadamente peligrosa que aumenta el riesgo de hemorragia gastrointestinal severa y hemorragia sistÃ©mica.',
                mecanismo: 'La warfarina altera la coagulaciÃ³n sanguÃ­nea, mientras que el ibuprofeno daÃ±a la mucosa gÃ¡strica y afecta la funciÃ³n plaquetaria. La combinaciÃ³n crea un "efecto doble" que aumenta exponencialmente el riesgo de hemorragia, especialmente en el tracto gastrointestinal.',
                recomendacion: 'Evitar completamente la combinaciÃ³n. Si se necesita analgesia, usar paracetamol como alternativa. Si es absolutamente necesario usar un AINE, considerar uno con menor riesgo gastrointestinal como el celecoxib con protecciÃ³n gÃ¡strica (omeprazol), pero solo por periodos muy cortos y con monitorizaciÃ³n estrecha.',
                factoresRiesgo: [
                    'Edad > 65 aÃ±os',
                    'Historia de Ãºlcera pÃ©ptica',
                    'INR > 3',
                    'Uso concomitante de corticosteroides',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'omeprazol',
                medicamento2: 'metotrexato',
                nivel: 'moderate',
                titulo: 'InteracciÃ³n: Omeprazol y Metotrexato',
                descripcion: 'El omeprazol puede aumentar los niveles y toxicidad del metotrexato, especialmente en dosis altas.',
                mecanismo: 'El omeprazol puede competir con el metotrexato por la secreciÃ³n tubular renal, reduciendo la eliminaciÃ³n del metotrexato y aumentando sus niveles plasmÃ¡ticos. Esto es especialmente relevante con dosis altas de metotrexato utilizadas en oncologÃ­a.',
                recomendacion: 'Evitar la combinaciÃ³n durante la administraciÃ³n de metotrexato de alta dosis. Si es necesaria, suspender el omeprazol temporalmente durante el tratamiento con metotrexato y reanudarlo despuÃ©s. Monitorizar los niveles de metotrexato y signos de toxicidad (mucositis, mielosupresiÃ³n).',
                factoresRiesgo: [
                    'Dosis altas de metotrexato (>500mg/mÂ²)',
                    'Insuficiencia renal',
                    'DesnutriciÃ³n',
                    'Edad avanzada',
                    'Uso concomitante de otros nefrotÃ³xicos'
                ]
            },
            {
                medicamento1: 'simvastatina',
                medicamento2: 'eritromicina',
                nivel: 'severe',
                titulo: 'CombinaciÃ³n Peligrosa: Simvastatina y Eritromicina',
                descripcion: 'CombinaciÃ³n extremadamente peligrosa que puede causar rabdomiÃ³lisis y fallo renal agudo.',
                mecanismo: 'La eritromicina es un inhibidor potente del citocromo P450 3A4 (CYP3A4), la misma enzima que metaboliza la simvastatina. Esto lleva a un aumento dramÃ¡tico en los niveles plasmÃ¡ticos de simvastatina, aumentando el riesgo de toxicidad muscular.',
                recomendacion: 'Evitar completamente la combinaciÃ³n. Si se necesita un antibiÃ³tico macrÃ³lido, considerar azitromicina como alternativa (menos inhibidora de CYP3A4). Si no se puede evitar, suspender temporalmente la simvastatina durante el tratamiento con eritromicina. Considerar alternativas como pravastatina o fluvastatina que no dependen de CYP3A4.',
                factoresRiesgo: [
                    'Dosis altas de simvastatina (>20mg/dÃ­a)',
                    'Insuficiencia renal',
                    'Hipotiroidismo',
                    'Edad > 65 aÃ±os',
                    'Uso concomitante de otros medicamentos que afectan CYP3A4'
                ]
            }
        ];

        // Estado actual
        let currentSection = 'inicio';
        let paeRecords = [];
        let interaccionRecords = [];

        // Funciones auxiliares
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notificationMessage');
            
            notificationMessage.textContent = message;
            notification.className = 'notification';
            
            if (type === 'danger') {
                notification.classList.add('notification-danger');
                notification.querySelector('i').className = 'fas fa-exclamation-circle';
            } else if (type === 'warning') {
                notification.classList.add('notification-warning');
                notification.querySelector('i').className = 'fas fa-exclamation-triangle';
            } else {
                notification.classList.add('notification-success');
                notification.querySelector('i').className = 'fas fa-check-circle';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function setActiveSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar la secciÃ³n seleccionada
            document.getElementById(sectionId).classList.add('active');
            
            // Actualizar navegaciÃ³n
            document.querySelectorAll('nav a, .sidebar a').forEach(link => {
                link.classList.remove('active');
            });
            
            document.querySelectorAll(`nav a[href="#${sectionId}"], .sidebar a[href="#${sectionId}"]`).forEach(link => {
                link.classList.add('active');
            });
            
            currentSection = sectionId;
        }

        function setActiveTab(tabs, tabId) {
            tabs.forEach(tab => {
                tab.classList.remove('active');
                const content = document.getElementById(tab.getAttribute('data-tab'));
                if (content) content.classList.remove('active');
            });
            
            const activeTab = document.querySelector(`.tab[data-tab="${tabId}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
                const content = document.getElementById(tabId);
                if (content) content.classList.add('active');
            }
        }

        // Funciones de secciones
        function loadAreaContent(areaName) {
            const data = areasData[areaName];
            if (data) {
                document.getElementById('areaContent').innerHTML = `
                    <div class="glass-inner">
                        <h4><i class="fas fa-building"></i> ${data.titulo}</h4>
                        <p><i class="fas fa-info-circle"></i> ${data.descripcion}</p>
                        <p><i class="fas fa-user-md"></i> <strong>Personal:</strong> ${data.personal}</p>
                        <p><i class="fas fa-phone"></i> <strong>Contacto:</strong> ${data.contacto}</p>
                    </div>
                `;
            }
        }

        function loadFirstAidContent(category) {
            document.getElementById('firstAidContent').innerHTML = firstAidData[category] || '';
        }

        function loadCalculatorContent(category) {
            document.getElementById('calculatorContent').innerHTML = calculatorsData[category] || '';
        }

        // Funciones de calculadoras
        function calculateIMC() {
            const peso = parseFloat(document.getElementById('pesoIMC').value);
            const altura = parseFloat(document.getElementById('alturaIMC').value) / 100;
            
            if (!peso || !altura) {
                showNotification('Por favor, complete todos los campos', 'danger');
                return;
            }
            
            const imc = peso / (altura * altura);
            let clasificacion, nivelRiesgo, color, riesgoPercent;
            
            if (imc < 18.5) {
                clasificacion = 'Bajo peso';
                nivelRiesgo = 'Bajo';
                color = '#3498db';
                riesgoPercent = 20;
            } else if (imc < 25) {
                clasificacion = 'Peso normal';
                nivelRiesgo = 'Normal';
                color = '#27ae60';
                riesgoPercent = 10;
            } else if (imc < 30) {
                clasificacion = 'Sobrepeso';
                nivelRiesgo = 'Aumentado';
                color = '#f39c12';
                riesgoPercent = 40;
            } else if (imc < 35) {
                clasificacion = 'Obesidad grado I';
                nivelRiesgo = 'Moderado';
                color = '#e67e22';
                riesgoPercent = 60;
            } else if (imc < 40) {
                clasificacion = 'Obesidad grado II';
                nivelRiesgo = 'Severo';
                color = '#e74c3c';
                riesgoPercent = 80;
            } else {
                clasificacion = 'Obesidad grado III';
                nivelRiesgo = 'Muy severo';
                color = '#c0392b';
                riesgoPercent = 100;
            }
            
            const pesoIdeal = 22 * (altura * altura);
            const diferencia = peso - pesoIdeal;
            
            document.getElementById('valorIMC').textContent = imc.toFixed(2);
            document.getElementById('clasificacionIMC').textContent = clasificacion;
            document.getElementById('pesoIdeal').textContent = pesoIdeal.toFixed(2);
            document.getElementById('diferenciaPeso').textContent = diferencia.toFixed(2);
            document.getElementById('nivelRiesgo').textContent = nivelRiesgo;
            document.getElementById('barraRiesgo').style.width = `${riesgoPercent}%`;
            document.getElementById('barraRiesgo').style.backgroundColor = color;
            
            document.getElementById('resultadoIMC').style.display = 'block';
        }

        function calculateCardioRisk() {
            const edad = parseInt(document.getElementById('edadCardio').value);
            const sexo = document.getElementById('sexoCardio').value;
            const pas = parseInt(document.getElementById('pasCardio').value);
            const fumador = document.getElementById('fumadorCardio').value;
            const colesterol = parseInt(document.getElementById('colesterolCardio').value);
            const hdl = parseInt(document.getElementById('hdlCardio').value);
            const diabetes = document.getElementById('diabetesCardio').value;
            const hta = document.getElementById('htaCardio').value;
            
            // ValidaciÃ³n de campos
            if (!edad || !sexo || !pas || !fumador || !colesterol || !hdl || !diabetes || !hta) {
                showNotification('Por favor, complete todos los campos', 'danger');
                return;
            }
            
            // CÃ¡lculo simplificado del riesgo cardiovascular
            let riesgo = 0;
            
            // Factores de riesgo
            if (edad >= 65) riesgo += 20;
            else if (edad >= 55) riesgo += 15;
            else if (edad >= 45) riesgo += 10;
            else if (edad >= 35) riesgo += 5;
            
            if (pas >= 160) riesgo += 15;
            else if (pas >= 140) riesgo += 10;
            else if (pas >= 120) riesgo += 5;
            
            if (fumador === 'si') riesgo += 10;
            if (diabetes === 'si') riesgo += 15;
            if (hta === 'si') riesgo += 10;
            
            if (colesterol >= 240) riesgo += 15;
            else if (colesterol >= 200) riesgo += 10;
            else if (colesterol >= 160) riesgo += 5;
            
            if (hdl < 40) riesgo += 10;
            else if (hdl < 50) riesgo += 5;
            
            // Ajuste por sexo
            if (sexo === 'femenino') riesgo = riesgo * 0.8;
            
            // Limitar riesgo mÃ¡ximo
            if (riesgo > 30) riesgo = 30;
            
            let clasificacion, recomendaciones;
            
            if (riesgo < 5) {
                clasificacion = 'Riesgo muy bajo';
                recomendaciones = 'Mantenga su estilo de vida saludable. Realice revisiones anuales.';
            } else if (riesgo < 10) {
                clasificacion = 'Riesgo bajo';
                recomendaciones = 'Mantenga una dieta equilibrada y ejercicio regular. Revise factores de riesgo anualmente.';
            } else if (riesgo < 20) {
                clasificacion = 'Riesgo moderado';
                recomendaciones = 'IntervenciÃ³n en factores de riesgo modificables: dieta, ejercicio, control de presiÃ³n arterial y colesterol.';
            } else {
                clasificacion = 'Riesgo alto';
                recomendaciones = 'Necesita intervenciÃ³n mÃ©dica inmediata y tratamiento intensivo de los factores de riesgo.';
            }
            
            document.getElementById('riesgoCardio').textContent = riesgo.toFixed(1);
            document.getElementById('clasificacionCardio').textContent = clasificacion;
            document.getElementById('recomendacionesCardio').textContent = recomendaciones;
            document.getElementById('resultadoCardio').style.display = 'block';
        }

        // Funciones de PAE
        function savePAE() {
            const paciente = document.getElementById('paePaciente').value;
            const diagnostico = document.getElementById('paeDiagnostico').value;
            const objetivos = document.getElementById('paeObjetivos').value;
            const intervenciones = document.getElementById('paeIntervenciones').value;
            const evaluacion = document.getElementById('paeEvaluacion').value;
            
            if (!paciente || !diagnostico) {
                showNotification('Por favor, complete al menos el nombre del paciente y el diagnÃ³stico de enfermerÃ­a.', 'danger');
                return;
            }
            
            const now = new Date();
            const fecha = now.toLocaleDateString('es-ES');
            const hora = now.toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'});
            
            const newRecord = {
                paciente,
                diagnostico,
                objetivos,
                intervenciones,
                evaluacion,
                fecha,
                hora
            };
            
            paeRecords.unshift(newRecord);
            updatePAEHistory();
            
            // Limpiar formulario
            document.getElementById('formularioPAE').reset();
            
            // Cerrar modal
            document.getElementById('paeModal').classList.remove('show');
            
            showNotification('PAE guardado correctamente');
        }

        function updatePAEHistory() {
            const historialPAE = document.getElementById('historialPAE');
            
            if (paeRecords.length === 0) {
                historialPAE.innerHTML = '<p style="text-align: center; color: var(--gray);">No hay registros de PAE. Cree el primero haciendo clic en "Nuevo PAE".</p>';
                return;
            }
            
            historialPAE.innerHTML = '';
            
            paeRecords.forEach((record, index) => {
                const paeEntry = document.createElement('div');
                paeEntry.className = 'pae-entry';
                paeEntry.innerHTML = `
                    <div class="pae-info">
                        <div class="pae-title">${record.paciente}</div>
                        <div class="pae-subtitle">${record.diagnostico}</div>
                        <div class="pae-date">${record.fecha} ${record.hora}</div>
                    </div>
                    <div class="card-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewPAE(${index})"><i class="fas fa-eye"></i> Ver</button>
                        <button class="btn btn-danger btn-sm" onclick="deletePAE(${index})"><i class="fas fa-trash"></i> Eliminar</button>
                    </div>
                    <div id="paeDetails${index}" class="glass-inner" style="display: none; margin-top: 1rem;">
                        <div class="grid-2">
                            <div>
                                <h5><i class="fas fa-bullseye"></i> Objetivos</h5>
                                <p>${record.objetivos}</p>
                            </div>
                            <div>
                                <h5><i class="fas fa-hand-holding-medical"></i> Intervenciones</h5>
                                <p>${record.intervenciones}</p>
                            </div>
                        </div>
                        <h5><i class="fas fa-clipboard-check"></i> EvaluaciÃ³n</h5>
                        <p>${record.evaluacion}</p>
                    </div>
                `;
                historialPAE.appendChild(paeEntry);
            });
        }

        function viewPAE(index) {
            const details = document.getElementById(`paeDetails${index}`);
            if (details.style.display === 'none') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
        }

        function deletePAE(index) {
            if (confirm('Â¿EstÃ¡ seguro de que desea eliminar este registro de PAE?')) {
                paeRecords.splice(index, 1);
                updatePAEHistory();
                showNotification('PAE eliminado correctamente');
            }
        }

        // Funciones de interacciones de medicamentos
        function verificarInteraccion() {
            const medicamento1 = document.getElementById('medicamento1').value;
            const medicamento2 = document.getElementById('medicamento2').value;
            
            if (!medicamento1 || !medicamento2) {
                showNotification('Por favor, seleccione ambos medicamentos.', 'danger');
                return;
            }
            
            if (medicamento1 === medicamento2) {
                document.getElementById('tituloInteraccion').textContent = 'CombinaciÃ³n con el mismo medicamento';
                document.getElementById('textoInteraccion').textContent = 'No se recomienda combinar un medicamento consigo mismo sin supervisiÃ³n mÃ©dica. Consulte con un especialista antes de hacerlo.';
                document.getElementById('alertInteraccion').className = 'alert alert-warning';
                document.getElementById('alertInteraccion').querySelector('.alert-icon i').className = 'fas fa-exclamation-triangle';
                document.getElementById('mecanismoInteraccion').textContent = 'El uso combinado de la misma sustancia puede aumentar el riesgo de efectos adversos y toxicidad sin beneficio terapÃ©utico adicional.';
                document.getElementById('gravedadInteraccion').textContent = 'Moderada';
                document.getElementById('gravedadInteraccion').className = 'interaction-level level-moderate';
                document.getElementById('recomendacionInteraccion').textContent = 'Consulte con un especialista antes de combinar un medicamento consigo mismo. Puede requerir ajuste de dosis o monitoreo adicional.';
                document.getElementById('listaFactoresRiesgo').innerHTML = '<p>No se aplican factores de riesgo adicionales especÃ­ficos para esta combinaciÃ³n.</p>';
            } else {
                // Buscar interacciÃ³n en ambas direcciones
                let interaccion = interaccionesData.find(i => 
                    (i.medicamento1 === medicamento1 && i.medicamento2 === medicamento2) ||
                    (i.medicamento1 === medicamento2 && i.medicamento2 === medicamento1)
                );
                
                if (interaccion) {
                    document.getElementById('tituloInteraccion').textContent = interaccion.titulo;
                    document.getElementById('textoInteraccion').textContent = interaccion.descripcion;
                    
                    // Establecer clase del alert segÃºn nivel
                    document.getElementById('alertInteraccion').className = `alert alert-${interaccion.nivel === 'severe' ? 'danger' : 'warning'}`;
                    document.getElementById('alertInteraccion').querySelector('.alert-icon i').className = 'fas fa-exclamation-triangle';
                    
                    document.getElementById('mecanismoInteraccion').textContent = interaccion.mecanismo;
                    document.getElementById('gravedadInteraccion').textContent = interaccion.nivel === 'severe' ? 'Severa' : 'Moderada';
                    document.getElementById('gravedadInteraccion').className = `interaction-level level-${interaccion.nivel}`;
                    document.getElementById('recomendacionInteraccion').textContent = interaccion.recomendacion;
                    
                    // Mostrar factores de riesgo
                    const factoresList = document.getElementById('listaFactoresRiesgo');
                    factoresList.innerHTML = '';
                    interaccion.factoresRiesgo.forEach(factor => {
                        const factorElement = document.createElement('div');
                        factorElement.className = 'risk-factor';
                        factorElement.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${factor}`;
                        factoresList.appendChild(factorElement);
                    });
                } else {
                    document.getElementById('tituloInteraccion').textContent = 'No se encontrÃ³ interacciÃ³n conocida';
                    document.getElementById('textoInteraccion').textContent = 'No se ha identificado una interacciÃ³n significativa entre estos medicamentos en nuestra base de datos. Sin embargo, esto no garantiza que no exista alguna interacciÃ³n. Consulte siempre con un especialista antes de combinar medicamentos.';
                    document.getElementById('alertInteraccion').className = 'alert alert-success';
                    document.getElementById('alertInteraccion').querySelector('.alert-icon i').className = 'fas fa-check-circle';
                    document.getElementById('mecanismoInteraccion').textContent = 'No se ha documentado una interacciÃ³n significativa entre estos medicamentos.';
                    document.getElementById('gravedadInteraccion').textContent = 'Ninguna';
                    document.getElementById('gravedadInteraccion').className = 'interaction-level level-minor';
                    document.getElementById('recomendacionInteraccion').textContent = 'Puede usar ambos medicamentos segÃºn indicaciÃ³n, pero siga monitoreando al paciente para detectar cualquier efecto adverso inesperado.';
                    document.getElementById('listaFactoresRiesgo').innerHTML = '<p>No se identificaron factores de riesgo especÃ­ficos para esta combinaciÃ³n.</p>';
                }
            }
            
            // Guardar en historial
            const now = new Date();
            const fecha = now.toLocaleDateString('es-ES');
            const hora = now.toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'});
            
            const resultado = {
                medicamento1,
                medicamento2,
                resultado: document.getElementById('tituloInteraccion').textContent,
                nivel: document.getElementById('gravedadInteraccion').textContent,
                fecha,
                hora
            };
            
            interaccionRecords.unshift(resultado);
            updateHistorialInteracciones();
            
            document.getElementById('resultadoInteraccion').style.display = 'block';
        }

        function updateHistorialInteracciones() {
            const historial = document.getElementById('historialInteracciones');
            
            if (interaccionRecords.length === 0) {
                historial.innerHTML = '<p style="text-align: center; color: var(--gray);">No hay verificaciones realizadas. Realice una verificaciÃ³n para ver el historial.</p>';
                return;
            }
            
            historial.innerHTML = `
                <table class="table">
                    <thead>
                        <tr>
                            <th>Medicamento 1</th>
                            <th>Medicamento 2</th>
                            <th>Resultado</th>
                            <th>Nivel</th>
                            <th>Fecha</th>
                            <th>Hora</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${interaccionRecords.map(r => `
                            <tr>
                                <td>${r.medicamento1}</td>
                                <td>${r.medicamento2}</td>
                                <td>${r.resultado}</td>
                                <td><span class="interaction-level level-${r.nivel.toLowerCase() === 'severa' ? 'severe' : r.nivel.toLowerCase() === 'moderada' ? 'moderate' : 'minor'}">${r.nivel}</span></td>
                                <td>${r.fecha}</td>
                                <td>${r.hora}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        // Funciones de UI
        function updateReloj() {
            const ahora = new Date();
            const opciones = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const fecha = ahora.toLocaleDateString('es-ES', opciones);
            const hora = ahora.toLocaleTimeString('es-ES');
            
            document.getElementById('relojDigital').textContent = hora;
            document.getElementById('fecha').textContent = fecha;
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Actualizar reloj
            updateReloj();
            setInterval(updateReloj, 1000);
            
            // NavegaciÃ³n
            document.querySelectorAll('nav a, .sidebar a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('href').substring(1);
                    setActiveSection(sectionId);
                    
                    // Cargar contenido especÃ­fico si es necesario
                    if (sectionId === 'areas') {
                        loadAreaContent('urgencias');
                    } else if (sectionId === 'primerosAuxilios') {
                        loadFirstAidContent('traumatismos');
                    } else if (sectionId === 'calculadoras') {
                        loadCalculatorContent('imc');
                    } else if (sectionId === 'interacciones') {
                        // No hacer nada, la secciÃ³n ya estÃ¡ lista
                    } else if (sectionId === 'pae') {
                        updatePAEHistory();
                    }
                });
            });
            
            // Tabs de Ã¡reas
            document.querySelectorAll('#areas .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const areaName = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#areas .tab'), areaName);
                    loadAreaContent(areaName);
                });
            });
            
            // Tabs de primeros auxilios
            document.querySelectorAll('#primerosAuxilios .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#primerosAuxilios .tab'), category);
                    loadFirstAidContent(category);
                });
            });
            
            // Tabs de calculadoras
            document.querySelectorAll('#calculadoras .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#calculadoras .tab'), category);
                    loadCalculatorContent(category);
                });
            });
            
            // BÃºsqueda de Ã¡reas
            document.getElementById('searchArea').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const tabs = document.querySelectorAll('#areas .tab');
                
                tabs.forEach(tab => {
                    const areaName = tab.getAttribute('data-tab');
                    const areaData = areasData[areaName];
                    if (areaData.titulo.toLowerCase().includes(searchTerm) || 
                        areaData.descripcion.toLowerCase().includes(searchTerm) ||
                        areaData.personal.toLowerCase().includes(searchTerm)) {
                        tab.style.display = 'inline-flex';
                    } else {
                        tab.style.display = 'none';
                    }
                });
            });
            
            // Calculadoras
            document.getElementById('calcularIMC').addEventListener('click', calculateIMC);
            document.getElementById('calcularCardio').addEventListener('click', calculateCardioRisk);
            
            // PAE
            document.getElementById('agregarPAE').addEventListener('click', function() {
                document.getElementById('paeModal').classList.add('show');
            });
            
            document.getElementById('guardarPAE').addEventListener('click', savePAE);
            document.getElementById('cancelPae').addEventListener('click', function() {
                document.getElementById('paeModal').classList.remove('show');
            });
            
            document.getElementById('closePaeModal').addEventListener('click', function() {
                document.getElementById('paeModal').classList.remove('show');
            });
            
            // Interacciones de medicamentos
            document.getElementById('verificarInteraccion').addEventListener('click', verificarInteraccion);
            document.getElementById('printInteractions').addEventListener('click', function() {
                window.print();
            });
            
            // Inicializar con Ã¡rea de urgencias
            loadAreaContent('urgencias');
            loadFirstAidContent('traumatismos');
            loadCalculatorContent('imc');
            updatePAEHistory();
            updateHistorialInteracciones();
        });

        // Funciones globales
        window.viewPAE = viewPAE;
        window.deletePAE = deletePAE;
    </script>
</body>
</html>
