<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SaludPro · Plataforma Clínica Moderna</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@400;700" rel="stylesheet"/>
  <style>
    :root{
      --accent: #c2e9fb;
      --accent2: #a1c4fd;
      --glass: rgba(255,255,255,0.88);
      --shadow: 0 12px 54px rgba(100,170,220,.13);
      --radius: 26px;
      --font: 'Inter', system-ui, Arial;
      --inputbg: rgba(255,255,255,0.76);
      --soft: #f1f8fe;
      --danger: #ff5252;
      --warn: #ffd600;
      --safe: #43e97b;
      --muted: #555;
      --panelbg: rgba(255,255,255,0.93);
      --fatal: #ff5252;
      --moderate: #ffd600;
      --leve: #43e97b;
    }
    body{background:linear-gradient(135deg,#f1f8fe 0%,#c2e9fb 100%);font-family:var(--font);margin:0;}
    .app{max-width:1400px;margin:auto;padding:0 0 30px;}
    header{background:var(--glass);box-shadow:var(--shadow);border-radius:var(--radius);margin:38px 0 30px 0;display:flex;align-items:center;justify-content:space-between;padding:32px 40px;}
    .logo{font-weight:700;font-size:2.6rem;color:#fff;background:linear-gradient(135deg,#a1c4fd,#43e97b);border-radius:22px;padding:24px 48px;box-shadow:0 7px 22px #a1c4fd44;}
    nav{display:flex;gap:15px;margin:0 0 22px 0;align-items:center;justify-content:center;flex-wrap:wrap;}
    nav button{font-weight:700;padding:14px 24px;border-radius:16px;border:none;background:var(--soft);color:#3476b6;cursor:pointer;box-shadow:0 3px 13px #c2e9fb55;display:flex;align-items:center;gap:7px;font-size:1.13em;}
    nav button:hover{background:var(--accent);color:#fff;}
    .material-symbols-outlined{font-family:'Material Symbols Outlined';font-weight:400;font-style:normal;font-size:1.4em;vertical-align:middle;}
    .glass-home{background:var(--glass);box-shadow:var(--shadow);border-radius:var(--radius);padding:44px 38px;margin-bottom:36px;}
    .home-gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px;margin-top:40px;}
    .img-block{background:var(--panelbg);border-radius:20px;box-shadow:0 2px 13px #c2e9fb44;padding:16px;display:flex;flex-direction:column;align-items:center;}
    .img-block img{max-width:95%;border-radius:15px;box-shadow:0 1px 8px #c2e9fb44;}
    .img-caption{margin-top:13px;font-size:1.1em;color:var(--muted);}
    .fatal{color:var(--fatal);font-weight:700;}
    .moderate{color:var(--moderate);font-weight:700;}
    .leve{color:var(--leve);font-weight:700;}
    .modal-backdrop{display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(150,200,230,0.13);z-index:100;}
    .panel{display:none;flex-direction:column;background:var(--glass);box-shadow:var(--shadow);border-radius:var(--radius);padding:36px 34px 24px 34px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:101;min-width:340px;max-width:99vw;max-height:94vh;overflow:auto;}
    .panel.active{display:flex;}
    .panel .panel-nav{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;}
    .panel .panel-nav button{padding:9px 17px;background:var(--soft);color:#3476b6;border:1px solid #c2e9fb;font-size:1em;}
    .panel .panel-nav button.active{background:var(--accent);color:#fff;}
    .close-btn{position:absolute;top:18px;right:28px;background:transparent;border:none;font-size:2.1rem;cursor:pointer;color:#3476b6;}
    .panel-gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;}
    .panel-img-block{background:var(--panelbg);border-radius:16px;padding:13px;box-shadow:0 1px 10px #c2e9fb22;text-align:center;}
    .panel-img-block img{max-width:90%;border-radius:13px;box-shadow:0 1px 6px #c2e9fb22;}
    .panel-img-caption{margin-top:8px;font-size:1.05em;color:var(--muted);}
    .panel-warn{margin:14px 0;font-weight:600;}
    .fatal{color:var(--fatal);}
    .moderate{color:var(--moderate);}
    .leve{color:var(--leve);}
    .comb-result .fatal{background:rgba(255,82,82,0.15);}
    .comb-result .moderate{background:rgba(255,214,0,0.17);}
    .comb-result .leve{background:rgba(67,233,123,0.12);}
    .comb-result div{margin-bottom:7px;padding:5px 8px;border-radius:6px;}
    @media (max-width:600px){
      .app{padding:2px;}
      .panel{padding:10px;min-width:99vw;}
      .panel-gallery{grid-template-columns:1fr;}
      .home-gallery{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
<div class="app">
  <header>
    <span class="logo"><span class="material-symbols-outlined" style="font-size:2.2em;color:#fff;vertical-align:middle;">health_and_safety</span> SaludPro</span>
    <span style="color:var(--muted);font-weight:400;font-size:1.25em;">Plataforma Clínica Moderna</span>
  </header>
  <nav>
    <button id="btn-procedimientos"><span class="material-symbols-outlined">edit_note</span>Procedimientos</button>
    <button id="btn-enfermedades"><span class="material-symbols-outlined">vaccines</span>Enfermedades</button>
    <button id="btn-interacciones"><span class="material-symbols-outlined">warning</span>Interacciones</button>
    <button id="btn-combinador"><span class="material-symbols-outlined">science</span>Combinador</button>
    <button id="btn-galeria"><span class="material-symbols-outlined">photo_library</span>Galería</button>
    <button id="btn-educacion"><span class="material-symbols-outlined">menu_book</span>Educación</button>
  </nav>
  <div class="glass-home">
    <h2 style="margin-top:0;">Bienvenido a SaludPro</h2>
    <p>Herramienta clínica moderna para profesionales de la salud. <b>Recuerda:</b> la seguridad y el cuidado del paciente es lo más importante. A continuación, ejemplos visuales de <span class="fatal">errores fatales</span>, <span class="moderate">moderados</span> y <span class="leve">prácticas seguras</span>:</p>
    <div class="home-gallery">
      <div class="img-block">
        <img src="https://www.cdc.gov/handwashing/images/poster-handwashing.jpg" alt="Lavado correcto de manos">
        <div class="img-caption leve">Lavado de manos correcto: siempre antes y después de cualquier procedimiento.</div>
      </div>
      <div class="img-block">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/4c/Handwashing_technique.gif" alt="No lavado de manos">
        <div class="img-caption fatal">Nunca omitas el lavado de manos: ¡Riesgo grave de infecciones fatales!</div>
      </div>
      <div class="img-block">
        <img src="https://www.nhs.uk/live-well/images/infographic-cpr.jpg" alt="RCP correcta">
        <div class="img-caption leve">RCP correctamente aplicada: salva vidas.</div>
      </div>
      <div class="img-block">
        <img src="https://www.msdmanuals.com/-/media/manual/images/infographics/infographic-diabetes-spanish.jpg" alt="Manejo incorrecto de diabetes">
        <div class="img-caption moderate">Error frecuente: no verificar glucosa antes de aplicar insulina.</div>
      </div>
      <div class="img-block">
        <img src="https://upload.wikimedia.org/wikipedia/commons/d/dc/Inhaler_usage.gif" alt="Uso correcto de inhalador">
        <div class="img-caption leve">Uso correcto de inhalador: educación previene crisis.</div>
      </div>
      <div class="img-block">
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/ECG_principle_diagram.png" alt="ECG">
        <div class="img-caption fatal">Nunca ignores alteraciones graves en ECG: puede ser fatal.</div>
      </div>
    </div>
  </div>
  <!-- Paneles modales aquí... -->
  <div class="modal-backdrop" id="modalBackdrop"></div>
  <!-- Procedimientos -->
  <section class="panel" id="panel-procedimientos">
    <button class="close-btn" title="Cerrar">&times;</button>
    <h2><span class="material-symbols-outlined">edit_note</span> Procedimientos</h2>
    <div class="panel-nav">
      <button data-sub="higiene" class="active">Higiene</button>
      <button data-sub="farmaco">Farmacología</button>
      <button data-sub="curaciones">Curaciones</button>
      <button data-sub="emergencias">Emergencias</button>
    </div>
    <div id="procedimientos-content"></div>
    <div class="panel-warn moderate"><span class="material-symbols-outlined">warning</span> Recuerda: Saltar pasos de higiene puede provocar complicaciones graves.</div>
    <div class="panel-gallery" id="procedimientos-gallery"></div>
  </section>
  <!-- Enfermedades -->
  <section class="panel" id="panel-enfermedades">
    <button class="close-btn" title="Cerrar">&times;</button>
    <h2><span class="material-symbols-outlined">vaccines</span> Enfermedades</h2>
    <div class="panel-nav">
      <button data-sub="cronicas" class="active">Crónicas</button>
      <button data-sub="infecciosas">Infecciosas</button>
      <button data-sub="respiratorias">Respiratorias</button>
    </div>
    <div id="enfermedades-content"></div>
    <div class="panel-gallery" id="enfermedades-gallery"></div>
  </section>
  <!-- Interacciones -->
  <section class="panel" id="panel-interacciones">
    <button class="close-btn" title="Cerrar">&times;</button>
    <h2><span class="material-symbols-outlined">warning</span> Interacciones Medicamentosas</h2>
    <div class="panel-nav">
      <button data-sub="cardio" class="active">Cardiología</button>
      <button data-sub="infecciosas">Infecciosas</button>
      <button data-sub="geriatria">Geriatría</button>
    </div>
    <div id="interacciones-content"></div>
    <div class="panel-gallery" id="interacciones-gallery"></div>
  </section>
  <!-- Combinador -->
  <section class="panel" id="panel-combinador">
    <button class="close-btn" title="Cerrar">&times;</button>
    <h2><span class="material-symbols-outlined">science</span> Combinador de medicamentos</h2>
    <select id="combCategoria">
      <option value="todos">Todas las categorías</option>
      <option value="cardio">Cardiología</option>
      <option value="infecciosas">Infecciosas</option>
      <option value="geriatria">Geriatría</option>
    </select>
    <input id="medA" placeholder="Medicamento A">
    <input id="medB" placeholder="Medicamento B">
    <button id="checkComb"><span class="material-symbols-outlined">search</span> Verificar</button>
    <div id="comb-result" class="comb-result" style="margin-top:14px;"></div>
    <details style="margin-top:18px;"><summary>Lista completa de interacciones críticas</summary>
      <div id="all-inter-list" style="margin-top:7px;"></div>
    </details>
  </section>
  <!-- Galería -->
  <section class="panel" id="panel-galeria">
    <button class="close-btn" title="Cerrar">&times;</button>
    <h2><span class="material-symbols-outlined">photo_library</span> Galería educativa</h2>
    <div class="panel-gallery" id="galleryGrid"></div>
    <div class="panel-warn fatal"><span class="material-symbols-outlined">block</span> Nunca realices prácticas inseguras, pueden ser fatales.</div>
  </section>
  <!-- Educación -->
  <section class="panel" id="panel-educacion">
    <button class="close-btn" title="Cerrar">&times;</button>
    <h2><span class="material-symbols-outlined">menu_book</span> Recursos educativos</h2>
    <input id="eduSearchBox" placeholder="Buscar recurso, tip, video, protocolo...">
    <div id="educacion-content"></div>
    <div class="panel-block">
      <h4>Recursos destacados</h4>
      <div class="panel-gallery" id="educacion-gallery"></div>
    </div>
    <div id="wikiSummary" style="margin-top:14px;font-size:1.03em;"></div>
  </section>
</div>
<script>
// --- DATA ampliada con imágenes y advertencias ---
const procedimientos = {
  higiene: [
    {titulo:'Lavado de manos',desc:'Prevención de infecciones. Agua y jabón/gel, frotar ≥20s, secar.',nivel:'leve',img:'https://www.cdc.gov/handwashing/images/poster-handwashing.jpg'},
    {titulo:'No lavado de manos',desc:'Nunca omitas el lavado, riesgo fatal de infección.',nivel:'fatal',img:'https://upload.wikimedia.org/wikipedia/commons/4/4c/Handwashing_technique.gif'}
  ],
  farmaco: [
    {titulo:'Administración oral segura',desc:'Verificar los 5 correctos.',nivel:'leve',img:'https://upload.wikimedia.org/wikipedia/commons/4/4f/Tablets_in_blister_pack.jpg'},
    {titulo:'Dosis incorrecta',desc:'Dosis excesiva puede ser fatal.',nivel:'fatal',img:'https://upload.wikimedia.org/wikipedia/commons/4/4f/Tablets_in_blister_pack.jpg'}
  ],
  curaciones: [
    {titulo:'Curación de herida limpia',desc:'Cambio de apósito en heridas limpias.',nivel:'leve',img:'https://www.msdmanuals.com/-/media/manual/images/infographics/infographic-diabetes-spanish.jpg'},
    {titulo:'No usar guantes',desc:'Nunca realices curaciones sin guantes, riesgo moderado.',nivel:'moderate',img:'https://www.cdc.gov/handwashing/images/poster-handwashing.jpg'}
  ],
  emergencias: [
    {titulo:'RCP básica',desc:'Compresiones correctamente aplicadas salvan vidas.',nivel:'leve',img:'https://www.nhs.uk/live-well/images/infographic-cpr.jpg'},
    {titulo:'RCP incorrecta',desc:'Compresiones mal hechas pueden ser fatales.',nivel:'fatal',img:'https://www.nhs.uk/live-well/images/infographic-cpr.jpg'}
  ]
};
const enfermedades = {
  cronicas:[
    {titulo:'Diabetes no controlada',desc:'No verificar glucosa antes de insulina puede ser fatal.',nivel:'fatal',img:'https://www.msdmanuals.com/-/media/manual/images/infographics/infographic-diabetes-spanish.jpg'},
    {titulo:'Diabetes controlada',desc:'Control estricto previene complicaciones.',nivel:'leve',img:'https://www.msdmanuals.com/-/media/manual/images/infographics/infographic-diabetes-spanish.jpg'}
  ],
  infecciosas:[
    {titulo:'Tuberculosis no diagnosticada',desc:'Ignorar síntomas es fatal.',nivel:'fatal',img:'https://upload.wikimedia.org/wikipedia/commons/8/89/Mycobacterium_tuberculosis_Ziehl-Neelsen_stain_02.jpg'},
    {titulo:'COVID-19: uso correcto de EPP',desc:'Uso correcto previene contagios.',nivel:'leve',img:'https://upload.wikimedia.org/wikipedia/commons/9/97/COVID-19_PPE.jpg'}
  ],
  respiratorias:[
    {titulo:'Crisis asmática sin inhalador',desc:'No educar sobre inhalador puede ser fatal.',nivel:'fatal',img:'https://upload.wikimedia.org/wikipedia/commons/d/dc/Inhaler_usage.gif'},
    {titulo:'Fisioterapia respiratoria',desc:'Previene complicaciones respiratorias.',nivel:'leve',img:'https://upload.wikimedia.org/wikipedia/commons/d/dc/Inhaler_usage.gif'}
  ]
};
const interaccionesCat = {
  cardio: [
    {comb:'Warfarina + AINEs',nivel:'fatal',desc:'Hemorragia grave.',img:'https://upload.wikimedia.org/wikipedia/commons/6/6b/Warfarin-3D.png'},
    {comb:'IECA + Espironolactona',nivel:'moderate',desc:'Hiperkalemia.',img:'https://upload.wikimedia.org/wikipedia/commons/8/89/Spironolactone_structure.png'}
  ],
  infecciosas: [
    {comb:'Ritonavir + estatinas',nivel:'fatal',desc:'Rabdomiólisis grave.',img:'https://upload.wikimedia.org/wikipedia/commons/1/11/Ritonavir2DACS.svg'},
    {comb:'Amoxicilina + anticoagulantes',nivel:'moderate',desc:'Aumenta riesgo de sangrado.',img:'https://upload.wikimedia.org/wikipedia/commons/5/53/Amoxicillin_structure.png'}
  ],
  geriatria: [
    {comb:'Benzodiacepinas + opioides',nivel:'fatal',desc:'Depresión respiratoria.',img:'https://upload.wikimedia.org/wikipedia/commons/4/44/Diazepam.svg'},
    {comb:'Diuréticos + IECA',nivel:'moderate',desc:'Hipotensión.',img:'https://upload.wikimedia.org/wikipedia/commons/8/89/Spironolactone_structure.png'}
  ]
};
const galleryImgs = [
  {src:"https://www.cdc.gov/handwashing/images/poster-handwashing.jpg",caption:"Poster lavado de manos (CDC)",nivel:'leve'},
  {src:"https://upload.wikimedia.org/wikipedia/commons/4/4c/Handwashing_technique.gif",caption:"Nunca omitas el lavado de manos",nivel:'fatal'},
  {src:"https://www.nhs.uk/live-well/images/infographic-cpr.jpg",caption:"RCP correctamente aplicada",nivel:'leve'},
  {src:"https://www.msdmanuals.com/-/media/manual/images/infographics/infographic-diabetes-spanish.jpg",caption:"Error: no verificar glucosa en diabetes",nivel:'moderate'},
  {src:"https://upload.wikimedia.org/wikipedia/commons/d/dc/Inhaler_usage.gif",caption:"Uso correcto de inhalador",nivel:'leve'},
  {src:"https://upload.wikimedia.org/wikipedia/commons/2/2f/ECG_principle_diagram.png",caption:"No ignores alteraciones graves en ECG",nivel:'fatal'}
];
const educacionImgs = [
  {src:"https://upload.wikimedia.org/wikipedia/commons/2/2f/ECG_principle_diagram.png",caption:"Interpretación básica de ECG"},
  {src:"https://upload.wikimedia.org/wikipedia/commons/9/97/COVID-19_PPE.jpg",caption:"Uso correcto de EPP"},
  {src:"https://upload.wikimedia.org/wikipedia/commons/d/dc/Inhaler_usage.gif",caption:"Educación en inhaladores"},
  {src:"https://upload.wikimedia.org/wikipedia/commons/4/4c/Handwashing_technique.gif",caption:"Lavado de manos OMS"}
];

// Paneles: Navegación modal
function showPanel(name){
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.getElementById('modalBackdrop').style.display='block';
  document.getElementById('panel-'+name).classList.add('active');
  if(name==='procedimientos') { renderProcedimientos('higiene'); renderProcedimientosGallery('higiene'); }
  if(name==='enfermedades') { renderEnfermedades('cronicas'); renderEnfermedadesGallery('cronicas'); }
  if(name==='interacciones') { renderInteracciones('cardio'); renderInteraccionesGallery('cardio'); }
  if(name==='combinador') renderAllInterList();
  if(name==='galeria') renderGallery();
  if(name==='educacion') renderEducacionGallery();
}
function closePanel(){
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.getElementById('modalBackdrop').style.display='none';
}
document.getElementById('btn-procedimientos').onclick = ()=>showPanel('procedimientos');
document.getElementById('btn-enfermedades').onclick = ()=>showPanel('enfermedades');
document.getElementById('btn-interacciones').onclick = ()=>showPanel('interacciones');
document.getElementById('btn-combinador').onclick = ()=>showPanel('combinador');
document.getElementById('btn-galeria').onclick = ()=>showPanel('galeria');
document.getElementById('btn-educacion').onclick = ()=>showPanel('educacion');
document.getElementById('modalBackdrop').onclick = closePanel;
document.querySelectorAll('.close-btn').forEach(btn=>{
  btn.onclick = closePanel;
});
// Procedimientos nav
document.querySelectorAll('#panel-procedimientos .panel-nav button').forEach(btn=>{
  btn.onclick = function(){
    document.querySelectorAll('#panel-procedimientos .panel-nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderProcedimientos(btn.dataset.sub);
    renderProcedimientosGallery(btn.dataset.sub);
  };
});
// Enfermedades nav
document.querySelectorAll('#panel-enfermedades .panel-nav button').forEach(btn=>{
  btn.onclick = function(){
    document.querySelectorAll('#panel-enfermedades .panel-nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderEnfermedades(btn.dataset.sub);
    renderEnfermedadesGallery(btn.dataset.sub);
  };
});
// Interacciones nav
document.querySelectorAll('#panel-interacciones .panel-nav button').forEach(btn=>{
  btn.onclick = function(){
    document.querySelectorAll('#panel-interacciones .panel-nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderInteracciones(btn.dataset.sub);
    renderInteraccionesGallery(btn.dataset.sub);
  };
});
// Procedimientos panel
function renderProcedimientos(sub){
  let html = '<ul>';
  (procedimientos[sub]||[]).forEach(p=>{
    html+=`<li class="${p.nivel}"><b>${p.titulo}</b>: ${p.desc} ${p.nivel==='fatal'?'⛔':p.nivel==='moderate'?'⚠️':'✅'}</li>`;
  });
  html+='</ul>';
  document.getElementById('procedimientos-content').innerHTML = html;
}
function renderProcedimientosGallery(sub){
  let html = '';
  (procedimientos[sub]||[]).forEach(p=>{
    html += `<div class="panel-img-block ${p.nivel}"><img src="${p.img}" alt="${p.titulo}"><div class="panel-img-caption">${p.titulo}</div></div>`;
  });
  document.getElementById('procedimientos-gallery').innerHTML = html;
}
// Enfermedades panel
function renderEnfermedades(sub){
  let html = '<ul>';
  (enfermedades[sub]||[]).forEach(e=>{
    html+=`<li class="${e.nivel}"><b>${e.titulo}</b>: ${e.desc} ${e.nivel==='fatal'?'⛔':e.nivel==='moderate'?'⚠️':'✅'}</li>`;
  });
  html+='</ul>';
  document.getElementById('enfermedades-content').innerHTML = html;
}
function renderEnfermedadesGallery(sub){
  let html = '';
  (enfermedades[sub]||[]).forEach(e=>{
    html += `<div class="panel-img-block ${e.nivel}"><img src="${e.img}" alt="${e.titulo}"><div class="panel-img-caption">${e.titulo}</div></div>`;
  });
  document.getElementById('enfermedades-gallery').innerHTML = html;
}
// Interacciones panel
function renderInteracciones(sub){
  let html='<ul>';
  (interaccionesCat[sub]||[]).forEach(i=>{
    html+=`<li class="${i.nivel}"><b>${i.comb}</b>: ${i.desc} ${i.nivel==='fatal'?'⛔':i.nivel==='moderate'?'⚠️':'✅'}</li>`;
  });
  html+='</ul>';
  document.getElementById('interacciones-content').innerHTML = html;
}
function renderInteraccionesGallery(sub){
  let html='';
  (interaccionesCat[sub]||[]).forEach(i=>{
    html+=`<div class="panel-img-block ${i.nivel}"><img src="${i.img}" alt="${i.comb}"><div class="panel-img-caption">${i.comb}</div></div>`;
  });
  document.getElementById('interacciones-gallery').innerHTML = html;
}
// Combinador
function buscarInteraccionCat(categoria,a,b){
  let arr = categoria==="todos"
    ? Object.values(interaccionesCat).flat()
    : interaccionesCat[categoria]||[];
  a=a.toLowerCase();b=b.toLowerCase();
  return arr.filter(i=>
    (a.includes(i.comb.split('+')[0].toLowerCase().trim()) && b.includes(i.comb.split('+')[1].toLowerCase().trim())) ||
    (b.includes(i.comb.split('+')[0].toLowerCase().trim()) && a.includes(i.comb.split('+')[1].toLowerCase().trim()))
  );
}
document.getElementById('checkComb').onclick = ()=>{
  const cat = document.getElementById('combCategoria').value;
  const a = document.getElementById('medA').value.trim(), b = document.getElementById('medB').value.trim();
  if(!a || !b){document.getElementById('comb-result').textContent='Escriba dos medicamentos';return;}
  const res = buscarInteraccionCat(cat,a,b);
  document.getElementById('comb-result').innerHTML = res.length
    ? res.map(r=>`<div class="${r.nivel}">${r.nivel==="fatal"?"⛔":"⚠️"} <b>${r.comb}</b>: ${r.desc}</div>`).join('')
    : '<span style="color:#43e97b">No se detectaron interacciones graves en la base local.</span>';
};
function renderAllInterList(){
  let arr = Object.values(interaccionesCat).flat();
  document.getElementById('all-inter-list').innerHTML =
    arr.map(i=>`<div class="${i.nivel}">${i.nivel==="fatal"?"⛔":"⚠️"} <b>${i.comb}</b>: ${i.desc}</div>`).join('');
}
// Galería principal
function renderGallery(){
  let html = '';
  galleryImgs.forEach(img=>{
    html+=`<div class="panel-img-block ${img.nivel}"><img src="${img.src}" alt="${img.caption}"><div class="panel-img-caption">${img.caption}</div></div>`;
  });
  document.getElementById('galleryGrid').innerHTML=html;
}
// Educación galería
function renderEducacionGallery(){
  let html='';
  educacionImgs.forEach(img=>{
    html+=`<div class="panel-img-block"><img src="${img.src}" alt="${img.caption}"><div class="panel-img-caption">${img.caption}</div></div>`;
  });
  document.getElementById('educacion-gallery').innerHTML=html;
}
// Educación búsqueda Wikipedia (opcional)
document.getElementById('eduSearchBox').oninput=function(e){
  const q = e.target.value.trim();
  if(q.length<3){document.getElementById('educacion-content').innerHTML='';document.getElementById('wikiSummary').innerHTML='';return;}
  fetch(`https://es.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(q)}`)
    .then(r=>r.ok?r.json():null)
    .then(data=>{
      if(data&&data.extract){
        document.getElementById('wikiSummary').innerHTML =
          `<b>Wikipedia resumen:</b> ${data.extract}<br>
          <a href="https://es.wikipedia.org/wiki/${encodeURIComponent(q)}" target="_blank">Leer más en Wikipedia</a>`;
      }else{
        document.getElementById('wikiSummary').innerHTML = 'No hay resumen disponible.';
      }
    }).catch(()=>{document.getElementById('wikiSummary').innerHTML='';});
};
</script>
</body>
</html>
