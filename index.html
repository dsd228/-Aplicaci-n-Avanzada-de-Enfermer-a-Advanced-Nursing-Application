<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SaludPro ¬∑ Herramienta Cl√≠nica Institucional</title>
  <meta name="description" content="SaludPro: Plataforma cl√≠nica integral para instituciones de salud. Perfil profesional, pacientes, PAEs, procedimientos, educaci√≥n, favoritos, combinador de f√°rmacos, interacciones, b√∫squeda global. HTML5 + CSS3 + JS Pro.">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent:#00b4d8;
      --accent-2:#43e97b;
      --accent-3:#f9fafc;
      --danger:#e63946;
      --bg: linear-gradient(120deg,#00b4d8 0%,#43e97b 100%);
      --glass: rgba(255,255,255,0.92);
      --shadow: 0 8px 38px rgba(67,233,123,.13);
      --radius: 22px;
      --font:'Roboto',system-ui,-apple-system,"Segoe UI",Arial;
      --inputbg:rgba(255,255,255,0.74);
      --focus: #43e97b;
      --muted: #555;
      --text: #222;
      --head: #00b4d8;
    }
    html,body{height:100%;margin:0;padding:0;}
    body{background:var(--bg);font-family:var(--font);color:var(--text);}
    .app{max-width:1260px;margin:auto;padding:0 0 28px 0;}
    header{display:flex;align-items:center;justify-content:space-between;background:var(--glass);box-shadow:var(--shadow);border-radius:var(--radius);padding:22px 36px 22px 36px;margin:32px 0 24px 0;}
    .logo{font-weight:700;font-size:2.3rem;color:#fff;background:linear-gradient(135deg,var(--accent),var(--accent-2));border-radius:16px;padding:20px 50px;letter-spacing:2px;box-shadow:0 5px 22px #00b4d833;}
    nav{display:flex;gap:14px;margin:0 0 20px 0;align-items:center;justify-content:center;}
    nav button{font-weight:700;padding:14px 22px;border-radius:16px;border:none;background:linear-gradient(90deg,#00b4d8 60%,#43e97b 100%);color:#fff;cursor:pointer;box-shadow:0 3px 9px #00b4d822;transition:.13s;}
    nav button:hover{filter:brightness(1.09);transform:scale(1.06);}
    nav input{font-size:1.17em;padding:12px 18px;border-radius:16px;border:1.5px solid #00b4d8;background:var(--inputbg);outline:none;max-width:350px;}
    nav input:focus{border-color:var(--focus);}
    .modal-backdrop{display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,180,216,0.15);z-index:100;}
    .panel{display:none;flex-direction:column;background:var(--glass);box-shadow:var(--shadow);border-radius:var(--radius);padding:36px 34px 24px 34px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:101;min-width:350px;max-width:98vw;max-height:92vh;overflow:auto;animation:fadein .22s;}
    @keyframes fadein{from{opacity:0;transform:translate(-50%,-56%);}to{opacity:1;transform:translate(-50%,-50%);}}
    .panel.active{display:flex;}
    .panel .panel-nav{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;}
    .panel .panel-nav button{padding:9px 17px;background:#fff;color:#00b4d8;border:1px solid #43e97b;}
    .panel .panel-nav button.active{background:linear-gradient(90deg,#00b4d8,#43e97b);color:#fff;}
    .close-btn{position:absolute;top:16px;right:26px;background:transparent;border:none;font-size:2.1rem;cursor:pointer;color:var(--head);}
    h2,h3{margin:0 0 18px 0;}
    .fav-btn{background:transparent;border:none;color:var(--head);font-size:1.44em;cursor:pointer;vertical-align:middle;}
    .fav-btn.faved{color:var(--accent-2);}
    ul{padding-left:22px;}
    input,textarea,select{background:var(--inputbg);border-radius:12px;border:1.5px solid #43e97b;outline:none;padding:8px 12px;font-size:1.08rem;margin:5px 0;}
    input:focus,textarea:focus,select:focus{border-color:var(--head);}
    .profile-box,.pae-box,.patient-box{background:var(--glass);border-radius:20px;box-shadow:0 2px 12px #43e97b44;padding:24px;margin:12px 0;}
    .profile-box h3,.pae-box h3,.patient-box h3{margin-bottom:12px;}
    .profile-label{font-weight:500;margin-top:11px;}
    .pae-save,.patient-save{margin-top:10px;}
    .panel-block{margin-bottom:18px;}
    .list-card{background:var(--accent-3);border-radius:11px;padding:14px 17px;margin-bottom:7px;box-shadow:0 2px 10px #00b4d822;}
    .copy-btn{background:transparent;border:none;font-size:1.1em;color:var(--head);cursor:pointer;margin-left:7px;}
    .copy-btn:hover{color:var(--accent-2);}
    .msg-error{color:var(--danger);}
    .msg-ok{color:var(--accent-2);}
    .edu-links a{color:var(--accent);margin-right:20px;font-weight:500;text-decoration:underline;}
    .edu-links a:hover{color:var(--danger);}
    @media (max-width:600px){.app{padding:2px;}.panel{padding:12px;min-width:98vw;}}
  </style>
</head>
<body>
<div class="app">
  <header>
    <span class="logo">SaludPro</span>
    <span>Herramienta Cl√≠nica Institucional</span>
  </header>
  <nav>
    <input id="globalSearchBox" placeholder="üîé Buscar en toda la herramienta...">
    <button data-panel="perfil">Perfil</button>
    <button data-panel="pacientes">Pacientes</button>
    <button data-panel="pae">PAE</button>
    <button data-panel="procedimientos">Procedimientos</button>
    <button data-panel="enfermedades">Enfermedades</button>
    <button data-panel="interacciones">Interacciones</button>
    <button data-panel="combinador">Combinador</button>
    <button data-panel="educacion">Educaci√≥n</button>
    <button data-panel="favoritos">Favoritos ‚òÖ</button>
    <button data-panel="ayuda">Ayuda</button>
  </nav>
  <div class="modal-backdrop" id="modalBackdrop"></div>
  <!-- Paneles modales below -->
  <!-- ... igual que antes ... -->
  <section class="panel" id="panel-perfil">
    <button class="close-btn" title="Cerrar">&times;</button>
    <div class="profile-box">
      <h3>Perfil institucional</h3>
      <label class="profile-label">Nombre completo:</label>
      <input id="userName" placeholder="Nombre completo">
      <label class="profile-label">Usuario ID:</label>
      <input id="userId" placeholder="ID institucional">
      <label class="profile-label">Rol:</label>
      <select id="userRol">
        <option>Enfermer√≠a</option>
        <option>M√©dico</option>
        <option>Fisioterapia</option>
        <option>Nutrici√≥n</option>
        <option>Administrativo</option>
        <option>Otro</option>
      </select>
      <button id="profileSave" class="pae-save">Guardar perfil</button>
      <div id="profileMsg" style="margin-top:7px;color:var(--head);"></div>
    </div>
  </section>
  <section class="panel" id="panel-pacientes">
    <button class="close-btn" title="Cerrar">&times;</button>
    <div class="patient-box">
      <h3>Registro de paciente</h3>
      <label class="profile-label">Nombre:</label>
      <input id="patName" placeholder="Nombre paciente">
      <label class="profile-label">Edad:</label>
      <input id="patEdad" type="number" placeholder="Edad">
      <label class="profile-label">G√©nero:</label>
      <select id="patGen"><option>M</option><option>F</option><option>O</option></select>
      <label class="profile-label">Diagn√≥stico:</label>
      <input id="patDiag" placeholder="Diagn√≥stico principal">
      <label class="profile-label">Alergias:</label>
      <input id="patAlergias" placeholder="Alergias">
      <label class="profile-label">Signos vitales:</label>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;">
        <input id="patTA" placeholder="TA mmHg">
        <input id="patFC" placeholder="FC lpm">
        <input id="patFR" placeholder="FR rpm">
        <input id="patTemp" placeholder="Temp ¬∞C">
        <input id="patSpO2" placeholder="SpO2 %">
        <input id="patGluc" placeholder="Glucosa mg/dL">
      </div>
      <button id="patSave" class="patient-save">Guardar paciente</button>
      <div id="patMsg" style="margin-top:7px;color:var(--accent-2);"></div>
    </div>
    <div style="margin-top:20px;">
      <h3>Pacientes guardados</h3>
      <div id="patList"></div>
    </div>
  </section>
  <section class="panel" id="panel-pae">
    <button class="close-btn" title="Cerrar">&times;</button>
    <div class="pae-box">
      <h3>PAE (Proceso de Atenci√≥n de Enfermer√≠a)</h3>
      <label class="profile-label">Paciente:</label>
      <select id="paePat"></select>
      <label class="profile-label">Diagn√≥stico de enfermer√≠a:</label>
      <textarea id="paeDiag" placeholder="Diagn√≥stico de enfermer√≠a"></textarea>
      <label class="profile-label">Plan / intervenciones:</label>
      <textarea id="paePlan" placeholder="Plan / intervenciones"></textarea>
      <button id="paeSave" class="pae-save">Guardar PAE</button>
      <button id="paeExport" class="pae-save">Exportar PAE (JSON)</button>
      <div id="paeMsg" style="margin-top:7px;color:var(--accent-2);"></div>
    </div>
    <div style="margin-top:20px;">
      <h3>PAEs guardados</h3>
      <div id="paeList"></div>
    </div>
  </section>
  <!-- Procedimientos, Enfermedades, Interacciones, Combinador, Educaci√≥n, Ayuda, Favoritos -->
  <!-- ... igual que la versi√≥n anterior ... -->
  <section class="panel" id="panel-procedimientos">
    <button class="close-btn" title="Cerrar">&times;</button>
    <div class="panel-nav">
      <!-- ... subcategor√≠as como antes ... -->
      <button data-sub="higiene" class="active">Higiene</button>
      <button data-sub="farmaco">Farmacolog√≠a</button>
      <button data-sub="nutricion">Nutrici√≥n</button>
      <button data-sub="curaciones">Curaciones</button>
      <button data-sub="emergencias">Emergencias</button>
      <button data-sub="movilizacion">Movilizaci√≥n</button>
      <button data-sub="infeccion">Infecci√≥n</button>
      <button data-sub="pediatria">Pediatr√≠a</button>
      <button data-sub="geriatria">Geriatr√≠a</button>
      <button data-sub="terapia">Terapia respiratoria</button>
      <button data-sub="urgencias">Urgencias</button>
      <button data-sub="quirurgicos">Quir√∫rgicos</button>
      <button data-sub="hemodinamia">Hemodinamia</button>
      <button data-sub="transfusion">Transfusiones</button>
      <button data-sub="monitorizacion">Monitorizaci√≥n</button>
    </div>
    <div id="procedimientos-content"></div>
  </section>
  <!-- ... resto igual ... -->
  <section class="panel" id="panel-educacion">
    <button class="close-btn" title="Cerrar">&times;</button>
    <h3>Recursos de Educaci√≥n y Refresco</h3>
    <input id="eduSearchBox" placeholder="Buscar recurso, tip, video, manual, protocolo...">
    <div id="educacion-content"></div>
    <div id="eduExternalLinks" class="edu-links" style="margin-top:16px;"></div>
    <div class="panel-block">
      <h4>Recursos destacados</h4>
      <div class="list-card"><b>Lavado de manos OMS</b> - Video y gu√≠a oficial</div>
      <div class="list-card"><b>Manejo del paciente diab√©tico</b> - Manual institucional, video</div>
      <div class="list-card"><b>Fisioterapia respiratoria en EPOC</b> - Ejercicios guiados</div>
      <div class="list-card"><b>Nutrici√≥n en insuficiencia renal</b> - Recomendaciones y tablas</div>
      <div class="list-card"><b>Uso seguro de medicamentos</b> - Checklist de errores y doble control</div>
      <div class="list-card"><b>Prevenci√≥n de ca√≠das en adultos mayores</b> - Tips y gr√°ficos</div>
    </div>
    <div id="wikiSummary" style="margin-top:14px;font-size:1.03em;"></div>
  </section>
  <!-- ... resto igual ... -->
</div>
<script>
// ... arrays y funciones igual que la versi√≥n anterior ...
// --- Educaci√≥n panel y b√∫squeda con Wikipedia & fuentes externas ---
document.getElementById('eduSearchBox').oninput=function(e){
  const q = e.target.value.trim().toLowerCase();
  let html = "<ul>";
  let found = false;
  educaci√≥n.forEach(ed=>{
    if(ed.titulo.toLowerCase().includes(q)||ed.desc.toLowerCase().includes(q)){
      html+=`<li><strong>${ed.titulo}</strong>: ${ed.desc}
        <button class="copy-btn" title="Copiar" onclick="copiar('${ed.titulo}: ${ed.desc}')">üìã</button>
      </li>`;
      found = true;
    }
  });
  html+="</ul>";
  document.getElementById('educacion-content').innerHTML=html;

  // Enlaces externos SIEMPRE disponibles
  const qEncoded = encodeURIComponent(q.length > 2 ? q : '');
  if(q.length > 2){
    const wiki = `https://es.wikipedia.org/wiki/${qEncoded}`;
    const medline = `https://medlineplus.gov/spanish/search/?query=${qEncoded}`;
    const msd = `https://www.msdmanuals.com/es/professional/searchresults?query=${qEncoded}`;
    document.getElementById('eduExternalLinks').innerHTML = `
      <b>Buscar en fuentes externas:</b>
      <a href="${wiki}" target="_blank">Wikipedia</a>
      <a href="${medline}" target="_blank">MedlinePlus</a>
      <a href="${msd}" target="_blank">MSD Manuals</a>
    `;
    // Fetch resumen Wikipedia (API p√∫blica)
    fetch(`https://es.wikipedia.org/api/rest_v1/page/summary/${qEncoded}`)
      .then(r=>r.ok?r.json():null)
      .then(data=>{
        if(data&&data.extract){
          document.getElementById('wikiSummary').innerHTML =
            `<b>Wikipedia resumen:</b> ${data.extract}<br>
            <a href="${wiki}" target="_blank">Leer m√°s en Wikipedia</a>`;
        }else{
          document.getElementById('wikiSummary').innerHTML = '';
        }
      }).catch(()=>{document.getElementById('wikiSummary').innerHTML='';});
  }else{
    document.getElementById('eduExternalLinks').innerHTML = '';
    document.getElementById('wikiSummary').innerHTML = '';
  }
};
// ... resto igual que la versi√≥n anterior ...
</script>
</body>
</html>
