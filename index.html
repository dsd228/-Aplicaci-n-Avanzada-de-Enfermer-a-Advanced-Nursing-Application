<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediAssist Pro ULTRA - Herramienta Médica</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            /* Colores Aqua Glass */
            --aqua-primary: #00cec9;
            --aqua-primary-light: #26e0db;
            --aqua-primary-dark: #00a09c;
            --aqua-secondary: #34e7e4;
            --aqua-tertiary: #18dcff;
            --aqua-deep: #00b894;
            
            /* Colores complementarios */
            --danger: #ff3838;
            --warning: #ffa801;
            --success: #00d26a;
            --info: #32ff94;
            --light: #f8f9fa;
            --dark: #2d3436;
            --gray: #636e72;
            --white: #ffffff;
            --black: #000000;
            
            /* Glassmorphism */
            --glass-bg: rgba(255, 255, 255, 0.12);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            --glass-backdrop: blur(16px);
            
            /* Tipografía */
            --font-main: 'Inter', 'Segoe UI', sans-serif;
            --font-size-xs: 0.75rem;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;
            --font-weight-light: 300;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            --font-weight-extrabold: 800;
            
            /* Dimensiones */
            --border-radius-sm: 8px;
            --border-radius: 16px;
            --border-radius-lg: 24px;
            --border-radius-xl: 32px;
            --padding-xs: 0.5rem;
            --padding-sm: 1rem;
            --padding: 1.5rem;
            --padding-lg: 2rem;
            --padding-xl: 3rem;
            --margin: 1rem;
            --header-height: 70px;
            --sidebar-width: 320px;
            
            /* Transiciones */
            --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Modo oscuro */
        [data-theme="dark"] {
            --aqua-primary: #00e0d9;
            --aqua-primary-light: #33f0e8;
            --aqua-primary-dark: #00b3aa;
            --aqua-secondary: #4df5f2;
            --aqua-tertiary: #40f0ff;
            --aqua-deep: #00c2a8;
            
            --danger: #ff5c5c;
            --warning: #ffc241;
            --success: #00e07a;
            --info: #4affa8;
            --light: #121212;
            --dark: #f8f9fa;
            --gray: #b2bec3;
            --white: #1e272e;
            --black: #ffffff;
            --glass-bg: rgba(30, 39, 46, 0.25);
            --glass-border: rgba(255, 255, 255, 0.15);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --dark-bg: #10161c;
            --dark-secondary: #1e272e;
            --dark-tertiary: #2c3e50;
            --dark-text: #dfe6e9;
            --dark-border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            font-weight: var(--font-weight-normal);
            background: linear-gradient(135deg, #e3f2fd, #b2ebf2);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            transition: var(--transition-normal);
            backdrop-filter: blur(0px);
        }

        [data-theme="dark"] body {
            background: linear-gradient(135deg, #0a192f, #1e272e);
            color: var(--dark-text);
        }

        /* Glassmorphism avanzado */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            box-shadow: var(--glass-shadow);
            transition: var(--transition-normal);
        }

        .glass-primary {
            background: rgba(0, 206, 201, 0.15);
            border: 1px solid rgba(0, 206, 201, 0.3);
            box-shadow: 0 8px 32px rgba(0, 206, 201, 0.15);
        }

        .glass-hover {
            transition: var(--transition-normal);
        }

        .glass-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18);
            border-color: var(--aqua-primary-light);
        }

        .glass-inner {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: var(--border-radius-sm);
            padding: var(--padding-sm);
            margin-bottom: var(--margin);
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--header-height);
            background: var(--glass-bg);
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border-bottom: 1px solid var(--glass-border);
            padding: 0 var(--padding);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: var(--transition-normal);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--aqua-primary);
            text-decoration: none;
        }

        .logo i {
            font-size: 1.8rem;
            color: var(--aqua-primary);
        }

        .logo span {
            background: linear-gradient(90deg, var(--aqua-primary), var(--aqua-tertiary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .header-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--dark);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
        }

        [data-theme="dark"] .header-item {
            color: var(--dark-text);
        }

        .clock {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            font-weight: var(--font-weight-semibold);
            transition: var(--transition-normal);
        }

        .clock:hover {
            background: rgba(0, 206, 201, 0.2);
            border-color: var(--aqua-primary-light);
        }

        [data-theme="dark"] .clock {
            background: rgba(30, 39, 46, 0.3);
            border-color: rgba(255, 255, 255, 0.15);
        }

        .theme-toggle {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-normal);
            color: var(--aqua-primary);
        }

        .theme-toggle:hover {
            background: rgba(0, 206, 201, 0.2);
            border-color: var(--aqua-primary-light);
            transform: rotate(30deg);
        }

        .theme-toggle i {
            font-size: 1.2rem;
            transition: var(--transition-normal);
        }

        main {
            display: flex;
            min-height: calc(100vh - var(--header-height));
        }

        aside {
            width: var(--sidebar-width);
            background: var(--glass-bg);
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border-right: 1px solid var(--glass-border);
            padding: var(--padding);
            position: fixed;
            left: 0;
            top: var(--header-height);
            bottom: 0;
            overflow-y: auto;
            transition: var(--transition-normal);
        }

        .menu-title {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-bold);
            margin-bottom: 1.5rem;
            color: var(--aqua-primary);
            text-align: center;
            border-bottom: 2px solid var(--aqua-secondary);
            padding-bottom: 0.75rem;
            position: relative;
        }

        .menu-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--aqua-primary);
            border-radius: 3px;
        }

        .menu-item {
            list-style: none;
            margin-bottom: 0.75rem;
        }

        .menu-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 0.8rem 1.2rem;
            background: transparent;
            border: none;
            text-align: left;
            color: var(--dark);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-medium);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        [data-theme="dark"] .menu-btn {
            color: var(--dark-text);
        }

        .menu-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background: transparent;
            transition: var(--transition-normal);
        }

        .menu-btn:hover {
            background: rgba(0, 206, 201, 0.1);
            color: var(--aqua-primary-dark);
            transform: translateX(4px);
        }

        .menu-btn:hover::before {
            background: var(--aqua-primary);
        }

        .menu-btn.active {
            background: var(--aqua-primary);
            color: var(--white);
            font-weight: var(--font-weight-semibold);
            box-shadow: 0 8px 24px rgba(0, 206, 201, 0.25);
        }

        .menu-btn.active::before {
            background: var(--white);
        }

        .menu-btn.active i:last-child {
            transform: rotate(180deg);
        }

        .menu-btn span {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .menu-btn i {
            font-size: 1.2rem;
            color: var(--aqua-primary);
            transition: var(--transition-normal);
        }

        .menu-btn.active i {
            color: var(--white);
        }

        .submenu {
            margin-left: 2.5rem;
            display: none;
            margin-top: 0.5rem;
        }

        .submenu.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        .submenu-btn {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 1rem;
            font-size: var(--font-size-sm);
            color: var(--gray);
            background: transparent;
            border: none;
            text-align: left;
            width: 100%;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition-normal);
            position: relative;
            padding-left: 1.5rem;
        }

        .submenu-btn:hover {
            background: rgba(0, 206, 201, 0.08);
            color: var(--aqua-primary-dark);
            transform: translateX(4px);
        }

        .submenu-btn.active {
            background: rgba(0, 206, 201, 0.15);
            color: var(--aqua-primary-dark);
            font-weight: var(--font-weight-semibold);
            box-shadow: inset 2px 0 0 var(--aqua-primary);
        }

        .submenu-btn::before {
            content: '•';
            position: absolute;
            left: 0.75rem;
            color: var(--aqua-primary);
            opacity: 0;
            transition: var(--transition-normal);
        }

        .submenu-btn:hover::before {
            opacity: 1;
        }

        .content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: var(--padding);
            min-height: calc(100vh - var(--header-height));
            transition: var(--transition-normal);
        }

        .section {
            display: none;
            animation: fadeIn 0.6s ease;
        }

        .section.active {
            display: block;
        }

        footer {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-top: 1px solid var(--glass-border);
            color: var(--aqua-primary);
            text-align: center;
            padding: 1rem;
            font-size: var(--font-size-sm);
            position: fixed;
            bottom: 0;
            width: 100%;
            z-index: 1000;
            transition: var(--transition-normal);
        }

        [data-theme="dark"] footer {
            background: rgba(30, 39, 46, 0.2);
            border-top: 1px solid var(--dark-border);
            color: var(--aqua-primary-light);
        }

        /* Tarjetas y contenedores */
        .card {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-backdrop);
            -webkit-backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            box-shadow: var(--glass-shadow);
            padding: var(--padding);
            margin-bottom: var(--margin);
            transition: var(--transition-normal);
            overflow: hidden;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--glass-border);
        }

        .card-title {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--aqua-primary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .card-title i {
            color: var(--aqua-primary);
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        .card-body {
            position: relative;
        }

        .card-body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 206, 201, 0.03), rgba(52, 231, 226, 0.03));
            z-index: 0;
            border-radius: var(--border-radius);
        }

        .card-content {
            position: relative;
            z-index: 1;
        }

        .card-footer {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Botones profesionales */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.6rem 1.5rem;
            background: var(--aqua-primary);
            color: var(--white);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            transition: var(--transition-normal);
            text-decoration: none;
            box-shadow: 0 4px 12px rgba(0, 206, 201, 0.25);
        }

        .btn:hover {
            background: var(--aqua-primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 206, 201, 0.35);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn i {
            font-size: 0.9rem;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--aqua-primary);
            color: var(--aqua-primary);
            box-shadow: none;
        }

        .btn-outline:hover {
            background: var(--aqua-primary);
            color: var(--white);
        }

        .btn-sm {
            padding: 0.4rem 1rem;
            font-size: var(--font-size-xs);
        }

        .btn-danger {
            background: var(--danger);
            border-color: var(--danger);
        }

        .btn-danger:hover {
            background: #e03131;
            border-color: #e03131;
        }

        .btn-warning {
            background: var(--warning);
            border-color: var(--warning);
        }

        .btn-warning:hover {
            background: #f5a623;
            border-color: #f5a623;
        }

        /* Formularios avanzados */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            margin-bottom: 0.75rem;
            color: var(--aqua-primary-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-label i {
            color: var(--aqua-primary);
        }

        .form-control {
            width: 100%;
            padding: 0.8rem 1.2rem;
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius-sm);
            background: var(--glass-bg);
            color: var(--dark);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-normal);
            transition: var(--transition-normal);
            backdrop-filter: blur(4px);
        }

        [data-theme="dark"] .form-control {
            color: var(--dark-text);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--aqua-primary);
            box-shadow: 0 0 0 3px rgba(0, 206, 201, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }

        .input-group {
            display: flex;
            gap: 0.75rem;
        }

        .input-group .form-control {
            flex: 1;
        }

        .input-group .btn {
            white-space: nowrap;
        }

        .form-select {
            appearance: none;
            background: var(--glass-bg);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%2300cec9' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }

        /* Tablas profesionales */
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .table th {
            padding: 1rem 1.2rem;
            text-align: left;
            font-weight: var(--font-weight-semibold);
            color: var(--aqua-primary);
            background: rgba(0, 206, 201, 0.05);
            border-bottom: 2px solid var(--aqua-primary);
        }

        .table td {
            padding: 1rem 1.2rem;
            border-bottom: 1px solid var(--glass-border);
            transition: var(--transition-normal);
        }

        .table tr:hover {
            background: rgba(0, 206, 201, 0.05);
            transform: scale(1.01);
        }

        .status {
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            text-align: center;
        }

        .status-danger {
            background: rgba(255, 56, 56, 0.15);
            color: var(--danger);
        }

        .status-warning {
            background: rgba(255, 168, 1, 0.15);
            color: var(--warning);
        }

        .status-safe {
            background: rgba(0, 210, 106, 0.15);
            color: var(--success);
        }

        .status-info {
            background: rgba(50, 255, 148, 0.15);
            color: var(--info);
        }

        /* Alertas profesionales */
        .alert {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.2rem;
            border-radius: var(--border-radius-sm);
            margin-bottom: 1.5rem;
            font-size: var(--font-size-sm);
            border-left: 4px solid transparent;
            animation: slideIn 0.4s ease;
        }

        .alert-icon {
            font-size: 1.5rem;
            min-width: 24px;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: var(--font-weight-semibold);
            margin-bottom: 0.25rem;
        }

        .alert-close {
            background: transparent;
            border: none;
            color: currentColor;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0.7;
            transition: var(--transition-normal);
        }

        .alert-close:hover {
            opacity: 1;
            transform: rotate(90deg);
        }

        .alert-danger {
            background: rgba(255, 56, 56, 0.1);
            border-color: var(--danger);
            color: var(--danger);
        }

        .alert-danger .alert-icon {
            color: var(--danger);
        }

        .alert-warning {
            background: rgba(255, 168, 1, 0.1);
            border-color: var(--warning);
            color: var(--warning);
        }

        .alert-warning .alert-icon {
            color: var(--warning);
        }

        .alert-success {
            background: rgba(0, 210, 106, 0.1);
            border-color: var(--success);
            color: var(--success);
        }

        .alert-success .alert-icon {
            color: var(--success);
        }

        .alert-info {
            background: rgba(50, 255, 148, 0.1);
            border-color: var(--info);
            color: var(--info);
        }

        .alert-info .alert-icon {
            color: var(--info);
        }

        /* Mapa hospitalario avanzado */
        .hospital-map {
            width: 100%;
            height: 500px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: var(--border-radius);
            margin-bottom: var(--margin);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(0, 206, 201, 0.05) 0%, rgba(0, 206, 201, 0) 70%);
            pointer-events: none;
        }

        .map-area {
            position: absolute;
            cursor: pointer;
            transition: var(--transition-normal);
            border: 2px solid transparent;
        }

        .map-area:hover {
            transform: scale(1.05);
            z-index: 10;
            border-color: var(--aqua-primary);
            box-shadow: 0 8px 16px rgba(0, 206, 201, 0.2);
        }

        .map-label {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            font-size: var(--font-size-xs);
            white-space: nowrap;
        }

        /* Búsqueda avanzada */
        .search-container {
            margin-bottom: var(--margin);
        }

        .search-input {
            position: relative;
            margin-bottom: 1rem;
        }

        .search-input i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--aqua-primary);
            pointer-events: none;
        }

        .form-control.search-input {
            padding-left: 3rem;
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--glass-bg);
            backdrop-filter: var(--glass-backdrop);
            border: 1px solid var(--glass-border);
            border-top: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            max-height: 300px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }

        .search-result-item {
            padding: 0.8rem 1.2rem;
            border-bottom: 1px solid var(--glass-border);
            cursor: pointer;
            transition: var(--transition-normal);
        }

        .search-result-item:hover {
            background: rgba(0, 206, 201, 0.1);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-title {
            font-weight: var(--font-weight-semibold);
            color: var(--aqua-primary);
        }

        .search-result-subtitle {
            font-size: var(--font-size-xs);
            color: var(--gray);
            margin-top: 0.25rem;
        }

        /* PAE (Plan de Atención de Enfermería) avanzado */
        .pae-entry {
            padding: 1.2rem;
            border-bottom: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            transition: var(--transition-normal);
        }

        .pae-entry:hover {
            background: rgba(0, 206, 201, 0.05);
            transform: translateX(4px);
        }

        .pae-info {
            flex: 1;
        }

        .pae-title {
            font-weight: var(--font-weight-semibold);
            color: var(--aqua-primary);
            margin-bottom: 0.25rem;
        }

        .pae-subtitle {
            font-size: var(--font-size-sm);
            color: var(--gray);
        }

        .pae-date {
            font-size: var(--font-size-xs);
            color: var(--gray);
            margin-top: 0.5rem;
        }

        .pae-actions {
            display: flex;
            gap: 0.5rem;
            margin-left: 1rem;
        }

        /* Protocolos avanzados */
        .rcp-step {
            padding: 1.5rem;
            border-left: 4px solid var(--aqua-primary);
            margin-bottom: 1.5rem;
            background: rgba(0, 206, 201, 0.03);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            transition: var(--transition-normal);
        }

        .rcp-step:hover {
            background: rgba(0, 206, 201, 0.08);
            transform: translateX(4px);
        }

        .rcp-step h4 {
            color: var(--aqua-primary);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: var(--font-weight-semibold);
        }

        .rcp-step h4 i {
            color: var(--aqua-primary);
        }

        /* Responsive avanzado */
        @media (max-width: 1200px) {
            :root {
                --sidebar-width: 280px;
            }
            
            .content {
                margin-left: 280px;
            }
        }

        @media (max-width: 768px) {
            .mobile-toggle {
                display: flex;
            }
            
            main {
                flex-direction: column;
            }
            
            aside {
                display: none;
                position: static;
            }
            
            aside.show {
                display: block;
            }
            
            .content {
                margin-left: 0;
            }
            
            .header-right {
                gap: 0.5rem;
            }
            
            .clock {
                padding: 0.4rem 0.8rem;
            }
            
            .clock span {
                display: none;
            }
        }

        .mobile-toggle {
            display: none;
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-normal);
            color: var(--aqua-primary);
        }

        .mobile-toggle:hover {
            background: rgba(0, 206, 201, 0.2);
            border-color: var(--aqua-primary-light);
        }

        /* Animaciones de carga */
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 206, 201, 0.3);
            border-radius: 50%;
            border-top-color: var(--aqua-primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Tooltips */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: var(--white);
            text-align: center;
            border-radius: 6px;
            padding: 0.5rem;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: var(--font-size-xs);
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--dark) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            border-radius: 50px;
            margin-left: 0.5rem;
        }

        .badge-primary {
            background: rgba(0, 206, 201, 0.15);
            color: var(--aqua-primary);
        }

        .badge-danger {
            background: rgba(255, 56, 56, 0.15);
            color: var(--danger);
        }

        .badge-warning {
            background: rgba(255, 168, 1, 0.15);
            color: var(--warning);
        }

        .badge-success {
            background: rgba(0, 210, 106, 0.15);
            color: var(--success);
        }

        /* Animaciones profesionales */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Interacciones de medicamentos */
        .interaction-level {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
        }

        .level-severe {
            background: rgba(255, 56, 56, 0.2);
            color: var(--danger);
        }

        .level-moderate {
            background: rgba(255, 168, 1, 0.2);
            color: var(--warning);
        }

        .level-minor {
            background: rgba(255, 168, 1, 0.1);
            color: var(--warning);
        }

        .level-safe {
            background: rgba(0, 210, 106, 0.2);
            color: var(--success);
        }

        .risk-factor {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .risk-factor i {
            color: var(--warning);
        }

        .interaction-detail {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--glass-border);
        }

        .interaction-detail:last-child {
            border-bottom: none;
        }

        .interaction-title {
            color: var(--aqua-primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 1.5rem 0;
        }

        .print-btn {
            background: var(--success);
            margin-left: 0.5rem;
        }

        .print-btn:hover {
            background: var(--success);
        }

        @media print {
            .no-print, .no-print * {
                display: none !important;
            }
            
            body {
                background: none;
                color: #000;
            }
            
            .content {
                background: none;
                border: none;
                box-shadow: none;
            }
            
            .card {
                background: none;
                border: none;
                box-shadow: none;
            }
            
            .glass-inner {
                background: none;
                border: none;
            }
            
            .alert, .notification, .modal, header, footer, .card-actions, .chart-controls {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <header role="banner" aria-label="Cabecera de MediAssist Pro ULTRA">
        <div class="logo">
            <i class="fas fa-heartbeat"></i>
            <span>MediAssist Pro ULTRA</span>
        </div>
        <div class="header-right">
            <div class="header-item">
                <i class="far fa-calendar-alt"></i>
                <span id="date">15/03/2024</span>
            </div>
            <div class="clock" id="clock">
                <i class="far fa-clock"></i> 
                <span id="time">00:00:00</span>
            </div>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="mobile-toggle" id="mobileToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <main>
        <aside id="sidebar">
            <h3 class="menu-title"><i class="fas fa-tasks"></i> Navegación</h3>
            <ul>
                <li class="menu-item">
                    <button class="menu-btn active" data-section="inicio">
                        <span><i class="fas fa-home"></i> Inicio</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </li>
                <li class="menu-item">
                    <button class="menu-btn" data-section="areas">
                        <span><i class="fas fa-hospital"></i> Áreas Hospitalarias</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </li>
                <li class="menu-item">
                    <button class="menu-btn" data-section="primerosAuxilios">
                        <span><i class="fas fa-first-aid"></i> Primeros Auxilios</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </li>
                <li class="menu-item">
                    <button class="menu-btn" data-section="calculadoras">
                        <span><i class="fas fa-calculator"></i> Calculadoras Médicas</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </li>
                <li class="menu-item">
                    <button class="menu-btn" data-section="interacciones">
                        <span><i class="fas fa-exchange-alt"></i> Interacciones</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </li>
                <li class="menu-item">
                    <button class="menu-btn" data-section="pae">
                        <span><i class="fas fa-notes-medical"></i> PAE</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </li>
                <li class="menu-item">
                    <button class="menu-btn" data-section="extras">
                        <span><i class="fas fa-cogs"></i> Extras</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </li>
            </ul>

            <h3 class="menu-title"><i class="fas fa-clock"></i> Hora</h3>
            <div class="card glass-hover">
                <div class="card-body">
                    <div class="glass-inner">
                        <div class="info-box">
                            <div class="info-icon">
                                <i class="fas fa-ambulance"></i>
                            </div>
                            <div class="info-content">
                                <h4>Emergencias</h4>
                                <p>Llame al 112</p>
                            </div>
                        </div>
                        <div class="info-box">
                            <div class="info-icon">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="info-content">
                                <h4>Urgencias</h4>
                                <p>900 123 456</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <div class="content">
            <!-- Sección Inicio -->
            <section id="inicio" class="section active">
                <div class="card glass-hover">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-home"></i> Bienvenido a MediAssist Pro ULTRA</h3>
                    </div>
                    <div class="card-body">
                        <div class="card-content">
                            <p>Esta herramienta médica integral está diseñada para profesionales de la salud, proporcionando acceso rápido a información crítica, protocolos de atención, calculadoras médicas y recursos esenciales para el trabajo diario en entornos hospitalarios.</p>
                            
                            <div class="grid-3" style="margin: 2rem 0;">
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-book-medical"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Protocolos</h4>
                                        <p>Acceso a protocolos de atención médica</p>
                                    </div>
                                </div>
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-calculator"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Calculadoras</h4>
                                        <p>Herramientas médicas precisas</p>
                                    </div>
                                </div>
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-exchange-alt"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Interacciones</h4>
                                        <p>Verificación de combinaciones de medicamentos</p>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-info">
                                <div class="alert-icon">
                                    <i class="fas fa-info-circle"></i>
                                </div>
                                <div class="alert-content">
                                    <div class="alert-title">Nuevo Sistema de Interacciones</div>
                                    <div>La nueva sección de interacciones de medicamentos permite verificar combinaciones peligrosas y recibir recomendaciones clínicas basadas en evidencia.</div>
                                </div>
                                <button class="alert-close"><i class="fas fa-times"></i></button>
                            </div>

                            <div class="alert alert-warning">
                                <div class="alert-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="alert-content">
                                    <div class="alert-title">Advertencia Importante</div>
                                    <div>Esta herramienta proporciona información de referencia para profesionales médicos. Siempre consulte las guías clínicas actualizadas y las políticas del hospital antes de tomar decisiones clínicas.</div>
                                </div>
                                <button class="alert-close"><i class="fas fa-times"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Áreas Hospitalarias -->
            <section id="areas" class="section">
                <div class="card glass-hover">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-hospital"></i> Áreas Hospitalarias</h3>
                        <div class="card-actions">
                            <button class="btn btn-outline btn-sm" id="refreshAreas"><i class="fas fa-sync"></i> Actualizar</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="search-container">
                            <div class="search-input">
                                <i class="fas fa-search"></i>
                                <input type="text" class="form-control search-input" id="searchArea" placeholder="Buscar área hospitalaria...">
                                <div class="search-results" id="areaResults"></div>
                            </div>
                        </div>

                        <div class="tabs">
                            <div class="tab active" data-tab="urgencias">Urgencias</div>
                            <div class="tab" data-tab="recepcion">Recepción</div>
                            <div class="tab" data-tab="farmacia">Farmacia</div>
                            <div class="tab" data-tab="quirófano">Quirófano</div>
                            <div class="tab" data-tab="uci">UCI</div>
                            <div class="tab" data-tab="maternidad">Maternidad</div>
                            <div class="tab" data-tab="rayosx">Rayos X</div>
                            <div class="tab" data-tab="neurologia">Neurología</div>
                            <div class="tab" data-tab="cardiologia">Cardiología</div>
                            <div class="tab" data-tab="oncologia">Oncología</div>
                            <div class="tab" data-tab="pediatria">Pediatría</div>
                            <div class="tab" data-tab="laboratorio">Laboratorio</div>
                            <div class="tab" data-tab="administracion">Administración</div>
                            <div class="tab" data-tab="personal">Personal</div>
                        </div>

                        <div id="areaContent" class="card-content">
                            <!-- El contenido se llenará dinámicamente -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Primeros Auxilios -->
            <section id="primerosAuxilios" class="section">
                <div class="card glass-hover">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-first-aid"></i> Protocolos de Primeros Auxilios</h3>
                        <div class="card-actions">
                            <button class="btn btn-outline btn-sm" id="printFirstAid"><i class="fas fa-print"></i> Imprimir</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="tabs">
                            <div class="tab active" data-tab="traumatismos">Traumatismos</div>
                            <div class="tab" data-tab="hemorragias">Hemorragias</div>
                            <div class="tab" data-tab="quemaduras">Quemaduras</div>
                            <div class="tab" data-tab="ahogamiento">Ahogamiento</div>
                            <div class="tab" data-tab="intoxicacion">Intoxicación</div>
                            <div class="tab" data-tab="rce">RCP</div>
                        </div>

                        <div id="firstAidContent" class="card-content">
                            <!-- Contenido de primeros auxilios -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Calculadoras Médicas -->
            <section id="calculadoras" class="section">
                <div class="card glass-hover">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-calculator"></i> Calculadoras Médicas</h3>
                        <div class="card-actions">
                            <button class="btn btn-outline btn-sm" id="clearCalculators"><i class="fas fa-eraser"></i> Limpiar</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="tabs">
                            <div class="tab active" data-tab="imc">IMC</div>
                            <div class="tab" data-tab="cardio">Riesgo Cardiovascular</div>
                            <div class="tab" data-tab="medicamentos">Medicamentos</div>
                            <div class="tab" data-tab="goteo">Goteo IV</div>
                        </div>

                        <div id="calculatorContent" class="card-content">
                            <!-- Contenido de calculadoras -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección Interacciones de Medicamentos -->
            <section id="interacciones" class="section">
                <div class="card glass-hover">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-exchange-alt"></i> Verificación de Interacciones de Medicamentos</h3>
                        <div class="card-actions">
                            <button class="btn btn-outline btn-sm" id="printInteractions"><i class="fas fa-print"></i> Imprimir</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning">
                            <div class="alert-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="alert-content">
                                <div class="alert-title">Advertencia Importante</div>
                                <div>Las interacciones entre medicamentos pueden ser peligrosas. Esta herramienta proporciona información de referencia, pero siempre debe consultarse con un especialista antes de prescribir combinaciones.</div>
                            </div>
                            <button class="alert-close"><i class="fas fa-times"></i></button>
                        </div>

                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-pills"></i> Seleccionar medicamentos para verificar interacción:</label>
                            <div class="grid-2">
                                <div>
                                    <select class="form-control" id="medicamento1">
                                        <option value="">Seleccionar primer medicamento</option>
                                        <option value="paracetamol">Paracetamol</option>
                                        <option value="ibuprofeno">Ibuprofeno</option>
                                        <option value="omeprazol">Omeprazol</option>
                                        <option value="aspirina">Aspirina</option>
                                        <option value="simvastatina">Simvastatina</option>
                                        <option value="warfarina">Warfarina</option>
                                        <option value="alcohol">Alcohol</option>
                                        <option value="jugo de toronja">Jugo de Toronja</option>
                                        <option value="antibioticos">Antibióticos</option>
                                        <option value="antiinflamatorios">Antiinflamatorios</option>
                                    </select>
                                </div>
                                <div>
                                    <select class="form-control" id="medicamento2">
                                        <option value="">Seleccionar segundo medicamento</option>
                                        <option value="paracetamol">Paracetamol</option>
                                        <option value="ibuprofeno">Ibuprofeno</option>
                                        <option value="omeprazol">Omeprazol</option>
                                        <option value="aspirina">Aspirina</option>
                                        <option value="simvastatina">Simvastatina</option>
                                        <option value="warfarina">Warfarina</option>
                                        <option value="alcohol">Alcohol</option>
                                        <option value="jugo de toronja">Jugo de Toronja</option>
                                        <option value="antibioticos">Antibióticos</option>
                                        <option value="antiinflamatorios">Antiinflamatorios</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button class="btn" id="verificarInteraccion"><i class="fas fa-check-circle"></i> Verificar Interacción</button>

                        <div id="resultadoInteraccion" style="display: none; margin-top: 1.5rem;">
                            <div class="alert alert-danger" id="alertInteraccion">
                                <div class="alert-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="alert-content">
                                    <div class="alert-title" id="tituloInteraccion">Interacción de Medicamentos</div>
                                    <p id="textoInteraccion">El resultado de la verificación de interacción se mostrará aquí.</p>
                                </div>
                                <button class="alert-close"><i class="fas fa-times"></i></button>
                            </div>

                            <div class="card glass-inner">
                                <h4 class="card-title"><i class="fas fa-info-circle"></i> Detalles de la Interacción</h4>
                                <div id="detallesInteraccion">
                                    <div class="interaction-detail">
                                        <h5 class="interaction-title"><i class="fas fa-vial"></i> Mecanismo</h5>
                                        <p id="mecanismoInteraccion">El mecanismo de interacción se mostrará aquí.</p>
                                    </div>
                                    <div class="interaction-detail">
                                        <h5 class="interaction-title"><i class="fas fa-exclamation-triangle"></i> Gravedad</h5>
                                        <span id="gravedadInteraccion" class="interaction-level level-severe">Severa</span>
                                    </div>
                                    <div class="interaction-detail">
                                        <h5 class="interaction-title"><i class="fas fa-lightbulb"></i> Recomendación</h5>
                                        <p id="recomendacionInteraccion">La recomendación clínica se mostrará aquí.</p>
                                    </div>
                                    <div id="factoresRiesgo">
                                        <h5 class="interaction-title"><i class="fas fa-exclamation-triangle"></i> Factores de Riesgo Adicionales</h5>
                                        <div id="listaFactoresRiesgo"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card glass-inner">
                            <h4 class="card-title"><i class="fas fa-list"></i> Historial de Verificaciones</h4>
                            <div id="historialInteracciones">
                                <p style="text-align: center; color: var(--gray);">No hay verificaciones realizadas. Realice una verificación para ver el historial.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección PAE -->
            <section id="pae" class="section">
                <div class="card glass-hover">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-notes-medical"></i> Plan de Atención de Enfermería (PAE)</h3>
                        <div class="card-actions">
                            <button class="btn" id="agregarPAE"><i class="fas fa-plus"></i> Nuevo PAE</button>
                        </div>
                    </div>
                    <div class="card-body" id="historialPAE">
                        <p style="text-align: center; color: var(--gray);">No hay registros de PAE. Cree el primero haciendo clic en "Nuevo PAE".</p>
                    </div>
                </div>
            </section>

            <!-- Sección Extras -->
            <section id="extras" class="section">
                <div class="card glass-hover">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-cogs"></i> Herramientas Profesionales</h3>
                    </div>
                    <div class="card-body">
                        <div class="tabs">
                            <div class="tab active" data-tab="pae">PAE</div>
                            <div class="tab" data-tab="medicamentos">Medicamentos</div>
                            <div class="tab" data-tab="enfermedades">Enfermedades</div>
                            <div class="tab" data-tab="protocolos">Protocolos</div>
                        </div>

                        <div id="extrasContent" class="card-content">
                            <!-- Contenido de extras -->
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <p>MediAssist Pro ULTRA © 2024 - Aplicación médica para profesionales de la salud</p>
        <p>Esta herramienta es de uso exclusivo para personal médico autorizado</p>
    </footer>

    <!-- Modal para agregar PAE -->
    <div class="modal" id="paeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-notes-medical"></i> Nuevo Plan de Atención de Enfermería</h3>
                <button class="modal-close" id="closePaeModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formularioPAE">
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-user-injured"></i> Nombre del paciente:</label>
                        <input type="text" class="form-control" id="paePaciente" placeholder="Nombre del paciente">
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-diagnoses"></i> Diagnóstico de enfermería:</label>
                        <textarea class="form-control" id="paeDiagnostico" rows="3" placeholder="Ej: Riesgo de infección relacionado con herida quirúrgica"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-bullseye"></i> Objetivos:</label>
                        <textarea class="form-control" id="paeObjetivos" rows="3" placeholder="Ej: El paciente mantendrá la herida limpia y seca sin signos de infección en 72 horas"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-hand-holding-medical"></i> Intervenciones:</label>
                        <textarea class="form-control" id="paeIntervenciones" rows="3" placeholder="Ej: Cambio de apósito estéril cada 24 horas, observación de signos de infección, educación del paciente"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-clipboard-check"></i> Evaluación:</label>
                        <textarea class="form-control" id="paeEvaluacion" rows="3" placeholder="Ej: Herida sin signos de infección, paciente informa disminución del dolor"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelPae">Cancelar</button>
                <button class="btn" id="guardarPAE"><i class="fas fa-save"></i> Guardar PAE</button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationMessage">Acción realizada con éxito</span>
    </div>

    <script>
        // Datos de áreas hospitalarias
        const areasData = {
            'urgencias': {
                titulo: 'Urgencias',
                descripcion: 'Atención inmediata a pacientes con condiciones médicas agudas. Servicio 24/7 con equipo multidisciplinar.',
                personal: 'Dr. Juan Pérez (Médico de Urgencias), Dra. María López (Traumatóloga), Enf. Carlos Gómez (Enfermero de Urgencias)',
                contacto: 'Tfno: 900 123 456, Ext: 101, Email: urgencias@hospital.com'
            },
            'recepcion': {
                titulo: 'Recepción',
                descripcion: 'Punto de información y registro de pacientes. Atención al público y gestión administrativa.',
                personal: 'Srta. Ana Martínez (Recepcionista), Sr. David Ruiz (Coordinador Administrativo)',
                contacto: 'Tfno: 900 123 456, Ext: 100, Email: recepcion@hospital.com'
            },
            'farmacia': {
                titulo: 'Farmacia',
                descripcion: 'Dispensación de medicamentos y asesoramiento farmacéutico. Horario: 8:00-20:00.',
                personal: 'Dra. Laura Sánchez (Farmacéutica Jefe), Dr. Pablo Díaz (Farmacéutico)',
                contacto: 'Tfno: 900 123 456, Ext: 105, Email: farmacia@hospital.com'
            },
            'quirófano': {
                titulo: 'Quirófano',
                descripcion: 'Salas de intervención quirúrgica. Equipadas con tecnología avanzada para cirugías generales, traumatología y neurocirugía.',
                personal: 'Dr. Roberto Fernández (Cirujano General), Enf. Elena Castro (Instrumentista)',
                contacto: 'Tfno: 900 123 456, Ext: 201, Email: quirófano@hospital.com'
            },
            'uci': {
                titulo: 'Unidad de Cuidados Intensivos (UCI)',
                descripcion: 'Atención especializada para pacientes críticos. Monitorización continua y soporte vital avanzado.',
                personal: 'Dra. Patricia Gómez (Intensivista), Dr. Miguel Ángel Torres (Neurólogo)',
                contacto: 'Tfno: 900 123 456, Ext: 205, Email: uci@hospital.com'
            },
            'maternidad': {
                titulo: 'Maternidad',
                descripcion: 'Atención al parto, sala de dilatación y postparto. Cuidado neonatal y unidad de cuidados intensivos neonatales.',
                personal: 'Dra. Isabel Ramírez (Ginecóloga), Enf. Marta Jiménez (Matrona)',
                contacto: 'Tfno: 900 123 456, Ext: 301, Email: maternidad@hospital.com'
            },
            'rayosx': {
                titulo: 'Rayos X',
                descripcion: 'Servicio de radiología diagnóstica. Radiografías, fluoroscopia, mamografía y densitometría ósea.',
                personal: 'Dr. Francisco Hernández (Radiólogo), Téc. Laura Ortiz (Técnico de Rayos X)',
                contacto: 'Tfno: 900 123 456, Ext: 210, Email: rayosx@hospital.com'
            },
            'neurologia': {
                titulo: 'Neurología',
                descripcion: 'Diagnóstico y tratamiento de enfermedades del sistema nervioso central y periférico.',
                personal: 'Dr. Alberto Vargas (Neurólogo), Dra. Silvia Mendoza (Neuropsicóloga)',
                contacto: 'Tfno: 900 123 456, Ext: 401, Email: neurologia@hospital.com'
            },
            'cardiologia': {
                titulo: 'Cardiología',
                descripcion: 'Evaluación y tratamiento de enfermedades del corazón y sistema circulatorio. Unidad coronaria y hemodinámica.',
                personal: 'Dr. José Luis Navarro (Cardiólogo), Dra. Beatriz Paredes (Electrofisióloga)',
                contacto: 'Tfno: 900 123 456, Ext: 405, Email: cardiologia@hospital.com'
            },
            'oncologia': {
                titulo: 'Oncología',
                descripcion: 'Diagnóstico y tratamiento del cáncer. Quimioterapia, radioterapia y cuidados paliativos.',
                personal: 'Dr. Manuel Castro (Oncólogo Médico), Dra. Raquel Suárez (Oncóloga Radioterápica)',
                contacto: 'Tfno: 900 123 456, Ext: 410, Email: oncologia@hospital.com'
            },
            'pediatria': {
                titulo: 'Pediatría',
                descripcion: 'Atención médica especializada para niños y adolescentes. Consultas externas y hospitalización.',
                personal: 'Dra. Carmen Rivas (Pediatra), Dr. Daniel Ortega (Neonatólogo)',
                contacto: 'Tfno: 900 123 456, Ext: 501, Email: pediatria@hospital.com'
            },
            'laboratorio': {
                titulo: 'Laboratorio',
                descripcion: 'Análisis clínicos y pruebas de diagnóstico. Resultados en 24-48 horas.',
                personal: 'Dr. Ignacio Molina (Bioquímico), Téc. Ana Belén López (Técnico de Laboratorio)',
                contacto: 'Tfno: 900 123 456, Ext: 215, Email: laboratorio@hospital.com'
            },
            'administracion': {
                titulo: 'Administración',
                descripcion: 'Gestión administrativa del hospital. Recursos humanos, finanzas y planificación estratégica.',
                personal: 'Sr. Antonio Ruiz (Director Administrativo), Sra. Marta Sánchez (Jefa de RRHH)',
                contacto: 'Tfno: 900 123 456, Ext: 601, Email: administracion@hospital.com'
            },
            'personal': {
                titulo: 'Personal',
                descripcion: 'Departamento de recursos humanos. Contratación, formación y desarrollo del personal médico y administrativo.',
                personal: 'Sra. Elena Gómez (Responsable de Personal), Sr. Javier Martínez (Técnico de RRHH)',
                contacto: 'Tfno: 900 123 456, Ext: 602, Email: personal@hospital.com'
            }
        };

        // Datos de primeros auxilios
        const firstAidData = {
            'traumatismos': `
                <div class="glass-inner">
                    <h4><i class="fas fa-bone"></i> Fracturas</h4>
                    <p>Síntomas: dolor intenso, deformidad, hinchazón, imposibilidad de mover la extremidad.</p>
                    <ol>
                        <li>Inmovilice la zona afectada sin tratar de realinear el hueso</li>
                        <li>Aplicar frío para reducir la hinchazón (no hielo directo)</li>
                        <li>Elevación de la extremidad si es posible</li>
                        <li>Control del dolor si está permitido</li>
                        <li>Buscar atención médica inmediata</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-skull"></i> Fractura de Cráneo</h4>
                    <p>Síntomas: pérdida de conciencia, vómitos, sangre o líquido por oído/nariz, pupilas desiguales.</p>
                    <ol>
                        <li>Mantenga al paciente acostado y quieto</li>
                        <li>No taponar orificios por donde sale líquido</li>
                        <li>No dar alimentos ni bebidas</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-spine"></i> Fractura de Columna</h4>
                    <ol>
                        <li>No mover al paciente a menos que haya peligro inminente</li>
                        <li>Mantener alineación cabeza-cuello-columna</li>
                        <li>Si debe moverlo, hacerlo como una sola unidad (técnica de log roll)</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
            `,
            'hemorragias': `
                <div class="glass-inner">
                    <h4><i class="fas fa-tint"></i> Hemorragia Externa</h4>
                    <ol>
                        <li>Aplicar presión directa sobre la herida con gasa estéril o tela limpia</li>
                        <li>Elevar la extremidad por encima del nivel del corazón si es posible</li>
                        <li>Aplicar vendaje compresivo si la hemorragia continúa</li>
                        <li>Si hay un objeto incrustado, no lo retire; aplique presión alrededor del objeto</li>
                        <li>Llame al 112 si la hemorragia no cede o es muy abundante</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-arrow-down"></i> Hemorragia Interna</h4>
                    <p>Síntomas: palidez, sudoración, pulso rápido y débil, confusión, dolor abdominal o torácico, hematomas sin causa aparente.</p>
                    <ol>
                        <li>Mantenga al paciente acostado y quieto</li>
                        <li>Eleve las piernas si no hay lesión en columna</li>
                        <li>Administre oxígeno si está disponible</li>
                        <li>No administre alimentos ni bebidas</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-ambulance"></i> Hemorragia Nasal</h4>
                    <ol>
                        <li>Siente al paciente con la cabeza ligeramente inclinada hacia delante</li>
                        <li>Pídale que se pinche la nariz con los dedos durante 10-15 minutos</li>
                        <li>No introduzca nada en la nariz</li>
                        <li>Si la hemorragia persiste más de 20 minutos, busque atención médica</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-tint-slash"></i> Hemorragia Dental</h4>
                    <ol>
                        <li>Aplicar presión con gasa estéril sobre la encía</li>
                        <li>Si hay un diente extraído, colocar gasa en el alveolo y pedir que muerda</li>
                        <li>Aplicar frío externo en la zona</li>
                        <li>Evitar enjuagues bucales durante las primeras 24 horas</li>
                    </ol>
                </div>
            `,
            'quemaduras': `
                <div class="glass-inner">
                    <h4><i class="fas fa-fire"></i> Clasificación de Quemaduras</h4>
                    <ul>
                        <li><strong>1er grado:</strong> Enrojecimiento, dolor (ej: quemadura solar)</li>
                        <li><strong>2do grado:</strong> Ampollas, dolor intenso</li>
                        <li><strong>3er grado:</strong> Destrucción de tejidos, puede no doler por daño nervioso</li>
                    </ul>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-band-aid"></i> Tratamiento</h4>
                    <ol>
                        <li>Enfriar la quemadura con agua corriente durante 10-15 minutos</li>
                        <li>Cubrir con gasa estéril o tela limpia</li>
                        <li>Prevenir hipotermia</li>
                        <li>Valorar necesidad de traslado a unidad especializada</li>
                        <li>Aplicar fórmula de Parkland si >20% superficie corporal</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-skull"></i> Traumatismo Craneoencefálico</h4>
                    <ul>
                        <li>Mantener inmovilización cervical</li>
                        <li>Controlar vía aérea, respiración y circulación</li>
                        <li>Monitoreo neurológico (escala de Glasgow)</li>
                        <li>Evitar hipercapnia e hipotensión</li>
                        <li>Preparar para TC craneal</li>
                    </ul>
                </div>
            `,
            'ahogamiento': `
                <div class="glass-inner">
                    <h4><i class="fas fa-swimmer"></i> Rescate Acuático</h4>
                    <ol>
                        <li>No entre al agua a menos que esté capacitado y sea seguro</li>
                        <li>Use objetos flotantes para acercar al paciente a la orilla</li>
                        <li>Si debe entrar, use equipo de flotación y evite el contacto directo si el paciente está agitado</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-heartbeat"></i> Evaluación y RCP</h4>
                    <ol>
                        <li>Saque al paciente del agua con cuidado</li>
                        <li>Verifique respuesta: "¡Oiga! ¿Está bien?"</li>
                        <li>Si no responde, llame al 112</li>
                        <li>Comience la RCP inmediatamente si no hay pulso</li>
                        <li>El riesgo de vómito es alto; si ocurre, gire al paciente de lado y limpie la boca</li>
                        <li>El hipotermia es común; mantenga al paciente caliente una vez estabilizado</li>
                    </ol>
                </div>
            `,
            'intoxicacion': `
                <div class="glass-inner">
                    <h4><i class="fas fa-pills"></i> Intoxicación por Medicamentos</h4>
                    <ol>
                        <li>Verifique estado de conciencia y respiración</li>
                        <li>Busque envases o restos del medicamento</li>
                        <li>No induzca el vómito a menos que lo indique un profesional</li>
                        <li>No administre leche, carbón activado u otros remedios caseros</li>
                        <li>Llame al 112 o al Servicio de Información Toxicológica</li>
                        <li>Proporcione información sobre el medicamento, cantidad y hora de ingestión</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-gas-pump"></i> Intoxicación por Gases</h4>
                    <ol>
                        <li>Salga del área contaminada si es seguro</li>
                        <li>Abrir ventanas y puertas para ventilar</li>
                        <li>Apague fuentes de ignición si es seguro</li>
                        <li>Saque al paciente al aire libre</li>
                        <li>Administre oxígeno si está disponible</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-utensils"></i> Intoxicación Alimentaria</h4>
                    <ol>
                        <li>Detenga la ingestión del alimento sospechoso</li>
                        <li>Mantenga al paciente hidratado con pequeños sorbos de agua</li>
                        <li>No administre antieméticos o antidiarreicos sin indicación médica</li>
                        <li>Guarde una muestra del alimento si es posible</li>
                        <li>Busque atención médica si hay fiebre alta, sangre en vómitos o deposiciones, o signos de deshidratación</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-leaf"></i> Intoxicación por Plantas</h4>
                    <ol>
                        <li>Identifique la planta si es posible</li>
                        <li>No induzca el vómito</li>
                        <li>Lave la boca con agua</li>
                        <li>Llame al Servicio de Información Toxicológica</li>
                        <li>Guarde una muestra de la planta o vómito si es posible</li>
                    </ol>
                </div>
            `,
            'rce': `
                <div class="rcp-step">
                    <h4><i class="fas fa-user-check"></i> 1. Evaluación inicial</h4>
                    <p>Verifique la respuesta del paciente: "¡Oiga! ¿Está bien?". Si no hay respuesta, llame a emergencias (112) y pida un DEA. Envíe a alguien a buscar el DEA mientras usted comienza la RCP.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
                    <p>Compruebe pulso carotídeo durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP inmediatamente. No pase más de 10 segundos en esta comprobación.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
                    <p>Realice compresiones en el centro del pecho a una profundidad de 5-6 cm a una frecuencia de 100-120 por minuto. Permita que el pecho se reexpanda completamente entre compresiones.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
                    <p>Después de 30 compresiones, realice 2 ventilaciones de 1 segundo cada una, observando la elevación del pecho. Si no está capacitado en ventilaciones, realice solo compresiones torácicas.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
                    <p>Cuando llegue el DEA, enciéndalo y siga las instrucciones. Asegúrese de que nadie toque al paciente durante el análisis. Si se recomienda una descarga, asegúrese de que todos estén alejados y active la descarga.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-clipboard-check"></i> 6. Continuar RCP</h4>
                    <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda médica, el paciente muestre signos de vida, o usted esté demasiado cansado para continuar.</p>
                </div>
            `
        };

        // Datos para calculadoras
        const calculatorsData = {
            'imc': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-weight"></i> Peso (kg):</label>
                    <input type="number" class="form-control" id="pesoIMC" placeholder="Ej: 70">
                </div>
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-ruler-vertical"></i> Altura (cm):</label>
                    <input type="number" class="form-control" id="alturaIMC" placeholder="Ej: 170">
                </div>
                <button class="btn" id="calcularIMC"><i class="fas fa-calculator"></i> Calcular IMC</button>
                <div id="resultadoIMC" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 class="card-title">Resultado del IMC</h4>
                        <div class="grid-2">
                            <div>
                                <p><strong>IMC:</strong> <span id="valorIMC"></span> kg/m²</p>
                                <p><strong>Clasificación:</strong> <span id="clasificacionIMC"></span></p>
                            </div>
                            <div>
                                <p><strong>Peso ideal:</strong> <span id="pesoIdeal"></span> kg</p>
                                <p><strong>Diferencia:</strong> <span id="diferenciaPeso"></span> kg</p>
                            </div>
                        </div>
                        <div class="progress-container">
                            <div class="progress-text">Nivel de riesgo: <span id="nivelRiesgo"></span></div>
                            <div class="progress-bar" id="barraRiesgo" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            `,
            'cardio': `
                <div class="grid-2">
                    <div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-user"></i> Edad:</label>
                            <input type="number" class="form-control" id="edadCardio" placeholder="Ej: 45">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-venus-mars"></i> Sexo:</label>
                            <select class="form-control" id="sexoCardio">
                                <option value="">Seleccionar</option>
                                <option value="masculino">Masculino</option>
                                <option value="femenino">Femenino</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-heart"></i> Presión arterial sistólica (mmHg):</label>
                            <input type="number" class="form-control" id="pasCardio" placeholder="Ej: 120">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-smoking"></i> ¿Fumador?</label>
                            <select class="form-control" id="fumadorCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-chart-line"></i> Colesterol total (mg/dL):</label>
                            <input type="number" class="form-control" id="colesterolCardio" placeholder="Ej: 200">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-heartbeat"></i> HDL (mg/dL):</label>
                            <input type="number" class="form-control" id="hdlCardio" placeholder="Ej: 50">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-diabetes"></i> ¿Diabetes?</label>
                            <select class="form-control" id="diabetesCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-prescription"></i> ¿Tratamiento para hipertensión?</label>
                            <select class="form-control" id="htaCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button class="btn" id="calcularCardio"><i class="fas fa-calculator"></i> Calcular Riesgo</button>
                <div id="resultadoCardio" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 class="card-title">Resultado del Riesgo Cardiovascular</h4>
                        <p><strong>Riesgo a 10 años:</strong> <span id="riesgoCardio"></span>%</p>
                        <p><strong>Clasificación:</strong> <span id="clasificacionCardio"></span></p>
                        <p><strong>Recomendaciones:</strong> <span id="recomendacionesCardio"></span></p>
                    </div>
                </div>
            `,
            'medicamentos': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-pills"></i> Nombre del medicamento:</label>
                    <input type="text" class="form-control" id="buscadorMedicamento" placeholder="Ej: Paracetamol, Ibuprofeno...">
                </div>
                <button class="btn" id="buscarMedicamentoBtn"><i class="fas fa-search"></i> Buscar Medicamento</button>
                <div id="resultadoMedicamento" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 id="nombreMedicamento" class="card-title" style="font-size: var(--font-size-xl); margin-bottom: 1rem;"></h4>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-flask"></i> Principio activo:</label>
                            <p id="principioActivo"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-notes-medical"></i> Indicaciones:</label>
                            <p id="indicaciones"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-ban"></i> Contraindicaciones:</label>
                            <p id="contraindicaciones"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-exclamation-triangle"></i> Efectos secundarios:</label>
                            <p id="efectosSecundarios"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-prescription"></i> Dosis habitual:</label>
                            <p id="dosis"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-exclamation-circle"></i> Advertencias:</label>
                            <p id="advertencias"></p>
                        </div>
                    </div>
                </div>
            `,
            'goteo': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-tint"></i> Volumen a administrar (ml):</label>
                    <input type="number" class="form-control" id="volumenGoteo" placeholder="Ej: 1000">
                </div>
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-clock"></i> Tiempo de infusión (horas):</label>
                    <input type="number" class="form-control" id="tiempoGoteo" placeholder="Ej: 8">
                </div>
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-droplet"></i> Tipo de equipo de goteo:</label>
                    <select class="form-control" id="tipoGoteo">
                        <option value="macro">Macro goteo (20 gotas/ml)</option>
                        <option value="micro">Micro goteo (60 gotas/ml)</option>
                    </select>
                </div>
                <button class="btn" id="calcularGoteo"><i class="fas fa-calculator"></i> Calcular Goteo</button>
                <div id="resultadoGoteo" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 class="card-title">Resultado del Cálculo de Goteo</h4>
                        <div class="grid-2">
                            <div>
                                <p><strong>Volumen:</strong> <span id="volumenResultado"></span> ml</p>
                                <p><strong>Tiempo:</strong> <span id="tiempoResultado"></span> horas</p>
                            </div>
                            <div>
                                <p><strong>Goteo por minuto:</strong> <span id="goteoMinuto"></span> gotas/min</p>
                                <p><strong>Goteo por hora:</strong> <span id="goteoHora"></span> gotas/hora</p>
                            </div>
                        </div>
                        <div class="alert alert-info" style="margin-top: 1rem;">
                            <div class="alert-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="alert-content">
                                <div class="alert-title">Consejo Clínico</div>
                                <div>Verifique regularmente el flujo de infusión y ajuste según sea necesario. Monitoree signos de sobrecarga de volumen.</div>
                            </div>
                        </div>
                    </div>
                </div>
            `
        };

        // Datos de interacciones de medicamentos
        const interaccionesData = [
            {
                medicamento1: 'paracetamol',
                medicamento2: 'alcohol',
                nivel: 'severe',
                titulo: 'Combinación Peligrosa: Paracetamol y Alcohol',
                descripcion: 'Combinación extremadamente peligrosa que puede causar daño hepático severo e incluso fallo hepático agudo.',
                mecanismo: 'El alcohol aumenta la toxicidad del paracetamol al inducir las enzimas del citocromo P450, especialmente CYP2E1, que convierten el paracetamol en un metabolito tóxico (NAPQI). Simultáneamente, el alcohol reduce la disponibilidad de glutatión, que es necesario para desintoxicar este metabolito.',
                recomendacion: 'Evitar completamente la combinación. Si se consume alcohol regularmente, reducir significativamente la dosis de paracetamol o usar alternativas. En caso de sobredosis, administrar N-acetilcisteína inmediatamente.',
                factoresRiesgo: [
                    'Consumo crónico de alcohol',
                    'Malnutrición',
                    'Insuficiencia hepática preexistente',
                    'Dosis altas de paracetamol (>4g/día)',
                    'Uso prolongado de la combinación'
                ]
            },
            {
                medicamento1: 'paracetamol',
                medicamento2: 'warfarina',
                nivel: 'moderate',
                titulo: 'Interacción: Paracetamol y Warfarina',
                descripcion: 'El paracetamol puede potenciar el efecto anticoagulante de la warfarina, aumentando el riesgo de hemorragia.',
                mecanismo: 'El paracetamol en dosis altas (>2g/día) durante períodos prolongados puede inhibir la agregación plaquetaria y potenciar el efecto anticoagulante de la warfarina, posiblemente mediante mecanismos que no están completamente claros pero que podrían incluir efectos sobre la síntesis de factores de coagulación.',
                recomendacion: 'Monitorizar el INR más frecuentemente cuando se inicie o detenga el tratamiento con paracetamol. Considerar reducir la dosis de warfarina si se requiere paracetamol a largo plazo. Preferir dosis bajas de paracetamol (<2g/día) si es posible.',
                factoresRiesgo: [
                    'Dosis altas de paracetamol (>2g/día)',
                    'Tratamiento prolongado con paracetamol (>1 semana)',
                    'INR inestable previamente',
                    'Edad avanzada',
                    'Historia previa de hemorragia'
                ]
            },
            {
                medicamento1: 'ibuprofeno',
                medicamento2: 'aspirina',
                nivel: 'moderate',
                titulo: 'Interacción: Ibuprofeno y Aspirina',
                descripcion: 'El ibuprofeno puede interferir con el efecto antiagregante plaquetario de la aspirina cuando se toman juntos.',
                mecanismo: 'El ibuprofeno compite con la aspirina por el sitio activo de la ciclooxigenasa-1 (COX-1) en las plaquetas. Si el ibuprofeno se toma antes que la aspirina, puede bloquear el acceso de la aspirina a su sitio de acción, reduciendo su efecto antiagregante y potencialmente aumentando el riesgo de eventos cardiovasculares en pacientes que toman aspirina para prevención secundaria.',
                recomendacion: 'Evitar el uso regular de ibuprofeno en pacientes que toman aspirina para prevención cardiovascular. Si es necesario, tomar la aspirina al menos 30 minutos antes del ibuprofeno o 8 horas después. Considerar alternativas como el paracetamol o naproxeno.',
                factoresRiesgo: [
                    'Uso crónico de ibuprofeno',
                    'Pacientes con enfermedad cardiovascular establecida',
                    'Dosis altas de ibuprofeno',
                    'Edad avanzada',
                    'Historia de enfermedad cardiovascular'
                ]
            },
            {
                medicamento1: 'ibuprofeno',
                medicamento2: 'warfarina',
                nivel: 'moderate',
                titulo: 'Interacción: Ibuprofeno y Warfarina',
                descripcion: 'Combinación que aumenta significativamente el riesgo de hemorragia gastrointestinal y sistémica.',
                mecanismo: 'Los AINEs como el ibuprofeno inhiben la ciclooxigenasa-1 (COX-1), reduciendo la producción de prostaglandinas gastroprotectores y aumentando el riesgo de úlceras gástricas. Además, afectan la función plaquetaria. Cuando se combinan con anticoagulantes como la warfarina, el riesgo de hemorragia se multiplica.',
                recomendacion: 'Evitar la combinación si es posible. Si es necesaria, usar la dosis más baja de ibuprofeno durante el menor tiempo posible. Considerar la coadministración con un protector gástrico (omeprazol o pantoprazol). Monitorizar el INR más frecuentemente.',
                factoresRiesgo: [
                    'Edad > 65 años',
                    'Historia previa de úlcera gástrica o hemorragia digestiva',
                    'Dosis altas de warfarina (INR > 3)',
                    'Uso concomitante de corticosteroides',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'omeprazol',
                medicamento2: 'clopidogrel',
                nivel: 'moderate',
                titulo: 'Interacción: Omeprazol y Clopidogrel',
                descripcion: 'El omeprazol puede reducir la eficacia del clopidogrel, aumentando el riesgo de eventos cardiovasculares.',
                mecanismo: 'El clopidogrel es un profármaco que requiere activación por la enzima CYP2C19. El omeprazol es un inhibidor potente de CYP2C19, lo que reduce significativamente la conversión del clopidogrel a su metabolito activo, disminuyendo su efecto antiagregante.',
                recomendacion: 'Evitar la combinación de omeprazol con clopidogrel. Si es necesario un IBP, usar pantoprazol (menos inhibidor de CYP2C19) o dexlansoprazol. Considerar alternativas como la ranitidina si es apropiado. Monitorear la función plaquetaria si no se puede evitar la combinación.',
                factoresRiesgo: [
                    'Pacientes con stent coronario reciente',
                    'Pacientes con infarto de miocardio reciente',
                    'Pacientes con accidente cerebrovascular isquémico',
                    'Dosis altas de omeprazol',
                    'Genotipo CYP2C19 pobre metabolizador'
                ]
            },
            {
                medicamento1: 'simvastatina',
                medicamento2: 'jugo de toronja',
                nivel: 'severe',
                titulo: 'Combinación Peligrosa: Simvastatina y Jugo de Toronja',
                descripcion: 'Combinación extremadamente peligrosa que puede causar rabdomiólisis y fallo renal agudo.',
                mecanismo: 'El jugo de toronja inhibe fuertemente la enzima CYP3A4 en el intestino delgado, que es responsable del metabolismo de la simvastatina. Esto lleva a un aumento de 10-15 veces en la biodisponibilidad de la simvastatina, causando niveles plasmáticos tóxicos que pueden dañar gravemente los músculos.',
                recomendacion: 'Evitar completamente el jugo de toronja y toronjas mientras se toma simvastatina. Informar al paciente sobre esta interacción crítica. Si se requiere un estatin, considerar alternativas como pravastatina o rosuvastatina que no dependen del metabolismo por CYP3A4.',
                factoresRiesgo: [
                    'Dosis altas de simvastatina (>20mg/día)',
                    'Edad > 65 años',
                    'Insuficiencia renal',
                    'Hipotiroidismo no tratado',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'warfarina',
                medicamento2: 'aspirina',
                nivel: 'severe',
                titulo: 'Combinación de Alto Riesgo: Warfarina y Aspirina',
                descripcion: 'Combinación que aumenta dramáticamente el riesgo de hemorragia grave, incluyendo hemorragia gastrointestinal y hemorragia cerebral.',
                mecanismo: 'La warfarina inhibe la síntesis de factores de coagulación dependientes de la vitamina K, mientras que la aspirina inhibe la agregación plaquetaria. La combinación de estos dos mecanismos antitrombóticos tiene un efecto sinérgico en la prolongación del tiempo de sangrado, multiplicando el riesgo de hemorragia.',
                recomendacion: 'Evitar la combinación salvo en indicaciones específicas y bien justificadas (como en ciertos casos de fibrilación auricular con enfermedad coronaria). Si se usa, monitorizar el INR más frecuentemente y educar al paciente sobre los signos de hemorragia. Considerar alternativas como inhibidores del factor Xa (apixaban, rivaroxaban) que pueden tener perfiles de seguridad mejores en algunas situaciones.',
                factoresRiesgo: [
                    'Edad > 75 años',
                    'Historia previa de hemorragia gastrointestinal',
                    'Hipertensión mal controlada',
                    'Insuficiencia renal',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'warfarina',
                medicamento2: 'ibuprofeno',
                nivel: 'severe',
                titulo: 'Combinación Peligrosa: Warfarina e Ibuprofeno',
                descripcion: 'Combinación extremadamente peligrosa que aumenta el riesgo de hemorragia gastrointestinal severa y hemorragia sistémica.',
                mecanismo: 'La warfarina altera la coagulación sanguínea, mientras que el ibuprofeno daña la mucosa gástrica y afecta la función plaquetaria. La combinación crea un "efecto doble" que aumenta exponencialmente el riesgo de hemorragia, especialmente en el tracto gastrointestinal.',
                recomendacion: 'Evitar completamente la combinación. Si se necesita analgesia, usar paracetamol como alternativa. Si es absolutamente necesario usar un AINE, considerar uno con menor riesgo gastrointestinal como el celecoxib con protección gástrica (omeprazol), pero solo por periodos muy cortos y con monitorización estrecha.',
                factoresRiesgo: [
                    'Edad > 65 años',
                    'Historia de úlcera péptica',
                    'INR > 3',
                    'Uso concomitante de corticosteroides',
                    'Consumo de alcohol'
                ]
            },
            {
                medicamento1: 'omeprazol',
                medicamento2: 'metotrexato',
                nivel: 'moderate',
                titulo: 'Interacción: Omeprazol y Metotrexato',
                descripcion: 'El omeprazol puede aumentar los niveles y toxicidad del metotrexato, especialmente en dosis altas.',
                mecanismo: 'El omeprazol puede competir con el metotrexato por la secreción tubular renal, reduciendo la eliminación del metotrexato y aumentando sus niveles plasmáticos. Esto es especialmente relevante con dosis altas de metotrexato utilizadas en oncología.',
                recomendacion: 'Evitar la combinación durante la administración de metotrexato de alta dosis. Si es necesaria, suspender el omeprazol temporalmente durante el tratamiento con metotrexato y reanudarlo después. Monitorizar los niveles de metotrexato y signos de toxicidad (mucositis, mielosupresión).',
                factoresRiesgo: [
                    'Dosis altas de metotrexato (>500mg/m²)',
                    'Insuficiencia renal',
                    'Desnutrición',
                    'Edad avanzada',
                    'Uso concomitante de otros nefrotóxicos'
                ]
            },
            {
                medicamento1: 'simvastatina',
                medicamento2: 'eritromicina',
                nivel: 'severe',
                titulo: 'Combinación Peligrosa: Simvastatina y Eritromicina',
                descripcion: 'Combinación extremadamente peligrosa que puede causar rabdomiólisis y fallo renal agudo.',
                mecanismo: 'La eritromicina es un inhibidor potente del citocromo P450 3A4 (CYP3A4), la misma enzima que metaboliza la simvastatina. Esto lleva a un aumento dramático en los niveles plasmáticos de simvastatina, aumentando el riesgo de toxicidad muscular.',
                recomendacion: 'Evitar completamente la combinación. Si se necesita un antibiótico macrólido, considerar azitromicina como alternativa (menos inhibidora de CYP3A4). Si no se puede evitar, suspender temporalmente la simvastatina durante el tratamiento con eritromicina. Considerar alternativas como pravastatina o fluvastatina que no dependen de CYP3A4.',
                factoresRiesgo: [
                    'Dosis altas de simvastatina (>20mg/día)',
                    'Insuficiencia renal',
                    'Hipotiroidismo',
                    'Edad > 65 años',
                    'Uso concomitante de otros medicamentos que afectan CYP3A4'
                ]
            },
            {
                medicamento1: 'paracetamol',
                medicamento2: 'antibioticos',
                nivel: 'minor',
                titulo: 'Interacción: Paracetamol y Antibióticos',
                descripcion: 'Generalmente segura, pero algunos antibióticos pueden afectar el metabolismo del paracetamol.',
                mecanismo: 'Algunos antibióticos como la isoniazida pueden inducir las enzimas del citocromo P450, potencialmente aumentando la formación de metabolitos tóxicos del paracetamol. La mayoría de los antibióticos no tienen interacción significativa.',
                recomendacion: 'Puede usarse simultáneamente en la mayoría de los casos. Para antibióticos que inducen CYP450 (como isoniazida), considerar dosis más bajas de paracetamol y monitorear función hepática.',
                factoresRiesgo: [
                    'Tratamiento con isoniazida',
                    'Insuficiencia hepática',
                    'Consumo de alcohol',
                    'Tratamiento prolongado'
                ]
            },
            {
                medicamento1: 'ibuprofeno',
                medicamento2: 'antiinflamatorios',
                nivel: 'severe',
                titulo: 'Combinación Peligrosa: Ibuprofeno y otros AINEs',
                descripcion: 'Combinación que aumenta significativamente el riesgo de efectos adversos gastrointestinales y renales.',
                mecanismo: 'La combinación de múltiples AINEs tiene un efecto aditivo en la inhibición de las prostaglandinas gastroprotectores y la función renal, aumentando exponencialmente el riesgo de úlceras gástricas, hemorragia digestiva y nefrotoxicidad.',
                recomendacion: 'Evitar completamente la combinación de múltiples AINEs. Usar un solo AINE a la dosis más baja eficaz. Si se necesita analgesia adicional, combinar con paracetamol o opioides débiles.',
                factoresRiesgo: [
                    'Edad > 65 años',
                    'Historia de úlcera péptica',
                    'Insuficiencia renal',
                    'Uso concomitante de anticoagulantes',
                    'Consumo de alcohol'
                ]
            }
        ];

        // Estado actual
        let currentSection = 'inicio';
        let paeRecords = [];
        let interaccionRecords = [];

        // Funciones auxiliares
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notificationMessage');
            
            notificationMessage.textContent = message;
            notification.className = 'notification';
            
            if (type === 'danger') {
                notification.classList.add('notification-danger');
                notification.querySelector('i').className = 'fas fa-exclamation-circle';
            } else if (type === 'warning') {
                notification.classList.add('notification-warning');
                notification.querySelector('i').className = 'fas fa-exclamation-triangle';
            } else {
                notification.classList.add('notification-success');
                notification.querySelector('i').className = 'fas fa-check-circle';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function setActiveSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar la sección seleccionada
            document.getElementById(sectionId).classList.add('active');
            
            // Actualizar navegación
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.querySelector(`.menu-btn[data-section="${sectionId}"]`).classList.add('active');
            
            currentSection = sectionId;
        }

        function setActiveTab(tabs, tabId) {
            tabs.forEach(tab => {
                tab.classList.remove('active');
                const content = document.getElementById(tab.getAttribute('data-tab'));
                if (content) content.classList.remove('active');
            });
            
            const activeTab = document.querySelector(`.tab[data-tab="${tabId}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
                const content = document.getElementById(tabId);
                if (content) content.classList.add('active');
            }
        }

        // Funciones de secciones
        function loadAreaContent(areaName) {
            const data = areasData[areaName];
            if (data) {
                document.getElementById('areaContent').innerHTML = `
                    <div class="glass-inner">
                        <h4><i class="fas fa-building"></i> ${data.titulo}</h4>
                        <p><i class="fas fa-info-circle"></i> ${data.descripcion}</p>
                        <p><i class="fas fa-user-md"></i> <strong>Personal:</strong> ${data.personal}</p>
                        <p><i class="fas fa-phone"></i> <strong>Contacto:</strong> ${data.contacto}</p>
                    </div>
                `;
            }
        }

        function loadFirstAidContent(category) {
            document.getElementById('firstAidContent').innerHTML = firstAidData[category] || '';
        }

        function loadCalculatorContent(category) {
            document.getElementById('calculatorContent').innerHTML = calculatorsData[category] || '';
        }

        // Funciones de calculadoras
        function calculateIMC() {
            const peso = parseFloat(document.getElementById('pesoIMC').value);
            const altura = parseFloat(document.getElementById('alturaIMC').value) / 100;
            
            if (!peso || !altura) {
                showNotification('Por favor, complete todos los campos', 'danger');
                return;
            }
            
            const imc = peso / (altura * altura);
            let clasificacion, nivelRiesgo, color, riesgoPercent;
            
            if (imc < 18.5) {
                clasificacion = 'Bajo peso';
                nivelRiesgo = 'Bajo';
                color = '#3498db';
                riesgoPercent = 20;
            } else if (imc < 25) {
                clasificacion = 'Peso normal';
                nivelRiesgo = 'Normal';
                color = '#27ae60';
                riesgoPercent = 10;
            } else if (imc < 30) {
                clasificacion = 'Sobrepeso';
                nivelRiesgo = 'Aumentado';
                color = '#f39c12';
                riesgoPercent = 40;
            } else if (imc < 35) {
                clasificacion = 'Obesidad grado I';
                nivelRiesgo = 'Moderado';
                color = '#e67e22';
                riesgoPercent = 60;
            } else if (imc < 40) {
                clasificacion = 'Obesidad grado II';
                nivelRiesgo = 'Severo';
                color = '#e74c3c';
                riesgoPercent = 80;
            } else {
                clasificacion = 'Obesidad grado III';
                nivelRiesgo = 'Muy severo';
                color = '#c0392b';
                riesgoPercent = 100;
            }
            
            const pesoIdeal = 22 * (altura * altura);
            const diferencia = peso - pesoIdeal;
            
            document.getElementById('valorIMC').textContent = imc.toFixed(2);
            document.getElementById('clasificacionIMC').textContent = clasificacion;
            document.getElementById('pesoIdeal').textContent = pesoIdeal.toFixed(2);
            document.getElementById('diferenciaPeso').textContent = diferencia.toFixed(2);
            document.getElementById('nivelRiesgo').textContent = nivelRiesgo;
            document.getElementById('barraRiesgo').style.width = `${riesgoPercent}%`;
            document.getElementById('barraRiesgo').style.backgroundColor = color;
            
            document.getElementById('resultadoIMC').style.display = 'block';
        }

        function calculateCardioRisk() {
            const edad = parseInt(document.getElementById('edadCardio').value);
            const sexo = document.getElementById('sexoCardio').value;
            const pas = parseInt(document.getElementById('pasCardio').value);
            const fumador = document.getElementById('fumadorCardio').value;
            const colesterol = parseInt(document.getElementById('colesterolCardio').value);
            const hdl = parseInt(document.getElementById('hdlCardio').value);
            const diabetes = document.getElementById('diabetesCardio').value;
            const hta = document.getElementById('htaCardio').value;
            
            // Validación de campos
            if (!edad || !sexo || !pas || !fumador || !colesterol || !hdl || !diabetes || !hta) {
                showNotification('Por favor, complete todos los campos', 'danger');
                return;
            }
            
            // Cálculo simplificado del riesgo cardiovascular
            let riesgo = 0;
            
            // Factores de riesgo
            if (edad >= 65) riesgo += 20;
            else if (edad >= 55) riesgo += 15;
            else if (edad >= 45) riesgo += 10;
            else if (edad >= 35) riesgo += 5;
            
            if (pas >= 160) riesgo += 15;
            else if (pas >= 140) riesgo += 10;
            else if (pas >= 120) riesgo += 5;
            
            if (fumador === 'si') riesgo += 10;
            if (diabetes === 'si') riesgo += 15;
            if (hta === 'si') riesgo += 10;
            
            if (colesterol >= 240) riesgo += 15;
            else if (colesterol >= 200) riesgo += 10;
            else if (colesterol >= 160) riesgo += 5;
            
            if (hdl < 40) riesgo += 10;
            else if (hdl < 50) riesgo += 5;
            
            // Ajuste por sexo
            if (sexo === 'femenino') riesgo = riesgo * 0.8;
            
            // Limitar riesgo máximo
            if (riesgo > 30) riesgo = 30;
            
            let clasificacion, recomendaciones;
            
            if (riesgo < 5) {
                clasificacion = 'Riesgo muy bajo';
                recomendaciones = 'Mantenga su estilo de vida saludable. Realice revisiones anuales.';
            } else if (riesgo < 10) {
                clasificacion = 'Riesgo bajo';
                recomendaciones = 'Mantenga una dieta equilibrada y ejercicio regular. Revise factores de riesgo anualmente.';
            } else if (riesgo < 20) {
                clasificacion = 'Riesgo moderado';
                recomendaciones = 'Intervención en factores de riesgo modificables: dieta, ejercicio, control de presión arterial y colesterol.';
            } else {
                clasificacion = 'Riesgo alto';
                recomendaciones = 'Necesita intervención médica inmediata y tratamiento intensivo de los factores de riesgo.';
            }
            
            document.getElementById('riesgoCardio').textContent = riesgo.toFixed(1);
            document.getElementById('clasificacionCardio').textContent = clasificacion;
            document.getElementById('recomendacionesCardio').textContent = recomendaciones;
            document.getElementById('resultadoCardio').style.display = 'block';
        }

        function calculateGoteo() {
            const volumen = parseFloat(document.getElementById('volumenGoteo').value);
            const tiempo = parseFloat(document.getElementById('tiempoGoteo').value);
            const tipoGoteo = document.getElementById('tipoGoteo').value;
            
            if (!volumen || !tiempo) {
                showNotification('Por favor, complete todos los campos', 'danger');
                return;
            }
            
            const factorGoteo = tipoGoteo === 'macro' ? 20 : 60;
            const gotasPorMinuto = (volumen * factorGoteo) / (tiempo * 60);
            const gotasPorHora = gotasPorMinuto * 60;
            
            document.getElementById('volumenResultado').textContent = volumen;
            document.getElementById('tiempoResultado').textContent = tiempo;
            document.getElementById('goteoMinuto').textContent = gotasPorMinuto.toFixed(1);
            document.getElementById('goteoHora').textContent = Math.round(gotasPorHora);
            
            document.getElementById('resultadoGoteo').style.display = 'block';
        }

        // Funciones de PAE
        function savePAE() {
            const paciente = document.getElementById('paePaciente').value;
            const diagnostico = document.getElementById('paeDiagnostico').value;
            const objetivos = document.getElementById('paeObjetivos').value;
            const intervenciones = document.getElementById('paeIntervenciones').value;
            const evaluacion = document.getElementById('paeEvaluacion').value;
            
            if (!paciente || !diagnostico) {
                showNotification('Por favor, complete al menos el nombre del paciente y el diagnóstico de enfermería.', 'danger');
                return;
            }
            
            const now = new Date();
            const fecha = now.toLocaleDateString('es-ES');
            const hora = now.toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'});
            
            const newRecord = {
                paciente,
                diagnostico,
                objetivos,
                intervenciones,
                evaluacion,
                fecha,
                hora
            };
            
            paeRecords.unshift(newRecord);
            updatePAEHistory();
            
            // Limpiar formulario
            document.getElementById('formularioPAE').reset();
            
            // Cerrar modal
            document.getElementById('paeModal').classList.remove('show');
            
            showNotification('PAE guardado correctamente');
        }

        function updatePAEHistory() {
            const historialPAE = document.getElementById('historialPAE');
            
            if (paeRecords.length === 0) {
                historialPAE.innerHTML = '<p style="text-align: center; color: var(--gray);">No hay registros de PAE. Cree el primero haciendo clic en "Nuevo PAE".</p>';
                return;
            }
            
            historialPAE.innerHTML = '';
            
            paeRecords.forEach((record, index) => {
                const paeEntry = document.createElement('div');
                paeEntry.className = 'pae-entry';
                paeEntry.innerHTML = `
                    <div class="pae-info">
                        <div class="pae-title">${record.paciente}</div>
                        <div class="pae-subtitle">${record.diagnostico}</div>
                        <div class="pae-date">${record.fecha} ${record.hora}</div>
                    </div>
                    <div class="pae-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewPAE(${index})"><i class="fas fa-eye"></i> Ver</button>
                        <button class="btn btn-danger btn-sm" onclick="deletePAE(${index})"><i class="fas fa-trash"></i> Eliminar</button>
                    </div>
                    <div id="paeDetails${index}" class="glass-inner" style="display: none; margin-top: 1rem;">
                        <div class="grid-2">
                            <div>
                                <h5><i class="fas fa-bullseye"></i> Objetivos</h5>
                                <p>${record.objetivos}</p>
                            </div>
                            <div>
                                <h5><i class="fas fa-hand-holding-medical"></i> Intervenciones</h5>
                                <p>${record.intervenciones}</p>
                            </div>
                        </div>
                        <h5><i class="fas fa-clipboard-check"></i> Evaluación</h5>
                        <p>${record.evaluacion}</p>
                    </div>
                `;
                historialPAE.appendChild(paeEntry);
            });
        }

        function viewPAE(index) {
            const details = document.getElementById(`paeDetails${index}`);
            if (details.style.display === 'none') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
        }

        function deletePAE(index) {
            if (confirm('¿Está seguro de que desea eliminar este registro de PAE?')) {
                paeRecords.splice(index, 1);
                updatePAEHistory();
                showNotification('PAE eliminado correctamente');
            }
        }

        // Funciones de interacciones de medicamentos
        function verificarInteraccion() {
            const medicamento1 = document.getElementById('medicamento1').value;
            const medicamento2 = document.getElementById('medicamento2').value;
            
            if (!medicamento1 || !medicamento2) {
                showNotification('Por favor, seleccione ambos medicamentos.', 'danger');
                return;
            }
            
            if (medicamento1 === medicamento2) {
                document.getElementById('tituloInteraccion').textContent = 'Combinación con el mismo medicamento';
                document.getElementById('textoInteraccion').textContent = 'No se recomienda combinar un medicamento consigo mismo sin supervisión médica. Consulte con un especialista antes de hacerlo.';
                document.getElementById('alertInteraccion').className = 'alert alert-warning';
                document.getElementById('alertInteraccion').querySelector('.alert-icon i').className = 'fas fa-exclamation-triangle';
                document.getElementById('mecanismoInteraccion').textContent = 'El uso combinado de la misma sustancia puede aumentar el riesgo de efectos adversos y toxicidad sin beneficio terapéutico adicional.';
                document.getElementById('gravedadInteraccion').textContent = 'Moderada';
                document.getElementById('gravedadInteraccion').className = 'interaction-level level-moderate';
                document.getElementById('recomendacionInteraccion').textContent = 'Consulte con un especialista antes de combinar un medicamento consigo mismo. Puede requerir ajuste de dosis o monitoreo adicional.';
                document.getElementById('listaFactoresRiesgo').innerHTML = '<p>No se aplican factores de riesgo adicionales específicos para esta combinación.</p>';
            } else {
                // Buscar interacción en ambas direcciones
                let interaccion = interaccionesData.find(i => 
                    (i.medicamento1 === medicamento1 && i.medicamento2 === medicamento2) ||
                    (i.medicamento1 === medicamento2 && i.medicamento2 === medicamento1)
                );
                
                if (interaccion) {
                    document.getElementById('tituloInteraccion').textContent = interaccion.titulo;
                    document.getElementById('textoInteraccion').textContent = interaccion.descripcion;
                    
                    // Establecer clase del alert según nivel
                    document.getElementById('alertInteraccion').className = `alert alert-${interaccion.nivel === 'severe' ? 'danger' : interaccion.nivel === 'moderate' ? 'warning' : 'info'}`;
                    document.getElementById('alertInteraccion').querySelector('.alert-icon i').className = 'fas fa-exclamation-triangle';
                    
                    document.getElementById('mecanismoInteraccion').textContent = interaccion.mecanismo;
                    document.getElementById('gravedadInteraccion').textContent = interaccion.nivel === 'severe' ? 'Severa' : interaccion.nivel === 'moderate' ? 'Moderada' : 'Menor';
                    document.getElementById('gravedadInteraccion').className = `interaction-level level-${interaccion.nivel}`;
                    document.getElementById('recomendacionInteraccion').textContent = interaccion.recomendacion;
                    
                    // Mostrar factores de riesgo
                    const factoresList = document.getElementById('listaFactoresRiesgo');
                    factoresList.innerHTML = '';
                    interaccion.factoresRiesgo.forEach(factor => {
                        const factorElement = document.createElement('div');
                        factorElement.className = 'risk-factor';
                        factorElement.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${factor}`;
                        factoresList.appendChild(factorElement);
                    });
                } else {
                    document.getElementById('tituloInteraccion').textContent = 'No se encontró interacción conocida';
                    document.getElementById('textoInteraccion').textContent = 'No se ha identificado una interacción significativa entre estos medicamentos en nuestra base de datos. Sin embargo, esto no garantiza que no exista alguna interacción. Consulte siempre con un especialista antes de combinar medicamentos.';
                    document.getElementById('alertInteraccion').className = 'alert alert-info';
                    document.getElementById('alertInteraccion').querySelector('.alert-icon i').className = 'fas fa-info-circle';
                    document.getElementById('mecanismoInteraccion').textContent = 'No se ha documentado una interacción significativa entre estos medicamentos.';
                    document.getElementById('gravedadInteraccion').textContent = 'Ninguna';
                    document.getElementById('gravedadInteraccion').className = 'interaction-level level-safe';
                    document.getElementById('recomendacionInteraccion').textContent = 'Puede usar ambos medicamentos según indicación, pero siga monitoreando al paciente para detectar cualquier efecto adverso inesperado.';
                    document.getElementById('listaFactoresRiesgo').innerHTML = '<p>No se identificaron factores de riesgo específicos para esta combinación.</p>';
                }
            }
            
            // Guardar en historial
            const now = new Date();
            const fecha = now.toLocaleDateString('es-ES');
            const hora = now.toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'});
            
            const resultado = {
                medicamento1,
                medicamento2,
                resultado: document.getElementById('tituloInteraccion').textContent,
                nivel: document.getElementById('gravedadInteraccion').textContent,
                fecha,
                hora
            };
            
            interaccionRecords.unshift(resultado);
            updateHistorialInteracciones();
            
            document.getElementById('resultadoInteraccion').style.display = 'block';
        }

        function updateHistorialInteracciones() {
            const historial = document.getElementById('historialInteracciones');
            
            if (interaccionRecords.length === 0) {
                historial.innerHTML = '<p style="text-align: center; color: var(--gray);">No hay verificaciones realizadas. Realice una verificación para ver el historial.</p>';
                return;
            }
            
            historial.innerHTML = `
                <table class="table">
                    <thead>
                        <tr>
                            <th>Medicamento 1</th>
                            <th>Medicamento 2</th>
                            <th>Resultado</th>
                            <th>Nivel</th>
                            <th>Fecha</th>
                            <th>Hora</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${interaccionRecords.map(r => `
                            <tr>
                                <td>${r.medicamento1}</td>
                                <td>${r.medicamento2}</td>
                                <td>${r.resultado}</td>
                                <td><span class="interaction-level level-${r.nivel.toLowerCase() === 'severa' ? 'severe' : r.nivel.toLowerCase() === 'moderada' ? 'moderate' : 'minor'}">${r.nivel}</span></td>
                                <td>${r.fecha}</td>
                                <td>${r.hora}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        // Funciones de UI
        function updateReloj() {
            const ahora = new Date();
            const opcionesFecha = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const opcionesHora = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
            
            document.getElementById('date').textContent = ahora.toLocaleDateString('es-ES', opcionesFecha);
            document.getElementById('time').textContent = ahora.toLocaleTimeString('es-ES', opcionesHora);
        }

        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('themeToggle');
            const icon = themeToggle.querySelector('i');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                icon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                icon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Restaurar tema desde localStorage
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') {
                document.body.setAttribute('data-theme', 'dark');
                document.getElementById('themeToggle').querySelector('i').className = 'fas fa-sun';
            }
            
            // Actualizar reloj
            updateReloj();
            setInterval(updateReloj, 1000);
            
            // Navegación
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-section');
                    setActiveSection(sectionId);
                    
                    // Cerrar menú móvil
                    document.getElementById('sidebar').classList.remove('show');
                    
                    // Cargar contenido específico si es necesario
                    if (sectionId === 'areas') {
                        loadAreaContent('urgencias');
                    } else if (sectionId === 'primerosAuxilios') {
                        loadFirstAidContent('traumatismos');
                    } else if (sectionId === 'calculadoras') {
                        loadCalculatorContent('imc');
                    } else if (sectionId === 'interacciones') {
                        // No hacer nada, la sección ya está lista
                    } else if (sectionId === 'pae') {
                        updatePAEHistory();
                    }
                });
            });
            
            // Tabs de áreas
            document.querySelectorAll('#areas .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const areaName = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#areas .tab'), areaName);
                    loadAreaContent(areaName);
                });
            });
            
            // Tabs de primeros auxilios
            document.querySelectorAll('#primerosAuxilios .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#primerosAuxilios .tab'), category);
                    loadFirstAidContent(category);
                });
            });
            
            // Tabs de calculadoras
            document.querySelectorAll('#calculadoras .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#calculadoras .tab'), category);
                    loadCalculatorContent(category);
                });
            });
            
            // Búsqueda de áreas
            document.getElementById('searchArea').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const tabs = document.querySelectorAll('#areas .tab');
                
                tabs.forEach(tab => {
                    const areaName = tab.getAttribute('data-tab');
                    const areaData = areasData[areaName];
                    if (areaData.titulo.toLowerCase().includes(searchTerm) || 
                        areaData.descripcion.toLowerCase().includes(searchTerm) ||
                        areaData.personal.toLowerCase().includes(searchTerm)) {
                        tab.style.display = 'inline-flex';
                    } else {
                        tab.style.display = 'none';
                    }
                });
            });
            
            // Calculadoras
            document.getElementById('calcularIMC').addEventListener('click', calculateIMC);
            document.getElementById('calcularCardio').addEventListener('click', calculateCardioRisk);
            document.getElementById('calcularGoteo').addEventListener('click', calculateGoteo);
            
            // PAE
            document.getElementById('agregarPAE').addEventListener('click', function() {
                document.getElementById('paeModal').classList.add('show');
            });
            
            document.getElementById('guardarPAE').addEventListener('click', savePAE);
            document.getElementById('cancelPae').addEventListener('click', function() {
                document.getElementById('paeModal').classList.remove('show');
            });
            
            document.getElementById('closePaeModal').addEventListener('click', function() {
                document.getElementById('paeModal').classList.remove('show');
            });
            
            // Interacciones de medicamentos
            document.getElementById('verificarInteraccion').addEventListener('click', verificarInteraccion);
            document.getElementById('printInteractions').addEventListener('click', function() {
                window.print();
            });
            
            // Tema oscuro
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            
            // Mobile toggle
            document.getElementById('mobileToggle').addEventListener('click', function() {
                document.getElementById('sidebar').classList.toggle('show');
            });
            
            // Cerrar alertas
            document.querySelectorAll('.alert-close').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.parentElement.style.display = 'none';
                });
            });
            
            // Inicializar con área de urgencias
            loadAreaContent('urgencias');
            loadFirstAidContent('traumatismos');
            loadCalculatorContent('imc');
            updatePAEHistory();
            updateHistorialInteracciones();
        });

        // Funciones globales
        window.viewPAE = viewPAE;
        window.deletePAE = deletePAE;
    </script>
</body>
</html>
```
