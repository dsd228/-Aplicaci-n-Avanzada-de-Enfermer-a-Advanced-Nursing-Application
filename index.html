<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="MediAssist Pro ULTRA - Aplicación médica completa para profesionales de la salud" />
  <meta name="author" content="MediAssist Team" />
  <title>MediAssist Pro ULTRA</title>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    /* ==================== VARIABLES CSS ==================== */
    :root {
      --primary: #4caf50;
      --primary-light: #8bc34a;
      --primary-dark: #388e3c;
      --secondary: #009688;
      --danger: #f44336;
      --warning: #ff9800;
      --success: #4caf50;
      --info: #2196f3;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --white: #ffffff;
      --black: #000000;
      --glass-bg: rgba(255, 255, 255, 0.15);
      --glass-border: rgba(255, 255, 255, 0.25);
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
      --font-main: 'Lato', sans-serif;
      --font-size-sm: 0.875rem;
      --font-size-md: 1rem;
      --font-size-lg: 1.125rem;
      --font-size-xl: 1.25rem;
      --font-size-2xl: 1.5rem;
      --font-size-3xl: 1.875rem;
      --border-radius: 16px;
      --padding: 1.5rem;
      --margin: 1rem;
    }

    /* Modo oscuro */
    [data-theme="dark"] {
      --primary: #66bb6a;
      --primary-light: #a5d6a7;
      --primary-dark: #43a047;
      --secondary: #26a69a;
      --danger: #ef5350;
      --warning: #ffa726;
      --success: #66bb6a;
      --info: #42a5f5;
      --light: #212121;
      --dark: #f8f9fa;
      --gray: #9e9e9e;
      --white: #121212;
      --black: #ffffff;
      --glass-bg: rgba(30, 30, 30, 0.25);
      --glass-border: rgba(255, 255, 255, 0.1);
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    /* ==================== ESTILOS BASE ==================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-main);
      background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
      color: var(--dark);
      min-height: 100vh;
      transition: var(--transition);
    }

    [data-theme="dark"] body {
      background: linear-gradient(135deg, #121212, #1e1e1e);
      color: var(--dark);
    }

    /* ==================== GLASSMORPHISM ==================== */
    .glass {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .glass:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
    }

    /* ==================== ESTRUCTURA SEMÁNTICA ==================== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem var(--padding);
      background: var(--primary);
      color: var(--white);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    [data-theme="dark"] header {
      background: var(--primary-dark);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: var(--font-size-xl);
      font-weight: 700;
    }

    .logo i {
      font-size: 1.8rem;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .clock {
      font-size: var(--font-size-lg);
      font-weight: 500;
      background: rgba(255, 255, 255, 0.2);
      padding: 0.5rem 1rem;
      border-radius: 50px;
      backdrop-filter: blur(5px);
    }

    .theme-toggle {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: var(--white);
      padding: 0.5rem;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      transition: var(--transition);
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .theme-toggle:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: rotate(30deg);
    }

    main {
      display: flex;
      min-height: calc(100vh - 60px);
      margin-top: 60px;
    }

    aside {
      width: 280px;
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border-right: 1px solid var(--glass-border);
      padding: var(--padding);
      position: fixed;
      height: calc(100vh - 60px);
      overflow-y: auto;
      z-index: 900;
    }

    [data-theme="dark"] aside {
      background: rgba(30, 30, 30, 0.2);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
    }

    .menu-title {
      font-size: var(--font-size-lg);
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--primary);
      text-align: center;
      border-bottom: 2px solid var(--primary-light);
      padding-bottom: 0.5rem;
    }

    .menu-item {
      list-style: none;
      margin-bottom: 0.5rem;
    }

    .menu-btn {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      width: 100%;
      padding: 0.8rem 1rem;
      background: transparent;
      border: none;
      text-align: left;
      color: var(--dark);
      font-size: var(--font-size-md);
      font-weight: 500;
      border-radius: 12px;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
    }

    [data-theme="dark"] .menu-btn {
      color: var(--dark);
    }

    .menu-btn:hover {
      background: rgba(76, 175, 80, 0.1);
      color: var(--primary-dark);
    }

    .menu-btn.active {
      background: var(--primary-light);
      color: var(--white);
      font-weight: 700;
    }

    .menu-btn i {
      font-size: 1.2rem;
      width: 24px;
      text-align: center;
    }

    .submenu {
      margin-left: 2rem;
      display: none;
    }

    .submenu.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .submenu-btn {
      padding: 0.6rem 1rem;
      font-size: var(--font-size-sm);
      color: var(--gray);
      background: transparent;
      border: none;
      text-align: left;
      width: 100%;
      border-radius: 8px;
      cursor: pointer;
      transition: var(--transition);
    }

    .submenu-btn:hover {
      background: rgba(76, 175, 80, 0.08);
      color: var(--primary-dark);
    }

    .submenu-btn.active {
      background: rgba(76, 175, 80, 0.15);
      color: var(--primary-dark);
      font-weight: 600;
    }

    .content {
      flex: 1;
      margin-left: 280px;
      padding: var(--padding);
      min-height: calc(100vh - 60px);
    }

    .section {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    .section.active {
      display: block;
    }

    footer {
      background: var(--primary);
      color: var(--white);
      text-align: center;
      padding: 1rem;
      font-size: var(--font-size-sm);
      position: fixed;
      bottom: 0;
      width: 100%;
      z-index: 1000;
    }

    [data-theme="dark"] footer {
      background: var(--primary-dark);
    }

    /* ==================== TARJETAS Y BOTONES ==================== */
    .card {
      background: var(--glass-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: var(--padding);
      margin-bottom: var(--margin);
      transition: var(--transition);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
    }

    .card-title {
      font-size: var(--font-size-xl);
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1.2rem;
      background: var(--primary);
      color: var(--white);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-size: var(--font-size-sm);
      font-weight: 600;
      transition: var(--transition);
      text-decoration: none;
    }

    .btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .btn i {
      font-size: 0.9rem;
    }

    .btn-secondary {
      background: var(--secondary);
    }

    .btn-secondary:hover {
      background: var(--primary-dark);
    }

    .btn-danger {
      background: var(--danger);
    }

    .btn-danger:hover {
      background: #d32f2f;
    }

    .btn-warning {
      background: var(--warning);
    }

    .btn-warning:hover {
      background: #fb8c00;
    }

    .btn-success {
      background: var(--success);
    }

    .btn-success:hover {
      background: var(--primary-dark);
    }

    /* ==================== FORMULARIOS ==================== */
    .form-group {
      margin-bottom: 1rem;
    }

    .form-label {
      display: block;
      font-size: var(--font-size-sm);
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--primary-dark);
    }

    .form-control {
      width: 100%;
      padding: 0.7rem 1rem;
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      background: var(--glass-bg);
      color: var(--dark);
      font-size: var(--font-size-md);
      transition: var(--transition);
    }

    [data-theme="dark"] .form-control {
      color: var(--dark);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
    }

    .input-group {
      display: flex;
      gap: 0.5rem;
    }

    .input-group .form-control {
      flex: 1;
    }

    /* ==================== TABLAS ==================== */
    .table-container {
      overflow-x: auto;
      margin-bottom: var(--margin);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--font-size-sm);
    }

    th {
      background: var(--primary);
      color: var(--white);
      padding: 0.8rem 1rem;
      text-align: left;
      font-weight: 600;
    }

    td {
      padding: 0.8rem 1rem;
      border-bottom: 1px solid var(--glass-border);
    }

    tr:hover {
      background: rgba(76, 175, 80, 0.05);
    }

    .status-danger {
      background: var(--danger);
      color: var(--white);
      padding: 0.3rem 0.6rem;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .status-warning {
      background: var(--warning);
      color: var(--dark);
      padding: 0.3rem 0.6rem;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .status-safe {
      background: var(--success);
      color: var(--white);
      padding: 0.3rem 0.6rem;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    /* ==================== ALERTAS ==================== */
    .alert {
      padding: 1rem;
      border-radius: 12px;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      font-size: var(--font-size-sm);
      animation: slideIn 0.3s ease;
    }

    .alert i {
      font-size: 1.2rem;
    }

    .alert-danger {
      background: rgba(244, 67, 54, 0.1);
      border: 1px solid var(--danger);
      color: var(--danger);
    }

    .alert-warning {
      background: rgba(255, 152, 0, 0.1);
      border: 1px solid var(--warning);
      color: var(--warning);
    }

    .alert-success {
      background: rgba(76, 175, 80, 0.1);
      border: 1px solid var(--success);
      color: var(--success);
    }

    .alert-info {
      background: rgba(33, 150, 243, 0.1);
      border: 1px solid var(--info);
      color: var(--info);
    }

    /* ==================== ANIMACIONES ==================== */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        transform: translateX(-100%);
      }
      to {
        transform: translateX(0);
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        transform: scale(1);
      }
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    /* ==================== MAPA HOSPITALARIO ==================== */
    .hospital-map {
      width: 100%;
      height: 400px;
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: var(--border-radius);
      margin-bottom: var(--margin);
      position: relative;
      overflow: hidden;
    }

    .map-area {
      position: absolute;
      cursor: pointer;
      transition: var(--transition);
    }

    .map-area:hover {
      transform: scale(1.05);
      z-index: 10;
    }

    .map-label {
      position: absolute;
      bottom: 5px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.7rem;
      white-space: nowrap;
    }

    /* ==================== GRÁFICOS MÉDICOS ==================== */
    .chart-container {
      width: 100%;
      height: 300px;
      margin-bottom: var(--margin);
      position: relative;
    }

    canvas {
      border-radius: var(--border-radius);
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
    }

    /* ==================== BUSCADOR ==================== */
    .search-container {
      display: flex;
      gap: 0.5rem;
      margin-bottom: var(--margin);
    }

    .search-input {
      flex: 1;
    }

    /* ==================== PAE (PLAN DE ATENCIÓN DE ENFERMERÍA) ==================== */
    .pae-entry {
      padding: 1rem;
      border-bottom: 1px solid var(--glass-border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .pae-actions {
      display: flex;
      gap: 0.5rem;
    }

    /* ==================== RCP PROTOCOLS ==================== */
    .rcp-step {
      padding: 1rem;
      border-left: 4px solid var(--primary);
      margin-bottom: 1rem;
      background: rgba(76, 175, 80, 0.05);
    }

    .rcp-step h4 {
      color: var(--primary);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 992px) {
      aside {
        width: 240px;
      }
      .content {
        margin-left: 240px;
      }
    }

    @media (max-width: 768px) {
      header {
        padding: 1rem;
      }
      .logo {
        font-size: var(--font-size-lg);
      }
      aside {
        width: 80px;
        padding: 1rem 0.5rem;
      }
      .menu-title, .submenu, .menu-btn span {
        display: none;
      }
      .menu-btn {
        justify-content: center;
        padding: 0.8rem;
      }
      .menu-btn i {
        font-size: 1.4rem;
      }
      .content {
        margin-left: 80px;
      }
      .card-title {
        font-size: var(--font-size-lg);
      }
    }

    @media (max-width: 576px) {
      header {
        flex-direction: column;
        gap: 0.5rem;
        padding: 0.8rem;
      }
      .header-right {
        width: 100%;
        justify-content: space-between;
      }
      aside {
        width: 100%;
        height: auto;
        position: static;
        border-right: none;
        border-bottom: 1px solid var(--glass-border);
        margin-bottom: 1rem;
      }
      .content {
        margin-left: 0;
      }
      .card {
        padding: 1rem;
      }
      .btn {
        width: 100%;
        justify-content: center;
      }
      .input-group {
        flex-direction: column;
      }
    }

    /* Mobile menu toggle */
    .mobile-toggle {
      display: none;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: var(--white);
      padding: 0.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.2rem;
    }

    @media (max-width: 768px) {
      .mobile-toggle {
        display: block;
      }
      main {
        flex-direction: column;
      }
      aside {
        display: none;
        position: static;
      }
      aside.show {
        display: block;
      }
      .content {
        margin-left: 0;
      }
    }
  </style>
</head>
<body>
  <header role="banner" aria-label="Cabecera de MediAssist Pro ULTRA">
    <div class="logo">
      <i class="fas fa-heartbeat"></i>
      <span>MediAssist Pro ULTRA</span>
    </div>
    <div class="header-right">
      <div class="clock" id="clock">
        <i class="far fa-clock"></i> <span id="time">00:00:00</span>
      </div>
      <button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema">
        <i class="fas fa-moon"></i>
      </button>
      <button class="mobile-toggle" id="mobileToggle">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <main>
    <aside id="sidebar" role="navigation" aria-label="Menú lateral">
      <h2 class="menu-title">MENÚ PRINCIPAL</h2>
      <ul>
        <!-- Pacientes -->
        <li class="menu-item">
          <button class="menu-btn" data-target="pacientes">
            <i class="fas fa-user-injured"></i>
            <span>Pacientes</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>
          <ul class="submenu" id="submenu-pacientes">
            <li><button class="submenu-btn active" data-subtarget="registro">Registro</button></li>
            <li><button class="submenu-btn" data-subtarget="historial">Historial Clínico</button></li>
            <li><button class="submenu-btn" data-subtarget="buscador">Buscador Avanzado</button></li>
          </ul>
        </li>

        <!-- Medicamentos -->
        <li class="menu-item">
          <button class="menu-btn" data-target="medicamentos">
            <i class="fas fa-pills"></i>
            <span>Medicamentos</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>
          <ul class="submenu" id="submenu-medicamentos">
            <li><button class="submenu-btn" data-subtarget="lista">Lista de Medicamentos</button></li>
            <li><button class="submenu-btn" data-subtarget="buscador">Buscador de Medicamentos</button></li>
            <li><button class="submenu-btn" data-subtarget="combinaciones">Combinaciones Peligrosas</button></li>
            <li><button class="submenu-btn" data-subtarget="prospectos">Prospectos</button></li>
          </ul>
        </li>

        <!-- Protocolos -->
        <li class="menu-item">
          <button class="menu-btn" data-target="protocolos">
            <i class="fas fa-book-medical"></i>
            <span>Protocolos</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>
          <ul class="submenu" id="submenu-protocolos">
            <li><button class="submenu-btn" data-subtarget="adulto">RCP Adulto</button></li>
            <li><button class="submenu-btn" data-subtarget="nino">RCP Niño</button></li>
            <li><button class="submenu-btn" data-subtarget="lactante">RCP Lactante</button></li>
            <li><button class="submenu-btn" data-subtarget="emergencias">Emergencias</button></li>
          </ul>
        </li>

        <!-- Primeros Auxilios -->
        <li class="menu-item">
          <button class="menu-btn" data-target="primerosAuxilios">
            <i class="fas fa-band-aid"></i>
            <span>Primeros Auxilios</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>
          <ul class="submenu" id="submenu-primerosAuxilios">
            <li><button class="submenu-btn" data-subtarget="hemorragia">Hemorragia</button></li>
            <li><button class="submenu-btn" data-subtarget="quemaduras">Quemaduras</button></li>
            <li><button class="submenu-btn" data-subtarget="fracturas">Fracturas</button></li>
            <li><button class="submenu-btn" data-subtarget="ahogamiento">Ahogamiento</button></li>
            <li><button class="submenu-btn" data-subtarget="intoxicacion">Intoxicación</button></li>
          </ul>
        </li>

        <!-- Calculadoras -->
        <li class="menu-item">
          <button class="menu-btn" data-target="calculadoras">
            <i class="fas fa-calculator"></i>
            <span>Calculadoras</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>
          <ul class="submenu" id="submenu-calculadoras">
            <li><button class="submenu-btn" data-subtarget="imc">IMC</button></li>
            <li><button class="submenu-btn" data-subtarget="dosis">Dosis Pediátrica</button></li>
            <li><button class="submenu-btn" data-subtarget="goteo">Goteo IV</button></li>
            <li><button class="submenu-btn" data-subtarget="cardio">Riesgo Cardiovascular</button></li>
          </ul>
        </li>

        <!-- RCP -->
        <li class="menu-item">
          <button class="menu-btn" data-target="rcp">
            <i class="fas fa-life-ring"></i>
            <span>RCP</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>
          <ul class="submenu" id="submenu-rcp">
            <li><button class="submenu-btn" data-subtarget="adulto">Protocolo Adulto</button></li>
            <li><button class="submenu-btn" data-subtarget="nino">Protocolo Niño</button></li>
            <li><button class="submenu-btn" data-subtarget="lactante">Protocolo Lactante</button></li>
            <li><button class="submenu-btn" data-subtarget="algoritmo">Algoritmo RCP</button></li>
          </ul>
        </li>

        <!-- Extras -->
        <li class="menu-item">
          <button class="menu-btn" data-target="extras">
            <i class="fas fa-cogs"></i>
            <span>Extras</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>
          <ul class="submenu" id="submenu-extras">
            <li><button class="submenu-btn" data-subtarget="pae">PAE (Plan de Enfermería)</button></li>
            <li><button class="submenu-btn" data-subtarget="mapa">Mapa Hospitalario</button></li>
            <li><button class="submenu-btn" data-subtarget="graficos">Gráficos Médicos</button></li>
            <li><button class="submenu-btn" data-subtarget="enfermedades">Enfermedades (Wikipedia)</button></li>
          </ul>
        </li>
      </ul>
    </aside>

    <div class="content" id="content">
      <!-- SECCIÓN: PACIENTES -->
      <section id="pacientes" class="section active">
        <div class="card">
          <h3 class="card-title"><i class="fas fa-user-injured"></i> Gestión de Pacientes</h3>
          <div class="search-container">
            <input type="text" class="form-control search-input" placeholder="Buscar paciente por nombre, DNI o historial..." id="searchPaciente">
            <button class="btn btn-primary"><i class="fas fa-search"></i> Buscar</button>
          </div>
          
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>DNI</th>
                  <th>Edad</th>
                  <th>Sexo</th>
                  <th>Última Visita</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody id="pacientesTable">
                <tr>
                  <td>María González</td>
                  <td>12345678A</td>
                  <td>45</td>
                  <td>F</td>
                  <td>15/03/2024</td>
                  <td>
                    <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                    <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                  </td>
                </tr>
                <tr>
                  <td>Carlos Rodríguez</td>
                  <td>87654321B</td>
                  <td>32</td>
                  <td>M</td>
                  <td>10/03/2024</td>
                  <td>
                    <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                    <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                  </td>
                </tr>
                <tr>
                  <td>Ana Martínez</td>
                  <td>23456789C</td>
                  <td>67</td>
                  <td>F</td>
                  <td>08/03/2024</td>
                  <td>
                    <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                    <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <button class="btn btn-success"><i class="fas fa-plus"></i> Nuevo Paciente</button>
        </div>
      </section>

      <!-- SECCIÓN: MEDICAMENTOS -->
      <section id="medicamentos" class="section">
        <!-- Subsección: Lista de Medicamentos -->
        <div id="medicamentos-lista" class="section-sub active">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-pills"></i> Lista de Medicamentos</h3>
            <div class="search-container">
              <input type="text" class="form-control search-input" placeholder="Buscar medicamento..." id="searchMedicamento">
              <button class="btn btn-primary"><i class="fas fa-search"></i> Buscar</button>
            </div>
            
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Nombre</th>
                    <th>Principio Activo</th>
                    <th>Presentación</th>
                    <th>Stock</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody id="medicamentosTable">
                  <tr>
                    <td>Paracetamol</td>
                    <td>Paracetamol</td>
                    <td>500mg comprimidos</td>
                    <td>150</td>
                    <td>
                      <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                      <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                    </td>
                  </tr>
                  <tr>
                    <td>Ibuprofeno</td>
                    <td>Ibuprofeno</td>
                    <td>400mg comprimidos</td>
                    <td>89</td>
                    <td>
                      <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                      <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                    </td>
                  </tr>
                  <tr>
                    <td>Omeprazol</td>
                    <td>Omeprazol</td>
                    <td>20mg cápsulas</td>
                    <td>120</td>
                    <td>
                      <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                      <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <button class="btn btn-success"><i class="fas fa-plus"></i> Añadir Medicamento</button>
          </div>
        </div>

        <!-- Subsección: Buscador de Medicamentos -->
        <div id="medicamentos-buscador" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-search"></i> Buscador de Medicamentos</h3>
            <div class="form-group">
              <label class="form-label">Nombre del medicamento:</label>
              <input type="text" class="form-control" id="buscadorMedicamento" placeholder="Ej: Paracetamol, Ibuprofeno...">
            </div>
            <button class="btn btn-primary" id="buscarMedicamentoBtn"><i class="fas fa-search"></i> Buscar Información</button>
            
            <div id="resultadoMedicamento" style="display: none; margin-top: 1rem;">
              <div class="card">
                <h4 id="nombreMedicamento"></h4>
                <p><strong>Principio activo:</strong> <span id="principioActivo"></span></p>
                <p><strong>Indicaciones:</strong> <span id="indicaciones"></span></p>
                <p><strong>Contraindicaciones:</strong> <span id="contraindicaciones"></span></p>
                <p><strong>Efectos secundarios:</strong> <span id="efectosSecundarios"></span></p>
                <p><strong>Dosis recomendada:</strong> <span id="dosis"></span></p>
              </div>
            </div>
          </div>
        </div>

        <!-- Subsección: Combinaciones Peligrosas -->
        <div id="medicamentos-combinaciones" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-exclamation-triangle"></i> Combinaciones de Medicamentos</h3>
            <p class="alert alert-warning">
              <i class="fas fa-info-circle"></i>
              Advertencia: Algunas combinaciones de medicamentos pueden ser peligrosas. Consulte siempre con un especialista.
            </p>
            
            <div class="form-group">
              <label class="form-label">Seleccionar medicamentos para verificar combinación:</label>
              <div class="input-group">
                <select class="form-control" id="medicamento1">
                  <option value="">Seleccionar primer medicamento</option>
                  <option value="paracetamol">Paracetamol</option>
                  <option value="ibuprofeno">Ibuprofeno</option>
                  <option value="omeprazol">Omeprazol</option>
                  <option value="aspirina">Aspirina</option>
                  <option value="simvastatina">Simvastatina</option>
                </select>
                <select class="form-control" id="medicamento2">
                  <option value="">Seleccionar segundo medicamento</option>
                  <option value="paracetamol">Paracetamol</option>
                  <option value="ibuprofeno">Ibuprofeno</option>
                  <option value="omeprazol">Omeprazol</option>
                  <option value="aspirina">Aspirina</option>
                  <option value="simvastatina">Simvastatina</option>
                </select>
                <button class="btn btn-primary" id="verificarCombinacion"><i class="fas fa-check"></i> Verificar</button>
              </div>
            </div>

            <div id="resultadoCombinacion" style="display: none;">
              <div class="alert" id="alertCombinacion">
                <i class="fas fa-exclamation-circle"></i>
                <span id="textoCombinacion"></span>
              </div>
            </div>

            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>Medicamento 1</th>
                    <th>Medicamento 2</th>
                    <th>Nivel de Riesgo</th>
                    <th>Descripción</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody id="combinacionesTable">
                  <tr>
                    <td>Paracetamol</td>
                    <td>Alcohol</td>
                    <td><span class="status-danger">Alto</span></td>
                    <td>Puede causar daño hepático severo</td>
                    <td><button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Eliminar</button></td>
                  </tr>
                  <tr>
                    <td>Ibuprofeno</td>
                    <td>Aspirina</td>
                    <td><span class="status-warning">Moderado</span></td>
                    <td>Aumenta el riesgo de efectos gastrointestinales</td>
                    <td><button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Eliminar</button></td>
                  </tr>
                  <tr>
                    <td>Simvastatina</td>
                    <td>Jugo de toronja</td>
                    <td><span class="status-danger">Alto</span></td>
                    <td>Aumenta significativamente los niveles de simvastatina</td>
                    <td><button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Eliminar</button></td>
                  </tr>
                </tbody>
              </table>
            </div>

            <button class="btn btn-success" id="agregarCombinacion"><i class="fas fa-plus"></i> Añadir Nueva Combinación</button>
          </div>
        </div>

        <!-- Subsección: Prospectos -->
        <div id="medicamentos-prospectos" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-file-alt"></i> Prospectos de Medicamentos</h3>
            <div class="form-group">
              <label class="form-label">Seleccionar medicamento:</label>
              <select class="form-control" id="prospectoMedicamento">
                <option value="">Seleccionar medicamento</option>
                <option value="paracetamol">Paracetamol</option>
                <option value="ibuprofeno">Ibuprofeno</option>
                <option value="omeprazol">Omeprazol</option>
                <option value="aspirina">Aspirina</option>
                <option value="simvastatina">Simvastatina</option>
              </select>
            </div>

            <div id="prospectoContent" style="display: none;">
              <h4 id="tituloProspecto"></h4>
              <div class="card">
                <h5>Composición</h5>
                <p id="composicion"></p>
              </div>
              <div class="card">
                <h5>Indicaciones terapéuticas</h5>
                <p id="indicacionesProspecto"></p>
              </div>
              <div class="card">
                <h5>Contraindicaciones</h5>
                <p id="contraindicacionesProspecto"></p>
              </div>
              <div class="card">
                <h5>Advertencias y precauciones</h5>
                <p id="advertencias"></p>
              </div>
              <div class="card">
                <h5>Interacciones con otros medicamentos</h5>
                <p id="interacciones"></p>
              </div>
              <div class="card">
                <h5>Efectos adversos</h5>
                <p id="efectosAdversos"></p>
              </div>
              <div class="card">
                <h5>Dosis y forma de administración</h5>
                <p id="dosisProspecto"></p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECCIÓN: PROTOCOLOS -->
      <section id="protocolos" class="section">
        <!-- Subsección: RCP Adulto -->
        <div id="protocolos-adulto" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-life-ring"></i> Protocolo RCP Adulto</h3>
            <div class="rcp-step">
              <h4><i class="fas fa-exclamation-triangle"></i> 1. Valoración inicial</h4>
              <p>Verifique la respuesta del paciente: "¡Oiga! ¿Está bien?". Si no hay respuesta, llame a emergencias (112) y pida un DEA.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
              <p>Compruebe pulso carotídeo durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
              <p>Realice compresiones en el centro del pecho a una profundidad de 5-6 cm a una frecuencia de 100-120 por minuto. Permita la expansión torácica completa entre compresiones.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
              <p>Después de 30 compresiones, realice 2 ventilaciones (relación 30:2). Cada ventilación debe durar 1 segundo y hacer que el pecho se eleve.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
              <p>Encienda el DEA y siga las instrucciones. Asegúrese de que nadie toque al paciente durante el análisis. Si se indica, descargue.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-undo"></i> 6. Continuar RCP</h4>
              <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda, el paciente muestre signos de vida, o esté exhausto.</p>
            </div>

            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Importante:</strong> Las compresiones de alta calidad son fundamentales para la supervivencia. Minimice las interrupciones.
            </div>

            <button class="btn btn-primary" id="descargarProtocoloAdulto">
              <i class="fas fa-download"></i> Descargar Protocolo (PDF)
            </button>
          </div>
        </div>

        <!-- Subsección: RCP Niño -->
        <div id="protocolos-nino" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-child"></i> Protocolo RCP Niño (1 año - Pubertad)</h3>
            <div class="rcp-step">
              <h4><i class="fas fa-exclamation-triangle"></i> 1. Valoración inicial</h4>
              <p>Hable fuerte o toque suavemente al niño. Si no responde, grite pidiendo ayuda. Envíe a alguien a llamar al 112 y traer un DEA.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
              <p>Compruebe pulso carotídeo o braquial durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
              <p>Use una o dos manos para comprimir el centro del pecho a una profundidad de aproximadamente 1/3 del diámetro torácico (5 cm). Frecuencia: 100-120 por minuto.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
              <p>Después de 30 compresiones, realice 2 ventilaciones efectivas. Cada ventilación debe durar 1 segundo y hacer que el pecho se eleve.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
              <p>Use un DEA pediátrico si está disponible. Si no, use un DEA adulto. Siga las instrucciones del dispositivo.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-undo"></i> 6. Continuar RCP</h4>
              <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda, el niño muestre signos de vida, o esté exhausto.</p>
            </div>

            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Consejo:</strong> Para niños pequeños, puede usar solo un talón de la mano para las compresiones. Ajuste la profundidad según el tamaño del niño.
            </div>
          </div>
        </div>

        <!-- Subsección: RCP Lactante -->
        <div id="protocolos-lactante" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-baby"></i> Protocolo RCP Lactante (0-1 año)</h3>
            <div class="rcp-step">
              <h4><i class="fas fa-exclamation-triangle"></i> 1. Valoración inicial</h4>
              <p>Toque suavemente la planta del pie. Si no responde, grite pidiendo ayuda. Envíe a alguien a llamar al 112 y traer un DEA.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
              <p>Compruebe pulso braquial durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
              <p>Use dos dedos (índice y medio) en el centro del pecho, justo debajo de la línea de los pezones. Profundidad: 4 cm (1/3 del diámetro torácico). Frecuencia: 100-120 por minuto.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
              <p>Después de 30 compresiones, realice 2 ventilaciones cubriendo tanto la boca como la nariz del lactante. Cada ventilación debe durar 1 segundo.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
              <p>Use un DEA pediátrico con atenuador de energía o sistema de dosis. Si no está disponible, use un DEA adulto.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-undo"></i> 6. Continuar RCP</h4>
              <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda, el lactante muestre signos de vida, o esté exhausto.</p>
            </div>

            <div class="alert alert-warning">
              <i class="fas fa-exclamation-triangle"></i>
              <strong>Advertencia:</strong> Las compresiones deben ser suaves pero efectivas. No use demasiada fuerza para evitar fracturas.
            </div>
          </div>
        </div>

        <!-- Subsección: Emergencias -->
        <div id="protocolos-emergencias" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-ambulance"></i> Protocolos de Emergencias</h3>
            
            <div class="card">
              <h4><i class="fas fa-heart"></i> Infarto de Miocardio</h4>
              <ul>
                <li>Reconocer síntomas: dolor torácico opresivo, irradiación al brazo izquierdo, cuello, mandíbula</li>
                <li>Llamar al 112 inmediatamente</li>
                <li>Administrar aspirina 300mg masticada si no hay contraindicaciones</li>
                <li>Oxígeno si saturación < 94%</li>
                <li>Monitoreo continuo de ECG</li>
              </ul>
            </div>

            <div class="card">
              <h4><i class="fas fa-brain"></i> Accidente Cerebrovascular (ACV)</h4>
              <ul>
                <li>Reconocer con FAST: Face (cara caída), Arms (brazos), Speech (habla), Time (tiempo)</li>
                <li>Llamar al 112 inmediatamente</li>
                <li>No administrar medicación sin indicación médica</li>
                <li>Controlar vía aérea, respiración y circulación</li>
                <li>Monitoreo neurológico continuo</li>
              </ul>
            </div>

            <div class="card">
              <h4><i class="fas fa-allergies"></i> Reacción Alérgica Grave (Anafilaxia)</h4>
              <ul>
                <li>Reconocer síntomas: urticaria, angioedema, dificultad respiratoria, hipotensión</li>
                <li>Administración inmediata de adrenalina 0.3-0.5mg (1:1000) IM en muslo</li>
                <li>Llamar al 112</li>
                <li>Oxígeno al 100%</li>
                <li>Posición Trendelenburg si hipotensión</li>
              </ul>
            </div>

            <div class="card">
              <h4><i class="fas fa-burn"></i> Quemaduras Graves</h4>
              <ul>
                <li>Eliminar fuente de calor</li>
                <li>No aplicar pomadas, mantequilla o hielo</li>
                <li>Cubrir con gasa estéril o tela limpia</li>
                <li>Prevenir hipotermia</li>
                <li>Valorar necesidad de traslado a unidad especializada</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- SECCIÓN: PRIMEROS AUXILIOS -->
      <section id="primerosAuxilios" class="section">
        <!-- Subsección: Hemorragia -->
        <div id="primerosAuxilios-hemorragia" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-tint"></i> Primeros Auxilios: Hemorragia</h3>
            
            <div class="card">
              <h4><i class="fas fa-arrow-up"></i> Hemorragia Externa</h4>
              <ol>
                <li>Proteja sus manos con guantes si están disponibles</li>
                <li>Aplicar presión directa sobre la herida con gasa o tela limpia</li>
                <li>Elevar la extremidad por encima del nivel del corazón si es posible</li>
                <li>Aplicar vendaje compresivo si la hemorragia continúa</li>
                <li>Si hay un objeto incrustado, no lo retire; aplique presión alrededor del objeto</li>
                <li>Llame al 112 si la hemorragia no cede o es muy abundante</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-arrow-down"></i> Hemorragia Interna</h4>
              <p>Síntomas: palidez, sudoración, pulso rápido y débil, confusión, dolor abdominal o torácico, hematomas sin causa aparente.</p>
              <ol>
                <li>Mantenga al paciente acostado y quieto</li>
                <li>Eleve las piernas si no hay lesión en columna</li>
                <li>Administre oxígeno si está disponible</li>
                <li>No administre alimentos ni bebidas</li>
                <li>Llame al 112 inmediatamente</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-ambulance"></i> Hemorragia Nasal</h4>
              <ol>
                <li>Siente al paciente con la cabeza ligeramente inclinada hacia delante</li>
                <li>Pídale que se pinche la nariz con los dedos durante 10-15 minutos</li>
                <li>No introduzca nada en la nariz</li>
                <li>Si la hemorragia persiste más de 20 minutos, busque atención médica</li>
              </ol>
            </div>

            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Recordatorio:</strong> Siempre evalúe la escena para su propia seguridad antes de ayudar. Use equipo de protección si está disponible.
            </div>
          </div>
        </div>

        <!-- Subsección: Quemaduras -->
        <div id="primerosAuxilios-quemaduras" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-fire"></i> Primeros Auxilios: Quemaduras</h3>
            
            <div class="card">
              <h4><i class="fas fa-temperature-high"></i> Tipos de Quemaduras</h4>
              <ul>
                <li><strong>1er grado:</strong> Enrojecimiento, dolor (ej: quemadura solar)</li>
                <li><strong>2º grado:</strong> Ampollas, enrojecimiento intenso, dolor severo</li>
                <li><strong>3er grado:</strong> Destrucción de tejidos, puede no doler por daño nervioso, piel blanca o carbonizada</li>
              </ul>
            </div>

            <div class="card">
              <h4><i class="fas fa-hand-holding-water"></i> Tratamiento General</h4>
              <ol>
                <li>Elimine la fuente de calor</li>
                <li>No aplique hielo directamente sobre la quemadura</li>
                <li>Enfriar con agua tibia (15-25°C) durante 10-20 minutos</li>
                <li>No rompa las ampollas</li>
                <li>Cubra con gasa estéril o tela limpia</li>
                <li>Prevenga la hipotermia, especialmente en niños</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-radiation"></i> Quemaduras Químicas</h4>
              <ol>
                <li>Elimine la sustancia química si es sólida</li>
                <li>Lave abundantemente con agua durante al menos 20 minutos</li>
                <li>No intente neutralizar con otro químico</li>
                <li>Busque atención médica inmediata</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-bolt"></i> Quemaduras Eléctricas</h4>
              <ol>
                <li>Asegúrese de que la fuente de electricidad esté desconectada</li>
                <li>No toque al paciente si aún está en contacto con la corriente</li>
                <li>Revise ABC (vía aérea, respiración, circulación)</li>
                <li>Busque quemaduras de entrada y salida</li>
                <li>Llame al 112 inmediatamente</li>
              </ol>
            </div>

            <div class="alert alert-warning">
              <i class="fas fa-exclamation-triangle"></i>
              <strong>Advertencia:</strong> Las quemaduras en cara, manos, pies, genitales o articulaciones siempre requieren atención médica. Las quemaduras en niños pequeños también deben ser evaluadas.
            </div>
          </div>
        </div>

        <!-- Subsección: Fracturas -->
        <div id="primerosAuxilios-fracturas" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-bone"></i> Primeros Auxilios: Fracturas</h3>
            
            <div class="card">
              <h4><i class="fas fa-diagnoses"></i> Reconocimiento</h4>
              <p>Síntomas: dolor intenso, hinchazón, deformidad, imposibilidad de mover la extremidad, crujido óseo.</p>
            </div>

            <div class="card">
              <h4><i class="fas fa-ambulance"></i> Tratamiento</h4>
              <ol>
                <li>No mueva al paciente si hay sospecha de fractura de columna</li>
                <li>Inmovilice la extremidad en la posición en que se encuentra</li>
                <li>Use férulas, tablas o incluso periódicos enrollados para inmovilizar</li>
                <li>Aplicar frío para reducir la hinchazón (no hielo directo)</li>
                <li>Elevación de la extremidad si es posible</li>
                <li>Control del dolor si está permitido</li>
                <li>Buscar atención médica</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-skull"></i> Fractura de Cráneo</h4>
              <p>Síntomas: pérdida de conciencia, vómitos, sangre o líquido por oído/nariz, pupilas desiguales.</p>
              <ol>
                <li>Mantenga al paciente acostado y quieto</li>
                <li>No taponar orificios por donde sale líquido</li>
                <li>No dar alimentos ni bebidas</li>
                <li>Llame al 112 inmediatamente</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-spine"></i> Fractura de Columna</h4>
              <ol>
                <li>No mover al paciente a menos que haya peligro inminente</li>
                <li>Mantener alineación cabeza-cuello-columna</li>
                <li>Si debe moverlo, hacerlo como una sola unidad (técnica de log roll)</li>
                <li>Llame al 112 inmediatamente</li>
              </ol>
            </div>

            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Consejo:</strong> Siempre considere la posibilidad de lesiones múltiples en traumatismos graves. Evalúe ABC primero.
            </div>
          </div>
        </div>

        <!-- Subsección: Ahogamiento -->
        <div id="primerosAuxilios-ahogamiento" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-water"></i> Primeros Auxilios: Ahogamiento</h3>
            
            <div class="card">
              <h4><i class="fas fa-swimmer"></i> Rescate Acuático</h4>
              <ol>
                <li>No entre al agua a menos que esté capacitado y sea seguro</li>
                <li>Use objetos flotantes para acercar al paciente a la orilla</li>
                <li>Si debe entrar, use equipo de flotación y evite el contacto directo si el paciente está agitado</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-heartbeat"></i> Evaluación y RCP</h4>
              <ol>
                <li>Saque al paciente del agua con cuidado</li>
                <li>Verifique respuesta: "¡Oiga! ¿Está bien?"</li>
                <li>Si no responde, llame al 112</li>
                <li>Compruebe respiración: observe, escuche, sienta durante 5-10 segundos</li>
                <li>Si no respira o solo jadea, comience RCP inmediatamente</li>
                <li>Realice 5 ventilaciones de rescate antes de comenzar compresiones si está capacitado</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-lungs"></i> Consideraciones Específicas</h4>
              <ul>
                <li>El agua en los pulmones puede dificultar las ventilaciones</li>
                <li>No intente drenar el agua por métodos tradicionales (golpear la espalda, colocar cabeza abajo)</li>
                <li>El riesgo de vómito es alto; si ocurre, gire al paciente de lado y limpie la boca</li>
                <li>El hipotermia es común; mantenga al paciente caliente una vez estabilizado</li>
              </ul>
            </div>

            <div class="alert alert-danger">
              <i class="fas fa-exclamation-triangle"></i>
              <strong>Peligro:</strong> Nunca retrase la RCP para intentar drenar agua. La prioridad es restablecer la circulación y ventilación.
            </div>
          </div>
        </div>

        <!-- Subsección: Intoxicación -->
        <div id="primerosAuxilios-intoxicacion" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-biohazard"></i> Primeros Auxilios: Intoxicación</h3>
            
            <div class="card">
              <h4><i class="fas fa-pills"></i> Intoxicación por Medicamentos</h4>
              <ol>
                <li>Verifique estado de conciencia y respiración</li>
                <li>Busque envases o restos del medicamento</li>
                <li>No induzca el vómito a menos que lo indique un profesional</li>
                <li>No administre leche, carbón activado u otros remedios caseros</li>
                <li>Llame al 112 o al Servicio de Información Toxicológica</li>
                <li>Proporcione información sobre el medicamento, cantidad y hora de ingestión</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-gas-pump"></i> Intoxicación por Gases</h4>
              <ol>
                <li>Salga del área contaminada si es seguro</li>
                <li>Abrir ventanas y puertas para ventilar</li>
                <li>Apague fuentes de ignición si es seguro</li>
                <li>Saque al paciente al aire libre</li>
                <li>Administre oxígeno si está disponible</li>
                <li>Llame al 112 inmediatamente</li>
              </ol>
            </div>

            <div class="card">
              <h4><i class="fas fa-utensils"></i> Intoxicación Alimentaria</h4>
              <ol>
                <li>Detenga la ingestión del alimento sospechoso</li>
                <li>Mantenga al paciente hidratado con pequeños sorbos de agua</li>
                <li>No administre antieméticos o antidiarreicos sin indicación médica</li>
                <li>Guarde una muestra del alimento si es posible</li>
                <li>Busque atención médica si hay fiebre alta, sangre en vómitos o deposiciones, o signos de deshidratación</li>
              </ol>
            </div>

            <div class="alert alert-warning">
              <i class="fas fa-exclamation-triangle"></i>
              <strong>Advertencia:</strong> Nunca administre ningún tratamiento sin confirmación profesional. La información es vital para el tratamiento adecuado.
            </div>
          </div>
        </div>
      </section>

      <!-- SECCIÓN: CALCULADORAS -->
      <section id="calculadoras" class="section">
        <!-- Subsección: IMC -->
        <div id="calculadoras-imc" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-weight"></i> Calculadora de IMC</h3>
            <div class="form-group">
              <label class="form-label">Peso (kg):</label>
              <input type="number" class="form-control" id="pesoIMC" placeholder="Ej: 70">
            </div>
            <div class="form-group">
              <label class="form-label">Altura (cm):</label>
              <input type="number" class="form-control" id="alturaIMC" placeholder="Ej: 170">
            </div>
            <button class="btn btn-primary" id="calcularIMC"><i class="fas fa-calculator"></i> Calcular IMC</button>
            
            <div id="resultadoIMC" style="display: none; margin-top: 1rem;">
              <div class="card">
                <h4>Resultado del IMC</h4>
                <p><strong>IMC:</strong> <span id="valorIMC"></span> kg/m²</p>
                <p><strong>Clasificación:</strong> <span id="clasificacionIMC"></span></p>
                <p><strong>Peso ideal:</strong> <span id="pesoIdeal"></span> kg</p>
              </div>
            </div>

            <div class="card" style="margin-top: 1rem;">
              <h4>Interpretación del IMC</h4>
              <table>
                <tr>
                  <td>Menos de 18.5</td>
                  <td>Bajo peso</td>
                </tr>
                <tr>
                  <td>18.5 - 24.9</td>
                  <td>Peso normal</td>
                </tr>
                <tr>
                  <td>25.0 - 29.9</td>
                  <td>Sobrepeso</td>
                </tr>
                <tr>
                  <td>30.0 - 34.9</td>
                  <td>Obesidad grado I</td>
                </tr>
                <tr>
                  <td>35.0 - 39.9</td>
                  <td>Obesidad grado II</td>
                </tr>
                <tr>
                  <td>40.0 o más</td>
                  <td>Obesidad grado III</td>
                </tr>
              </table>
            </div>
          </div>
        </div>

        <!-- Subsección: Dosis Pediátrica -->
        <div id="calculadoras-dosis" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-child"></i> Calculadora de Dosis Pediátrica</h3>
            <div class="form-group">
              <label class="form-label">Peso del niño (kg):</label>
              <input type="number" class="form-control" id="pesoPediatria" placeholder="Ej: 20">
            </div>
            <div class="form-group">
              <label class="form-label">Dosis adulta recomendada (mg):</label>
              <input type="number" class="form-control" id="dosisAdulto" placeholder="Ej: 500">
            </div>
            <button class="btn btn-primary" id="calcularDosis"><i class="fas fa-calculator"></i> Calcular Dosis Pediátrica</button>
            
            <div id="resultadoDosis" style="display: none; margin-top: 1rem;">
              <div class="card">
                <h4>Resultado de la Dosis Pediátrica</h4>
                <p><strong>Fórmula de Clark:</strong> <span id="formulaClark"></span> mg</p>
                <p><strong>Fórmula de Young:</strong> <span id="formulaYoung"></span> mg</p>
                <p><strong>Fórmula de Fried:</strong> <span id="formulaFried"></span> mg</p>
                <p><strong>Dosis recomendada:</strong> <span id="dosisRecomendada"></span> mg</p>
              </div>
            </div>

            <div class="card" style="margin-top: 1rem;">
              <h4>Fórmulas de Cálculo</h4>
              <p><strong>Fórmula de Clark:</strong> Dosis infantil = (Peso en libras / 150) × Dosis adulta</p>
              <p><strong>Fórmula de Young:</strong> Dosis infantil = (Edad en años / (Edad en años + 12)) × Dosis adulta</p>
              <p><strong>Fórmula de Fried:</strong> Dosis infantil = (Edad en meses / 150) × Dosis adulta</p>
              <p><strong>Nota:</strong> Estas fórmulas son orientativas. Siempre consulte con un pediatra antes de administrar medicación.</p>
            </div>
          </div>
        </div>

        <!-- Subsección: Goteo IV -->
        <div id="calculadoras-goteo" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-tint"></i> Calculadora de Goteo IV</h3>
            <div class="form-group">
              <label class="form-label">Volumen a administrar (ml):</label>
              <input type="number" class="form-control" id="volumenGoteo" placeholder="Ej: 1000">
            </div>
            <div class="form-group">
              <label class="form-label">Tiempo de administración (horas):</label>
              <input type="number" class="form-control" id="tiempoGoteo" placeholder="Ej: 8">
            </div>
            <div class="form-group">
              <label class="form-label">Tipo de equipo:</label>
              <select class="form-control" id="tipoEquipo">
                <option value="macro">Macro-gotero (20 gotas/ml)</option>
                <option value="micro">Micro-gotero (60 gotas/ml)</option>
              </select>
            </div>
            <button class="btn btn-primary" id="calcularGoteo"><i class="fas fa-calculator"></i> Calcular Goteo</button>
            
            <div id="resultadoGoteo" style="display: none; margin-top: 1rem;">
              <div class="card">
                <h4>Resultado del Cálculo de Goteo</h4>
                <p><strong>Goteo por minuto:</strong> <span id="gotasMinuto"></span> gotas/min</p>
                <p><strong>Goteo por hora:</strong> <span id="gotasHora"></span> gotas/hora</p>
                <p><strong>Velocidad de infusión:</strong> <span id="velocidad"></span> ml/hora</p>
              </div>
            </div>

            <div class="card" style="margin-top: 1rem;">
              <h4>Fórmulas de Cálculo</h4>
              <p><strong>Macro-gotero (20 gotas/ml):</strong> Gotas/min = (Volumen en ml × 20) / (Tiempo en minutos)</p>
              <p><strong>Micro-gotero (60 gotas/ml):</strong> Gotas/min = (Volumen en ml × 60) / (Tiempo en minutos)</p>
              <p><strong>Conversión:</strong> 1 hora = 60 minutos</p>
            </div>
          </div>
        </div>

        <!-- Subsección: Riesgo Cardiovascular -->
        <div id="calculadoras-cardio" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-heart"></i> Calculadora de Riesgo Cardiovascular</h3>
            <div class="form-group">
              <label class="form-label">Edad:</label>
              <input type="number" class="form-control" id="edadCardio" placeholder="Ej: 55">
            </div>
            <div class="form-group">
              <label class="form-label">Sexo:</label>
              <select class="form-control" id="sexoCardio">
                <option value="masculino">Masculino</option>
                <option value="femenino">Femenino</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Tabaquismo (¿fuma actualmente?):</label>
              <select class="form-control" id="tabaquismoCardio">
                <option value="no">No</option>
                <option value="si">Sí</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Presión arterial sistólica (mmHg):</label>
              <input type="number" class="form-control" id="pasCardio" placeholder="Ej: 140">
            </div>
            <div class="form-group">
              <label class="form-label">Colesterol total (mg/dL):</label>
              <input type="number" class="form-control" id="colesterolCardio" placeholder="Ej: 240">
            </div>
            <div class="form-group">
              <label class="form-label">Colesterol HDL (mg/dL):</label>
              <input type="number" class="form-control" id="hdlCardio" placeholder="Ej: 45">
            </div>
            <button class="btn btn-primary" id="calcularCardio"><i class="fas fa-calculator"></i> Calcular Riesgo</button>
            
            <div id="resultadoCardio" style="display: none; margin-top: 1rem;">
              <div class="card">
                <h4>Resultado del Riesgo Cardiovascular</h4>
                <p><strong>Riesgo a 10 años:</strong> <span id="riesgoCardio"></span>%</p>
                <p><strong>Clasificación:</strong> <span id="clasificacionCardio"></span></p>
                <p><strong>Recomendaciones:</strong> <span id="recomendacionesCardio"></span></p>
              </div>
            </div>

            <div class="card" style="margin-top: 1rem;">
              <h4>Interpretación del Riesgo</h4>
              <table>
                <tr>
                  <td>Menos de 5%</td>
                  <td>Riesgo bajo</td>
                </tr>
                <tr>
                  <td>5-9%</td>
                  <td>Riesgo bajo-moderado</td>
                </tr>
                <tr>
                  <td>10-19%</td>
                  <td>Riesgo moderado</td>
                </tr>
                <tr>
                  <td>20% o más</td>
                  <td>Riesgo alto</td>
                </tr>
              </table>
              <p style="margin-top: 0.5rem;"><strong>Nota:</strong> Esta calculadora utiliza una versión simplificada del SCORE. Para una evaluación completa, consulte con un cardiólogo.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- SECCIÓN: RCP -->
      <section id="rcp" class="section">
        <!-- Subsección: Protocolo Adulto -->
        <div id="rcp-adulto" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-life-ring"></i> Protocolo RCP Adulto</h3>
            <div class="rcp-step">
              <h4><i class="fas fa-exclamation-triangle"></i> 1. Valoración inicial</h4>
              <p>Verifique la respuesta del paciente: "¡Oiga! ¿Está bien?". Si no hay respuesta, llame a emergencias (112) y pida un DEA.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
              <p>Compruebe pulso carotídeo durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
              <p>Realice compresiones en el centro del pecho a una profundidad de 5-6 cm a una frecuencia de 100-120 por minuto. Permita la expansión torácica completa entre compresiones.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
              <p>Después de 30 compresiones, realice 2 ventilaciones (relación 30:2). Cada ventilación debe durar 1 segundo y hacer que el pecho se eleve.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
              <p>Encienda el DEA y siga las instrucciones. Asegúrese de que nadie toque al paciente durante el análisis. Si se indica, descargue.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-undo"></i> 6. Continuar RCP</h4>
              <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda, el paciente muestre signos de vida, o esté exhausto.</p>
            </div>

            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Importante:</strong> Las compresiones de alta calidad son fundamentales para la supervivencia. Minimice las interrupciones.
            </div>

            <button class="btn btn-primary" id="iniciarSimuladorRCP">
              <i class="fas fa-play"></i> Iniciar Simulador de RCP
            </button>
          </div>
        </div>

        <!-- Subsección: Protocolo Niño -->
        <div id="rcp-nino" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-child"></i> Protocolo RCP Niño (1 año - Pubertad)</h3>
            <div class="rcp-step">
              <h4><i class="fas fa-exclamation-triangle"></i> 1. Valoración inicial</h4>
              <p>Hable fuerte o toque suavemente al niño. Si no responde, grite pidiendo ayuda. Envíe a alguien a llamar al 112 y traer un DEA.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
              <p>Compruebe pulso carotídeo o braquial durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
              <p>Use una o dos manos para comprimir el centro del pecho a una profundidad de aproximadamente 1/3 del diámetro torácico (5 cm). Frecuencia: 100-120 por minuto.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
              <p>Después de 30 compresiones, realice 2 ventilaciones efectivas. Cada ventilación debe durar 1 segundo y hacer que el pecho se eleve.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
              <p>Use un DEA pediátrico si está disponible. Si no, use un DEA adulto. Siga las instrucciones del dispositivo.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-undo"></i> 6. Continuar RCP</h4>
              <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda, el niño muestre signos de vida, o esté exhausto.</p>
            </div>

            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Consejo:</strong> Para niños pequeños, puede usar solo un talón de la mano para las compresiones. Ajuste la profundidad según el tamaño del niño.
            </div>
          </div>
        </div>

        <!-- Subsección: Protocolo Lactante -->
        <div id="rcp-lactante" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-baby"></i> Protocolo RCP Lactante (0-1 año)</h3>
            <div class="rcp-step">
              <h4><i class="fas fa-exclamation-triangle"></i> 1. Valoración inicial</h4>
              <p>Toque suavemente la planta del pie. Si no responde, grite pidiendo ayuda. Envíe a alguien a llamar al 112 y traer un DEA.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
              <p>Compruebe pulso braquial durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
              <p>Use dos dedos (índice y medio) en el centro del pecho, justo debajo de la línea de los pezones. Profundidad: 4 cm (1/3 del diámetro torácico). Frecuencia: 100-120 por minuto.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
              <p>Después de 30 compresiones, realice 2 ventilaciones cubriendo tanto la boca como la nariz del lactante. Cada ventilación debe durar 1 segundo.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
              <p>Use un DEA pediátrico con atenuador de energía o sistema de dosis. Si no está disponible, use un DEA adulto.</p>
            </div>
            <div class="rcp-step">
              <h4><i class="fas fa-undo"></i> 6. Continuar RCP</h4>
              <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda, el lactante muestre signos de vida, o esté exhausto.</p>
            </div>

            <div class="alert alert-warning">
              <i class="fas fa-exclamation-triangle"></i>
              <strong>Advertencia:</strong> Las compresiones deben ser suaves pero efectivas. No use demasiada fuerza para evitar fracturas.
            </div>
          </div>
        </div>

        <!-- Subsección: Algoritmo RCP -->
        <div id="rcp-algoritmo" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-sitemap"></i> Algoritmo RCP</h3>
            <img src="https://placehold.co/800x600/e8f5e9/4caf50?text=Algoritmo+RCP" alt="Algoritmo RCP" style="width: 100%; border-radius: 12px; margin: 1rem 0;">
            
            <div class="card">
              <h4>Secuencia de RCP</h4>
              <ol>
                <li><strong>Valoración:</strong> Verifique respuesta, llame a emergencias, obtenga DEA</li>
                <li><strong>Inicio de RCP:</strong> Comience con compresiones torácicas (C-A-B)</li>
                <li><strong>Compresiones:</strong> 30 compresiones de alta calidad</li>
                <li><strong>Apertura de vía aérea:</strong> Técnica frente-mentón o tracción mandibular</li>
                <li><strong>Respiraciones:</strong> 2 ventilaciones efectivas</li>
                <li><strong>DEA:</strong> Analice ritmo, descargue si indicado</li>
                <li><strong>Repetir:</strong> Ciclos de 30:2 hasta llegada de ayuda</li>
              </ol>
            </div>

            <div class="card">
              <h4>Indicaciones de DEA</h4>
              <ul>
                <li>Fibrilación ventricular (FV)</li>
                <li>Taquicardia ventricular sin pulso (TVSP)</li>
                <li>No descargue en asistolia o actividad eléctrica sin pulso (AESP)</li>
              </ul>
            </div>

            <div class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              <strong>Recordatorio:</strong> El orden C-A-B (Compresiones-Apertura de vía aérea-Ventilaciones) es fundamental en la RCP moderna.
            </div>
          </div>
        </div>
      </section>

      <!-- SECCIÓN: EXTRAS -->
      <section id="extras" class="section">
        <!-- Subsección: PAE -->
        <div id="extras-pae" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-notes-medical"></i> PAE (Plan de Atención de Enfermería)</h3>
            <div class="form-group">
              <label class="form-label">Nombre del paciente:</label>
              <input type="text" class="form-control" id="paePaciente" placeholder="Nombre del paciente">
            </div>
            <div class="form-group">
              <label class="form-label">Diagnóstico de enfermería:</label>
              <textarea class="form-control" id="paeDiagnostico" rows="3" placeholder="Ej: Riesgo de infección relacionado con herida quirúrgica"></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Objetivos:</label>
              <textarea class="form-control" id="paeObjetivos" rows="3" placeholder="Ej: El paciente mantendrá la herida limpia y seca sin signos de infección en 72 horas"></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Intervenciones:</label>
              <textarea class="form-control" id="paeIntervenciones" rows="3" placeholder="Ej: Cambio de apósito estéril cada 24 horas, observación de signos de infección, educación del paciente"></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Evaluación:</label>
              <textarea class="form-control" id="paeEvaluacion" rows="3" placeholder="Ej: Herida limpia, sin eritema, edema o secreción purulenta"></textarea>
            </div>
            <button class="btn btn-success" id="guardarPAE"><i class="fas fa-save"></i> Guardar PAE</button>
            
            <div class="card" style="margin-top: 1rem;">
              <h4>Registros de PAE</h4>
              <div id="listaPAE">
                <!-- Los registros se cargarán aquí dinámicamente -->
                <div class="pae-entry">
                  <div>
                    <strong>María González</strong> - Riesgo de infección relacionado con herida quirúrgica
                    <div style="font-size: 0.8rem; color: var(--gray); margin-top: 0.2rem;">15/03/2024 10:30</div>
                  </div>
                  <div class="pae-actions">
                    <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                    <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                    <button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Eliminar</button>
                  </div>
                </div>
                <div class="pae-entry">
                  <div>
                    <strong>Carlos Rodríguez</strong> - Desequilibrio nutricional relacionado con náuseas
                    <div style="font-size: 0.8rem; color: var(--gray); margin-top: 0.2rem;">14/03/2024 15:45</div>
                  </div>
                  <div class="pae-actions">
                    <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
                    <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
                    <button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Eliminar</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Subsección: Mapa Hospitalario -->
        <div id="extras-mapa" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-hospital"></i> Mapa Hospitalario Interactivo</h3>
            <p class="alert alert-info">
              <i class="fas fa-info-circle"></i>
              Haga clic en las áreas para obtener información sobre cada departamento.
            </p>
            
            <div class="hospital-map" id="hospitalMap">
              <!-- El mapa se dibujará con JavaScript -->
              <svg width="100%" height="100%" viewBox="0 0 800 600">
                <!-- Planta baja -->
                <rect x="50" y="50" width="200" height="100" fill="#4caf50" opacity="0.7" class="map-area" data-area="urgencias">
                  <title>Urgencias</title>
                </rect>
                <text x="150" y="100" text-anchor="middle" fill="white" font-size="14">Urgencias</text>
                
                <rect x="300" y="50" width="200" height="100" fill="#2196f3" opacity="0.7" class="map-area" data-area="recepcion">
                  <title>Recepción</title>
                </rect>
                <text x="400" y="100" text-anchor="middle" fill="white" font-size="14">Recepción</text>
                
                <rect x="550" y="50" width="200" height="100" fill="#ff9800" opacity="0.7" class="map-area" data-area="farmacia">
                  <title>Farmacia</title>
                </rect>
                <text x="650" y="100" text-anchor="middle" fill="white" font-size="14">Farmacia</text>
                
                <!-- Primera planta -->
                <rect x="50" y="200" width="150" height="100" fill="#9c27b0" opacity="0.7" class="map-area" data-area="quirófano">
                  <title>Quirófano</title>
                </rect>
                <text x="125" y="250" text-anchor="middle" fill="white" font-size="14">Quirófano</text>
                
                <rect x="250" y="200" width="150" height="100" fill="#009688" opacity="0.7" class="map-area" data-area="uci">
                  <title>UCI</title>
                </rect>
                <text x="325" y="250" text-anchor="middle" fill="white" font-size="14">UCI</text>
                
                <rect x="450" y="200" width="150" height="100" fill="#e91e63" opacity="0.7" class="map-area" data-area="maternidad">
                  <title>Maternidad</title>
                </rect>
                <text x="525" y="250" text-anchor="middle" fill="white" font-size="14">Maternidad</text>
                
                <rect x="650" y="200" width="100" height="100" fill="#3f51b5" opacity="0.7" class="map-area" data-area="rayosx">
                  <title>Rayos X</title>
                </rect>
                <text x="700" y="250" text-anchor="middle" fill="white" font-size="14">Rayos X</text>
                
                <!-- Segunda planta -->
                <rect x="50" y="350" width="120" height="80" fill="#795548" opacity="0.7" class="map-area" data-area="neurologia">
                  <title>Neurología</title>
                </rect>
                <text x="110" y="390" text-anchor="middle" fill="white" font-size="14">Neurología</text>
                
                <rect x="200" y="350" width="120" height="80" fill="#607d8b" opacity="0.7" class="map-area" data-area="cardiologia">
                  <title>Cardiología</title>
                </rect>
                <text x="260" y="390" text-anchor="middle" fill="white" font-size="14">Cardiología</text>
                
                <rect x="350" y="350" width="120" height="80" fill="#cddc39" opacity="0.7" class="map-area" data-area="oncologia">
                  <title>Oncología</title>
                </rect>
                <text x="410" y="390" text-anchor="middle" fill="white" font-size="14">Oncología</text>
                
                <rect x="500" y="350" width="120" height="80" fill="#ffc107" opacity="0.7" class="map-area" data-area="pediatria">
                  <title>Pediatría</title>
                </rect>
                <text x="560" y="390" text-anchor="middle" fill="white" font-size="14">Pediatría</text>
                
                <rect x="650" y="350" width="100" height="80" fill="#ff5722" opacity="0.7" class="map-area" data-area="laboratorio">
                  <title>Laboratorio</title>
                </rect>
                <text x="700" y="390" text-anchor="middle" fill="white" font-size="14">Laboratorio</text>
                
                <!-- Tercera planta -->
                <rect x="100" y="480" width="200" height="70" fill="#00bcd4" opacity="0.7" class="map-area" data-area="administracion">
                  <title>Administración</title>
                </rect>
                <text x="200" y="515" text-anchor="middle" fill="white" font-size="14">Administración</text>
                
                <rect x="350" y="480" width="200" height="70" fill="#8bc34a" opacity="0.7" class="map-area" data-area="personal">
                  <title>Personal</title>
                </rect>
                <text x="450" y="515" text-anchor="middle" fill="white" font-size="14">Personal</text>
                
                <rect x="600" y="480" width="150" height="70" fill="#673ab7" opacity="0.7" class="map-area" data-area="archivo">
                  <title>Archivo</title>
                </rect>
                <text x="675" y="515" text-anchor="middle" fill="white" font-size="14">Archivo</text>
              </svg>
            </div>
            
            <div id="infoMapa" style="margin-top: 1rem; display: none;">
              <div class="card">
                <h4 id="tituloArea"></h4>
                <p id="descripcionArea"></p>
                <p><strong>Personal responsable:</strong> <span id="personalArea"></span></p>
                <p><strong>Contacto:</strong> <span id="contactoArea"></span></p>
              </div>
            </div>
          </div>
        </div>

        <!-- Subsección: Gráficos Médicos -->
        <div id="extras-graficos" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-chart-line"></i> Gráficos Médicos Interactivos</h3>
            
            <div class="form-group">
              <label class="form-label">Seleccionar tipo de gráfico:</label>
              <select class="form-control" id="tipoGrafico">
                <option value="pulso">Evolución del Pulso</option>
                <option value="presion">Evolución de la Presión Arterial</option>
                <option value="glucemia">Evolución de la Glucemia</option>
                <option value="imc">Evolución del IMC</option>
              </select>
            </div>
            
            <div class="chart-container">
              <canvas id="graficoMedico"></canvas>
            </div>
            
            <div class="card" style="margin-top: 1rem;">
              <h4>Controles del Gráfico</h4>
              <div class="input-group">
                <button class="btn btn-secondary" id="anteriorDato"><i class="fas fa-arrow-left"></i> Anterior</button>
                <button class="btn btn-primary" id="nuevoDato"><i class="fas fa-plus"></i> Nuevo Dato</button>
                <button class="btn btn-secondary" id="siguienteDato"><i class="fas fa-arrow-right"></i> Siguiente</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Subsección: Enfermedades (Wikipedia) -->
        <div id="extras-enfermedades" class="section-sub">
          <div class="card">
            <h3 class="card-title"><i class="fas fa-book-medical"></i> Buscador de Enfermedades</h3>
            <div class="form-group">
              <label class="form-label">Buscar enfermedad:</label>
              <input type="text" class="form-control" id="buscadorEnfermedad" placeholder="Ej: Diabetes, Asma, Cáncer...">
            </div>
            <button class="btn btn-primary" id="buscarEnfermedad"><i class="fas fa-search"></i> Buscar Información</button>
            
            <div id="resultadoEnfermedad" style="display: none; margin-top: 1rem;">
              <div class="card">
                <h4 id="tituloEnfermedad"></h4>
                <p id="extractoEnfermedad"></p>
                <p><strong>Fuente:</strong> <a href="#" id="enlaceWikipedia" target="_blank">Wikipedia</a></p>
              </div>
            </div>
            
            <div class="alert alert-info" style="margin-top: 1rem;">
              <i class="fas fa-info-circle"></i>
              Esta información es proporcionada por Wikipedia y debe ser verificada con fuentes médicas confiables.
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer role="contentinfo">
    <p>MediAssist Pro ULTRA © 2024 - Aplicación médica para profesionales de la salud</p>
  </footer>

  <script>
    // ==================== FUNCIONES DE RELÓGIO EN TIEMPO REAL ====================
    function actualizarReloj() {
      const ahora = new Date();
      const horas = ahora.getHours().toString().padStart(2, '0');
      const minutos = ahora.getMinutes().toString().padStart(2, '0');
      const segundos = ahora.getSeconds().toString().padStart(2, '0');
      document.getElementById('time').textContent = `${horas}:${minutos}:${segundos}`;
    }

    // Actualizar el reloj cada segundo
    setInterval(actualizarReloj, 1000);
    actualizarReloj(); // Llamar inmediatamente para mostrar la hora al cargar

    // ==================== MANEJO DE MENÚ LATERAL ====================
    document.addEventListener('DOMContentLoaded', function() {
      // Manejar el toggle del menú en móviles
      const mobileToggle = document.getElementById('mobileToggle');
      const sidebar = document.getElementById('sidebar');
      
      if (mobileToggle) {
        mobileToggle.addEventListener('click', function() {
          sidebar.classList.toggle('show');
        });
      }

      // Manejar el cambio de tema
      const themeToggle = document.getElementById('themeToggle');
      const themeIcon = themeToggle.querySelector('i');
      let isDarkMode = false;

      // Verificar preferencia del usuario
      if (localStorage.getItem('theme') === 'dark') {
        isDarkMode = true;
        document.documentElement.setAttribute('data-theme', 'dark');
        themeIcon.classList.remove('fa-moon');
        themeIcon.classList.add('fa-sun');
      }

      themeToggle.addEventListener('click', function() {
        isDarkMode = !isDarkMode;
        
        if (isDarkMode) {
          document.documentElement.setAttribute('data-theme', 'dark');
          themeIcon.classList.remove('fa-moon');
          themeIcon.classList.add('fa-sun');
          localStorage.setItem('theme', 'dark');
        } else {
          document.documentElement.removeAttribute('data-theme');
          themeIcon.classList.remove('fa-sun');
          themeIcon.classList.add('fa-moon');
          localStorage.setItem('theme', 'light');
        }
      });

      // Manejar los menús colapsables
      const menuBtns = document.querySelectorAll('.menu-btn');
      menuBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          // Remover la clase active de todos los botones del menú principal
          menuBtns.forEach(b => b.classList.remove('active'));
          
          // Añadir la clase active al botón clicado
          this.classList.add('active');
          
          // Obtener el ID del contenido a mostrar
          const target = this.getAttribute('data-target');
          
          // Ocultar todas las secciones
          document.querySelectorAll('.section').forEach(section => {
            section.classList.remove('active');
          });
          
          // Mostrar la sección correspondiente
          document.getElementById(target).classList.add('active');
          
          // Manejar el submenú
          const submenu = this.nextElementSibling;
          if (submenu && submenu.classList.contains('submenu')) {
            // Cerrar todos los submenús
            document.querySelectorAll('.submenu').forEach(s => {
              if (s !== submenu) {
                s.classList.remove('active');
              }
            });
            
            // Alternar el submenú actual
            submenu.classList.toggle('active');
            
            // Rotar la flecha
            const toggleIcon = this.querySelector('.toggle-icon');
            if (submenu.classList.contains('active')) {
              toggleIcon.style.transform = 'rotate(180deg)';
            } else {
              toggleIcon.style.transform = 'rotate(0deg)';
            }
          }
          
          // Si estamos en móvil, cerrar el menú lateral después de hacer clic
          if (window.innerWidth <= 768) {
            sidebar.classList.remove('show');
          }
        });
      });

      // Manejar los submenús
      const submenuBtns = document.querySelectorAll('.submenu-btn');
      submenuBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          // Remover la clase active de todos los botones del submenú
          submenuBtns.forEach(b => b.classList.remove('active'));
          
          // Añadir la clase active al botón clicado
          this.classList.add('active');
          
          // Ocultar todas las subsecciones
          document.querySelectorAll('.section-sub').forEach(sub => {
            sub.classList.remove('active');
          });
          
          // Mostrar la subsección correspondiente
          const subtarget = this.getAttribute('data-subtarget');
          const parentMenu = this.closest('.submenu').id.replace('submenu-', '');
          document.getElementById(`${parentMenu}-${subtarget}`).classList.add('active');
        });
      });

      // Abrir el primer submenú por defecto
      const firstSubmenuBtn = document.querySelector('.submenu-btn.active');
      if (firstSubmenuBtn) {
        const submenu = firstSubmenuBtn.closest('.submenu');
        submenu.classList.add('active');
        submenu.previousElementSibling.querySelector('.toggle-icon').style.transform = 'rotate(180deg)';
      }
    });

    // ==================== CALCULADORA DE IMC ====================
    document.getElementById('calcularIMC').addEventListener('click', function() {
      const peso = parseFloat(document.getElementById('pesoIMC').value);
      const altura = parseFloat(document.getElementById('alturaIMC').value) / 100; // Convertir a metros
      
      if (isNaN(peso) || isNaN(altura) || peso <= 0 || altura <= 0) {
        alert('Por favor, ingrese valores válidos para peso y altura.');
        return;
      }
      
      const imc = peso / (altura * altura);
      let clasificacion = '';
      let pesoIdeal = (22 * altura * altura).toFixed(1); // IMC ideal de 22
      
      if (imc < 18.5) {
        clasificacion = 'Bajo peso';
      } else if (imc < 25) {
        clasificacion = 'Peso normal';
      } else if (imc < 30) {
        clasificacion = 'Sobrepeso';
      } else if (imc < 35) {
        clasificacion = 'Obesidad grado I';
      } else if (imc < 40) {
        clasificacion = 'Obesidad grado II';
      } else {
        clasificacion = 'Obesidad grado III';
      }
      
      document.getElementById('valorIMC').textContent = imc.toFixed(2);
      document.getElementById('clasificacionIMC').textContent = clasificacion;
      document.getElementById('pesoIdeal').textContent = pesoIdeal;
      document.getElementById('resultadoIMC').style.display = 'block';
    });

    // ==================== CALCULADORA DE DOSIS PEDIÁTRICA ====================
    document.getElementById('calcularDosis').addEventListener('click', function() {
      const peso = parseFloat(document.getElementById('pesoPediatria').value);
      const dosisAdulto = parseFloat(document.getElementById('dosisAdulto').value);
      
      if (isNaN(peso) || isNaN(dosisAdulto) || peso <= 0 || dosisAdulto <= 0) {
        alert('Por favor, ingrese valores válidos para peso y dosis adulta.');
        return;
      }
      
      // Fórmula de Clark: (Peso en libras / 150) × Dosis adulta
      const pesoLibras = peso * 2.20462;
      const dosisClark = (pesoLibras / 150) * dosisAdulto;
      
      // Fórmula de Young: (Edad en años / (Edad en años + 12)) × Dosis adulta
      // Como no tenemos edad, usamos una estimación basada en peso
      let edadEstimada;
      if (peso <= 10) {
        edadEstimada = peso / 2; // Bebés y lactantes
      } else if (peso <= 20) {
        edadEstimada = (peso - 10) * 2 + 1; // Niños pequeños
      } else {
        edadEstimada = (peso - 20) * 0.5 + 6; // Niños mayores
      }
      const dosisYoung = (edadEstimada / (edadEstimada + 12)) * dosisAdulto;
      
      // Fórmula de Fried: (Edad en meses / 150) × Dosis adulta
      const edadMeses = edadEstimada * 12;
      const dosisFried = (edadMeses / 150) * dosisAdulto;
      
      // Dosis recomendada: promedio de las tres fórmulas
      const dosisRecomendada = (dosisClark + dosisYoung + dosisFried) / 3;
      
      document.getElementById('formulaClark').textContent = dosisClark.toFixed(2);
      document.getElementById('formulaYoung').textContent = dosisYoung.toFixed(2);
      document.getElementById('formulaFried').textContent = dosisFried.toFixed(2);
      document.getElementById('dosisRecomendada').textContent = dosisRecomendada.toFixed(2);
      document.getElementById('resultadoDosis').style.display = 'block';
    });

    // ==================== CALCULADORA DE GOTEo IV ====================
    document.getElementById('calcularGoteo').addEventListener('click', function() {
      const volumen = parseFloat(document.getElementById('volumenGoteo').value);
      const tiempo = parseFloat(document.getElementById('tiempoGoteo').value);
      const tipoEquipo = document.getElementById('tipoEquipo').value;
      
      if (isNaN(volumen) || isNaN(tiempo) || volumen <= 0 || tiempo <= 0) {
        alert('Por favor, ingrese valores válidos para volumen y tiempo.');
        return;
      }
      
      const gotasPorMl = tipoEquipo === 'macro' ? 20 : 60;
      const minutos = tiempo * 60;
      const gotasMinuto = (volumen * gotasPorMl) / minutos;
      const gotasHora = gotasMinuto * 60;
      const velocidad = volumen / tiempo;
      
      document.getElementById('gotasMinuto').textContent = gotasMinuto.toFixed(1);
      document.getElementById('gotasHora').textContent = gotasHora.toFixed(0);
      document.getElementById('velocidad').textContent = velocidad.toFixed(1);
      document.getElementById('resultadoGoteo').style.display = 'block';
    });

    // ==================== CALCULADORA DE RIESGO CARDIOVASCULAR ====================
    document.getElementById('calcularCardio').addEventListener('click', function() {
      const edad = parseInt(document.getElementById('edadCardio').value);
      const sexo = document.getElementById('sexoCardio').value;
      const tabaquismo = document.getElementById('tabaquismoCardio').value;
      const pas = parseInt(document.getElementById('pasCardio').value);
      const colesterol = parseInt(document.getElementById('colesterolCardio').value);
      const hdl = parseInt(document.getElementById('hdlCardio').value);
      
      if (isNaN(edad) || isNaN(pas) || isNaN(colesterol) || isNaN(hdl) || edad <= 0 || pas <= 0 || colesterol <= 0 || hdl <= 0) {
        alert('Por favor, ingrese valores válidos para todos los campos.');
        return;
      }
      
      // Cálculo simplificado del riesgo cardiovascular (versión educativa)
      let riesgo = 1.0;
      
      // Factores de riesgo
      if (edad >= 65) riesgo += 1.5;
      else if (edad >= 55) riesgo += 1.0;
      else if (edad >= 45) riesgo += 0.5;
      
      if (sexo === 'masculino') riesgo += 0.5;
      
      if (tabaquismo === 'si') riesgo += 1.0;
      
      if (pas >= 160) riesgo += 1.2;
      else if (pas >= 140) riesgo += 0.8;
      else if (pas >= 120) riesgo += 0.4;
      
      if (colesterol >= 280) riesgo += 1.5;
      else if (colesterol >= 240) riesgo += 1.0;
      else if (colesterol >= 200) riesgo += 0.5;
      
      if (hdl < 40) riesgo += 0.8;
      else if (hdl < 50) riesgo += 0.4;
      
      // Convertir a porcentaje
      let riesgoPorcentaje = riesgo * 15;
      if (riesgoPorcentaje > 30) riesgoPorcentaje = 30; // Límite superior
      
      let clasificacion, recomendaciones;
      
      if (riesgoPorcentaje < 5) {
        clasificacion = 'Riesgo bajo';
        recomendaciones = 'Mantenga un estilo de vida saludable con dieta equilibrada y ejercicio regular.';
      } else if (riesgoPorcentaje < 10) {
        clasificacion = 'Riesgo bajo-moderado';
        recomendaciones = 'Considere cambios en el estilo de vida y controle los factores de riesgo.';
      } else if (riesgoPorcentaje < 20) {
        clasificacion = 'Riesgo moderado';
        recomendaciones = 'Consulte con su médico para evaluar la necesidad de tratamiento farmacológico.';
      } else {
        clasificacion = 'Riesgo alto';
        recomendaciones = 'Necesita intervención médica inmediata y tratamiento intensivo de los factores de riesgo.';
      }
      
      document.getElementById('riesgoCardio').textContent = riesgoPorcentaje.toFixed(1);
      document.getElementById('clasificacionCardio').textContent = clasificacion;
      document.getElementById('recomendacionesCardio').textContent = recomendaciones;
      document.getElementById('resultadoCardio').style.display = 'block';
    });

    // ==================== VERIFICACIÓN DE COMBINACIONES DE MEDICAMENTOS ====================
    document.getElementById('verificarCombinacion').addEventListener('click', function() {
      const medicamento1 = document.getElementById('medicamento1').value;
      const medicamento2 = document.getElementById('medicamento2').value;
      
      if (!medicamento1 || !medicamento2) {
        alert('Por favor, seleccione ambos medicamentos.');
        return;
      }
      
      if (medicamento1 === medicamento2) {
        document.getElementById('textoCombinacion').textContent = 'No se recomienda combinar un medicamento consigo mismo sin supervisión médica.';
        document.getElementById('alertCombinacion').className = 'alert alert-warning';
        document.getElementById('alertCombinacion').querySelector('i').className = 'fas fa-exclamation-triangle';
      } else if (
        (medicamento1 === 'paracetamol' && medicamento2 === 'alcohol') ||
        (medicamento1 === 'alcohol' && medicamento2 === 'paracetamol')
      ) {
        document.getElementById('textoCombinacion').textContent = 'Combinación peligrosa: Puede causar daño hepático severo.';
        document.getElementById('alertCombinacion').className = 'alert alert-danger';
        document.getElementById('alertCombinacion').querySelector('i').className = 'fas fa-exclamation-triangle';
      } else if (
        (medicamento1 === 'ibuprofeno' && medicamento2 === 'aspirina') ||
        (medicamento1 === 'aspirina' && medicamento2 === 'ibuprofeno')
      ) {
        document.getElementById('textoCombinacion').textContent = 'Combinación moderadamente peligrosa: Aumenta el riesgo de efectos gastrointestinales.';
        document.getElementById('alertCombinacion').className = 'alert alert-warning';
        document.getElementById('alertCombinacion').querySelector('i').className = 'fas fa-exclamation-triangle';
      } else if (
        (medicamento1 === 'simvastatina' && medicamento2 === 'jugo de toronja') ||
        (medicamento1 === 'jugo de toronja' && medicamento2 === 'simvastatina')
      ) {
        document.getElementById('textoCombinacion').textContent = 'Combinación peligrosa: Aumenta significativamente los niveles de simvastatina y el riesgo de efectos secundarios.';
        document.getElementById('alertCombinacion').className = 'alert alert-danger';
        document.getElementById('alertCombinacion').querySelector('i').className = 'fas fa-exclamation-triangle';
      } else {
        document.getElementById('textoCombinacion').textContent = 'No se han identificado interacciones peligrosas conocidas entre estos medicamentos.';
        document.getElementById('alertCombinacion').className = 'alert alert-success';
        document.getElementById('alertCombinacion').querySelector('i').className = 'fas fa-check';
      }
      
      document.getElementById('resultadoCombinacion').style.display = 'block';
    });

    // Añadir nueva combinación
    document.getElementById('agregarCombinacion').addEventListener('click', function() {
      alert('Funcionalidad de añadir nueva combinación. En una versión completa, esto abriría un formulario para añadir una nueva combinación a la base de datos.');
    });

    // Eliminar combinación
    document.querySelectorAll('#combinacionesTable .btn-danger').forEach(btn => {
      btn.addEventListener('click', function() {
        if (confirm('¿Está seguro de que desea eliminar esta combinación de la lista?')) {
          this.closest('tr').remove();
        }
      });
    });

    // ==================== BUSCADOR DE MEDICAMENTOS ====================
    document.getElementById('buscarMedicamentoBtn').addEventListener('click', function() {
      const medicamento = document.getElementById('buscadorMedicamento').value.toLowerCase();
      
      if (!medicamento) {
        alert('Por favor, ingrese el nombre de un medicamento.');
        return;
      }
      
      // Datos simulados para diferentes medicamentos
      const medicamentosData = {
        'paracetamol': {
          nombre: 'Paracetamol',
          principioActivo: 'Paracetamol',
          indicaciones: 'Analgesia y antipirético en dolores leves a moderados y fiebre.',
          contraindicaciones: 'Hipersensibilidad al paracetamol, insuficiencia hepática grave.',
          efectosSecundarios: 'En dosis altas: hepatotoxicidad. Raros: reacciones cutáneas, alteraciones hematológicas.',
          dosis: 'Adultos: 500-1000 mg cada 4-6 horas. Máximo 4 g/día.'
        },
        'ibuprofeno': {
          nombre: 'Ibuprofeno',
          principioActivo: 'Ibuprofeno',
          indicaciones: 'Antiinflamatorio, analgésico y antipirético para dolor, inflamación y fiebre.',
          contraindicaciones: 'Úlcera gastroduodenal activa, insuficiencia cardíaca grave, alergia a AINEs.',
          efectosSecundarios: 'Gastrointestinales (náuseas, dolor abdominal), cefalea, mareo, edema.',
          dosis: 'Adultos: 200-400 mg cada 6-8 horas. Máximo 1200 mg/día sin prescripción.'
        },
        'omeprazol': {
          nombre: 'Omeprazol',
          principioActivo: 'Omeprazol',
          indicaciones: 'Enfermedad por reflujo gastroesofágico, úlcera gastroduodenal, síndrome de Zollinger-Ellison.',
          contraindicaciones: 'Hipersensibilidad al omeprazol o a otros benzimidazoles.',
          efectosSecundarios: 'Dolor abdominal, náuseas, diarrea, cefalea. Raros: alteraciones hepáticas, reacciones cutáneas.',
          dosis: 'Adultos: 20-40 mg una vez al día antes de las comidas.'
        },
        'aspirina': {
          nombre: 'Aspirina',
          principioActivo: 'Ácido acetilsalicílico',
          indicaciones: 'Analgesia, antipirético, antiinflamatorio, prevención secundaria de eventos cardiovasculares.',
          contraindicaciones: 'Úlcera gastroduodenal, hemofilia, asma inducida por AINEs, niños con infecciones virales.',
          efectosSecundarios: 'Efectos gastrointestinales, sangrado, acúfenos en sobredosis.',
          dosis: 'Analgesia: 300-1000 mg cada 4-6 horas. Antiagregación: 75-100 mg una vez al día.'
        },
        'simvastatina': {
          nombre: 'Simvastatina',
          principioActivo: 'Simvastatina',
          indicaciones: 'Hipercolesterolemia, prevención de enfermedad cardiovascular.',
          contraindicaciones: 'Enfermedad hepática activa, embarazo, lactancia, combinación con inhibidores fuertes del CYP3A4.',
          efectosSecundarios: 'Dolor muscular, debilidad, alteraciones hepáticas. Raros: rabdomiólisis.',
          dosis: '10-40 mg una vez al día por la noche.'
        }
      };
      
      const data = medicamentosData[medicamento];
      
      if (data) {
        document.getElementById('nombreMedicamento').textContent = data.nombre;
        document.getElementById('principioActivo').textContent = data.principioActivo;
        document.getElementById('indicaciones').textContent = data.indicaciones;
        document.getElementById('contraindicaciones').textContent = data.contraindicaciones;
        document.getElementById('efectosSecundarios').textContent = data.efectosSecundarios;
        document.getElementById('dosis').textContent = data.dosis;
        document.getElementById('resultadoMedicamento').style.display = 'block';
      } else {
        alert(`No se encontró información para el medicamento "${medicamento}". Pruebe con: Paracetamol, Ibuprofeno, Omeprazol, Aspirina o Simvastatina.`);
      }
    });

    // ==================== PROSPECTOS DE MEDICAMENTOS ====================
    document.getElementById('prospectoMedicamento').addEventListener('change', function() {
      const medicamento = this.value;
      
      if (!medicamento) {
        document.getElementById('prospectoContent').style.display = 'none';
        return;
      }
      
      // Datos simulados para prospectos
      const prospectosData = {
        'paracetamol': {
          titulo: 'Paracetamol',
          composicion: 'Cada comprimido contiene 500 mg de paracetamol.',
          indicaciones: 'Indicado para el alivio sintomático del dolor leve a moderado (dolor de cabeza, dolor dental, dolor muscular, dolores menstruales) y de la fiebre.',
          contraindicaciones: 'Hipersensibilidad al paracetamol. Insuficiencia hepática grave.',
          advertencias: 'No sobrepasar la dosis recomendada. El consumo de alcohol aumenta el riesgo de hepatotoxicidad. Pacientes con insuficiencia hepática o renal deben usar con precaución.',
          interacciones: 'Efecto potenciador con otros hepatotóxicos. La coadministración con metoclopramida acelera la absorción, con colestiramina retrasa la absorción.',
          efectosAdversos: 'En dosis terapéuticas: generalmente bien tolerado. En sobredosis: hepatotoxicidad, que puede ser fatal. Raros: reacciones cutáneas, alteraciones hematológicas.',
          dosis: 'Adultos y adolescentes a partir de 16 años: 1-2 comprimidos (500-1000 mg) cada 4-6 horas si es necesario. Dosis máxima: 4 g (8 comprimidos) en 24 horas.'
        },
        'ibuprofeno': {
          titulo: 'Ibuprofeno',
          composicion: 'Cada comprimido contiene 400 mg de ibuprofeno.',
          indicaciones: 'Tratamiento sintomático del dolor leve a moderado y de la fiebre. Tratamiento sintomático de estados reumáticos y musculares.',
          contraindicaciones: 'Úlcera gastroduodenal activa o hemorragia digestiva. Insuficiencia cardíaca grave. Embarazo (tercer trimestre).',
          advertencias: 'Riesgo de efectos cardiovasculares trombóticos (infarto de miocardio, accidente cerebrovascular). Riesgo de efectos gastrointestinales (úlcera, perforación, hemorragia).',
          interacciones: 'Aumenta el riesgo de efectos nefrotóxicos con diuréticos, IECA, ARA-II. Aumenta el riesgo de hemorragia con anticoagulantes. Disminuye el efecto de los diuréticos y antihipertensivos.',
          efectosAdversos: 'Gastrointestinales: náuseas, dolor abdominal, dispepsia, úlcera, hemorragia. Cardiovasculares: retención de líquidos, edema, hipertensión. Raros: reacciones cutáneas graves, alteraciones hepáticas.',
          dosis: 'Adultos: 1 comprimido (400 mg) cada 6-8 horas si es necesario. Dosis máxima: 1200 mg (3 comprimidos) al día sin prescripción médica.'
        },
        'omeprazol': {
          titulo: 'Omeprazol',
          composicion: 'Cada cápsula contiene 20 mg de omeprazol.',
          indicaciones: 'Enfermedad por reflujo gastroesofágico (ERGE). Úlcera gastroduodenal. Síndrome de Zollinger-Ellison. Tratamiento combinado con antibióticos para erradicación de Helicobacter pylori.',
          contraindicaciones: 'Hipersensibilidad al omeprazol o a otros benzimidazoles. No debe usarse en combinación con atazanavir.',
          advertencias: 'Debe tenerse precaución en pacientes con disfunción hepática. Puede enmascarar los síntomas de cáncer gástrico. Riesgo de fracturas óseas con uso prolongado.',
          interacciones: 'Omeprazol inhibe CYP2C19. Aumenta los niveles de diazepam, fenitoína y warfarina. Disminuye la absorción de digoxina, ketoconazol e itraconazol.',
          efectosAdversos: 'Muy frecuentes: dolor abdominal, diarrea, estreñimiento, flatulencia. Frecuentes: náuseas, vómitos, cefalea. Raros: alteraciones hepáticas, reacciones cutáneas, ginecomastia.',
          dosis: 'Adultos: 20 mg una vez al día. En casos severos: 40 mg una vez al día. Duración del tratamiento: 4 semanas para ERGE, 2 semanas para úlcera duodenal.'
        },
        'aspirina': {
          titulo: 'Aspirina',
          composicion: 'Cada comprimido contiene 100 mg de ácido acetilsalicílico.',
          indicaciones: 'Prevención secundaria de eventos cardiovasculares (infarto de miocardio, accidente cerebrovascular). Alivio del dolor y fiebre.',
          contraindicaciones: 'Úlcera gastroduodenal activa. Hemofilia u otros trastornos hemorrágicos. Asma inducida por AINEs. Niños y adolescentes con infecciones virales (síndrome de Reye).',
          advertencias: 'Riesgo de hemorragia gastrointestinal y cerebral. No debe usarse en el primer y segundo trimestre del embarazo salvo indicación médica. Evitar en niños menores de 16 años.',
          interacciones: 'Aumenta el riesgo de hemorragia con anticoagulantes, trombolíticos, otros antiagregantes. Aumenta los niveles de metotrexato y fenitoína. Disminuye la excreción de ácido úrico.',
          efectosAdversos: 'Gastrointestinales: náuseas, dispepsia, dolor abdominal, úlcera, hemorragia. Hematológicos: prolongación del tiempo de sangría. Raros: acúfenos, sordera, reacciones alérgicas.',
          dosis: 'Prevención cardiovascular: 75-100 mg una vez al día. Dolor y fiebre: 300-1000 mg cada 4-6 horas si es necesario. Dosis máxima: 4 g en 24 horas.'
        },
        'simvastatina': {
          titulo: 'Simvastatina',
          composicion: 'Cada comprimido contiene 20 mg de simvastatina.',
          indicaciones: 'Hipercolesterolemia primaria (tipo IIa e hiperlipidemia mixta tipo IIb). Prevención de enfermedad cardiovascular en pacientes con factores de riesgo.',
          contraindicaciones: 'Enfermedad hepática activa o elevaciones persistentes de transaminasas séricas de origen desconocido. Embarazo y lactancia. Combinación con inhibidores potentes del CYP3A4.',
          advertencias: 'Debe realizarse un análisis de función hepática antes del inicio del tratamiento y periódicamente durante el mismo. Suspender si hay signos de miopatía.',
          interacciones: 'Aumenta el riesgo de miopatía con inhibidores del CYP3A4 (eritromicina, claritromicina, itraconazol, etc.). Aumenta los niveles de digoxina. Interacción con fibratos (excepto fenofibrato).',
          efectosAdversos: 'Muy frecuentes: dolor muscular, debilidad. Frecuentes: cefalea, mareo, alteraciones gastrointestinales. Raros: hepatitis, rabdomiólisis, alteraciones de la memoria.',
          dosis: 'Dosis inicial: 10-20 mg una vez al día por la noche. Dosis máxima: 40 mg al día. En pacientes con riesgo de interacciones: 20 mg al día.'
        }
      };
      
      const data = prospectosData[medicamento];
      
      if (data) {
        document.getElementById('tituloProspecto').textContent = data.titulo;
        document.getElementById('composicion').textContent = data.composicion;
        document.getElementById('indicacionesProspecto').textContent = data.indicaciones;
        document.getElementById('contraindicacionesProspecto').textContent = data.contraindicaciones;
        document.getElementById('advertencias').textContent = data.advertencias;
        document.getElementById('interacciones').textContent = data.interacciones;
        document.getElementById('efectosAdversos').textContent = data.efectosAdversos;
        document.getElementById('dosisProspecto').textContent = data.dosis;
        document.getElementById('prospectoContent').style.display = 'block';
      }
    });

    // ==================== PAE (PLAN DE ATENCIÓN DE ENFERMERÍA) ====================
    // Función para guardar un nuevo PAE
    document.getElementById('guardarPAE').addEventListener('click', function() {
      const paciente = document.getElementById('paePaciente').value;
      const diagnostico = document.getElementById('paeDiagnostico').value;
      const objetivos = document.getElementById('paeObjetivos').value;
      const intervenciones = document.getElementById('paeIntervenciones').value;
      const evaluacion = document.getElementById('paeEvaluacion').value;
      
      if (!paciente || !diagnostico) {
        alert('Por favor, complete al menos el nombre del paciente y el diagnóstico de enfermería.');
        return;
      }
      
      // Crear un nuevo registro
      const now = new Date();
      const fecha = now.toLocaleDateString('es-ES');
      const hora = now.toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'});
      
      const nuevoRegistro = document.createElement('div');
      nuevoRegistro.className = 'pae-entry';
      nuevoRegistro.innerHTML = `
        <div>
          <strong>${paciente}</strong> - ${diagnostico}
          <div style="font-size: 0.8rem; color: var(--gray); margin-top: 0.2rem;">${fecha} ${hora}</div>
        </div>
        <div class="pae-actions">
          <button class="btn btn-secondary btn-sm"><i class="fas fa-eye"></i> Ver</button>
          <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Editar</button>
          <button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i> Eliminar</button>
        </div>
      `;
      
      // Añadir al inicio de la lista
      const listaPAE = document.getElementById('listaPAE');
      listaPAE.insertBefore(nuevoRegistro, listaPAE.firstChild);
      
      // Limpiar el formulario
      document.getElementById('paePaciente').value = '';
      document.getElementById('paeDiagnostico').value = '';
      document.getElementById('paeObjetivos').value = '';
      document.getElementById('paeIntervenciones').value = '';
      document.getElementById('paeEvaluacion').value = '';
      
      alert('PAE guardado correctamente.');
    });
    
    // Funcionalidad para los botones de acción en los registros de PAE
    document.getElementById('listaPAE').addEventListener('click', function(e) {
      if (e.target.closest('.btn')) {
        const btn = e.target.closest('.btn');
        const entry = btn.closest('.pae-entry');
        
        if (btn.classList.contains('btn-danger')) {
          if (confirm('¿Está seguro de que desea eliminar este registro de PAE?')) {
            entry.remove();
          }
        } else if (btn.classList.contains('btn-warning')) {
          alert('Funcionalidad de edición. En una versión completa, esto permitiría editar el registro de PAE.');
        } else if (btn.classList.contains('btn-secondary')) {
          alert('Funcionalidad de visualización. En una versión completa, esto mostraría todos los detalles del PAE.');
        }
      }
    });

    // ==================== MAPA HOSPITALARIO ====================
    document.querySelectorAll('.map-area').forEach(area => {
      area.addEventListener('click', function() {
        const areaName = this.getAttribute('data-area');
        
        // Datos simulados para cada área
        const areasData = {
          'urgencias': {
            titulo: 'Urgencias',
            descripcion: 'Servicio de atención inmediata para emergencias médicas. Atención 24 horas.',
            personal: 'Dr. Juan Pérez, Dra. María López, Enf. Carlos Gómez',
            contacto: 'Tfno: 900 123 456, Ext: 101'
          },
          'recepcion': {
            titulo: 'Recepción',
            descripcion: 'Punto de información y registro de pacientes. Atención al público y gestión administrativa.',
            personal: 'Srta. Ana Martínez, Sr. David Ruiz',
            contacto: 'Tfno: 900 123 456, Ext: 100'
          },
          'farmacia': {
            titulo: 'Farmacia',
            descripcion: 'Dispensación de medicamentos y asesoramiento farmacéutico. Horario: 8:00-20:00.',
            personal: 'Dra. Laura Sánchez, Dr. Pablo Díaz',
            contacto: 'Tfno: 900 123 456, Ext: 105'
          },
          'quirófano': {
            titulo: 'Quirófano',
            descripcion: 'Salas de intervención quirúrgica. Equipadas con tecnología avanzada para cirugías.',
            personal: 'Dr. Roberto Fernández, Enf. Elena Castro',
            contacto: 'Tfno: 900 123 456, Ext: 201'
          },
          'uci': {
            titulo: 'Unidad de Cuidados Intensivos (UCI)',
            descripcion: 'Atención especializada para pacientes críticos. Monitorización continua y soporte vital.',
            personal: 'Dra. Patricia Gómez, Dr. Miguel Ángel Torres',
            contacto: 'Tfno: 900 123 456, Ext: 205'
          },
          'maternidad': {
            titulo: 'Maternidad',
            descripcion: 'Atención al parto, sala de dilatación y postparto. Cuidado neonatal.',
            personal: 'Dra. Isabel Ramírez, Enf. Marta Jiménez',
            contacto: 'Tfno: 900 123 456, Ext: 301'
          },
          'rayosx': {
            titulo: 'Rayos X',
            descripcion: 'Servicio de radiología diagnóstica. Radiografías, fluoroscopia y mamografía.',
            personal: 'Dr. Francisco Hernández, Téc. Laura Ortiz',
            contacto: 'Tfno: 900 123 456, Ext: 210'
          },
          'neurologia': {
            titulo: 'Neurología',
            descripcion: 'Diagnóstico y tratamiento de enfermedades del sistema nervioso.',
            personal: 'Dr. Alberto Vargas, Dra. Silvia Mendoza',
            contacto: 'Tfno: 900 123 456, Ext: 401'
          },
          'cardiologia': {
            titulo: 'Cardiología',
            descripcion: 'Evaluación y tratamiento de enfermedades del corazón y sistema circulatorio.',
            personal: 'Dr. José Luis Navarro, Dra. Beatriz Paredes',
            contacto: 'Tfno: 900 123 456, Ext: 405'
          },
          'oncologia': {
            titulo: 'Oncología',
            descripcion: 'Diagnóstico y tratamiento del cáncer. Quimioterapia y radioterapia.',
            personal: 'Dr. Manuel Castro, Dra. Raquel Suárez',
            contacto: 'Tfno: 900 123 456, Ext: 410'
          },
          'pediatria': {
            titulo: 'Pediatría',
            descripcion: 'Atención médica especializada para niños y adolescentes.',
            personal: 'Dra. Carmen Rivas, Dr. Daniel Ortega',
            contacto: 'Tfno: 900 123 456, Ext: 501'
          },
          'laboratorio': {
            titulo: 'Laboratorio',
            descripcion: 'Análisis clínicos y pruebas de diagnóstico. Resultados en 24-48 horas.',
            personal: 'Dr. Ignacio Molina, Téc. Ana Belén López',
            contacto: 'Tfno: 900 123 456, Ext: 215'
          },
          'administracion': {
            titulo: 'Administración',
            descripcion: 'Gestión administrativa del hospital. Recursos humanos, finanzas y planificación.',
            personal: 'Sr. Antonio Ruiz, Sra. Marta Sánchez',
            contacto: 'Tfno: 900 123 456, Ext: 601'
          },
          'personal': {
            titulo: 'Personal',
            descripcion: 'Áreas comunes para el personal del hospital. Vestuarios, sala de descanso y formación.',
            personal: 'Todos los departamentos',
            contacto: 'Tfno: 900 123 456, Ext: 605'
          },
          'archivo': {
            titulo: 'Archivo',
            descripcion: 'Gestión y almacenamiento de historias clínicas y documentación hospitalaria.',
            personal: 'Srta. Elena González, Sr. Jorge Díaz',
            contacto: 'Tfno: 900 123 456, Ext: 610'
          }
        };
        
        const data = areasData[areaName];
        if (data) {
          document.getElementById('tituloArea').textContent = data.titulo;
          document.getElementById('descripcionArea').textContent = data.descripcion;
          document.getElementById('personalArea').textContent = data.personal;
          document.getElementById('contactoArea').textContent = data.contacto;
          document.getElementById('infoMapa').style.display = 'block';
        }
      });
    });

    // ==================== GRÁFICOS MÉDICOS ====================
    // Datos simulados para los gráficos
    const datosMedicos = {
      pulso: {
        labels: ['08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00'],
        data: [78, 82, 76, 85, 79, 81, 77],
        unidad: 'lpm',
        meta: 60,
        max: 100
      },
      presion: {
        labels: ['08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00'],
        data: [120, 125, 118, 130, 122, 128, 124],
        unidad: 'mmHg',
        meta: 120,
        max: 180
      },
      glucemia: {
        labels: ['08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00'],
        data: [110, 180, 95, 210, 105, 190, 100],
        unidad: 'mg/dL',
        meta: 100,
        max: 300
      },
      imc: {
        labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul'],
        data: [28.5, 28.2, 27.8, 27.5, 27.0, 26.8, 26.5],
        unidad: 'kg/m²',
        meta: 25,
        max: 40
      }
    };

    // Configuración del gráfico
    let currentGrafico = 'pulso';
    let currentIndex = datosMedicos[currentGrafico].data.length - 1;

    // Función para dibujar el gráfico
    function dibujarGrafico() {
      const canvas = document.getElementById('graficoMedico');
      const ctx = canvas.getContext('2d');
      
      // Ajustar tamaño del canvas
      const container = canvas.parentElement;
      canvas.width = container.clientWidth;
      canvas.height = container.clientHeight;
      
      const datos = datosMedicos[currentGrafico];
      const ancho = canvas.width;
      const alto = canvas.height;
      
      // Limpiar el canvas
      ctx.clearRect(0, 0, ancho, alto);
      
      // Configuración del gráfico
      const margenIzquierdo = 60;
      const margenInferior = 40;
      const margenSuperior = 20;
      const anchoGrafico = ancho - margenIzquierdo - 30;
      const altoGrafico = alto - margenInferior - margenSuperior;
      
      // Dibujar ejes
      ctx.beginPath();
      ctx.strokeStyle = '#888';
      ctx.lineWidth = 1;
      
      // Eje Y
      ctx.moveTo(margenIzquierdo, margenSuperior);
      ctx.lineTo(margenIzquierdo, alto - margenInferior);
      
      // Eje X
      ctx.moveTo(margenIzquierdo, alto - margenInferior);
      ctx.lineTo(ancho - 30, alto - margenInferior);
      ctx.stroke();
      
      // Escala del eje Y
      const maxValor = datos.max;
      const pasoY = 5;
      const incremento = maxValor / pasoY;
      
      ctx.fillStyle = '#333';
      ctx.font = '12px Arial';
      
      for (let i = 0; i <= pasoY; i++) {
        const valor = i * incremento;
        const y = alto - margenInferior - (i * altoGrafico / pasoY);
        
        // Línea de cuadrícula
        ctx.beginPath();
        ctx.strokeStyle = '#ddd';
        ctx.setLineDash([5, 5]);
        ctx.moveTo(margenIzquierdo, y);
        ctx.lineTo(ancho - 30, y);
        ctx.stroke();
        ctx.setLineDash([]);
        
        // Etiqueta
        ctx.fillStyle = '#333';
        ctx.textAlign = 'right';
        ctx.fillText(Math.round(valor), margenIzquierdo - 10, y + 4);
      }
      
      // Etiquetas del eje X
      ctx.textAlign = 'center';
      ctx.fillStyle = '#333';
      const pasoX = anchoGrafico / (datos.labels.length - 1);
      
      for (let i = 0; i < datos.labels.length; i++) {
        const x = margenIzquierdo + i * pasoX;
        const y = alto - margenInferior + 20;
        ctx.fillText(datos.labels[i], x, y);
      }
      
      // Dibujar la línea del gráfico
      ctx.beginPath();
      ctx.lineWidth = 3;
      ctx.strokeStyle = '#4caf50';
      ctx.setLineDash([]);
      
      for (let i = 0; i < datos.data.length; i++) {
        const x = margenIzquierdo + i * pasoX;
        const valor = datos.data[i];
        const y = alto - margenInferior - (valor / maxValor) * altoGrafico;
        
        if (i === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }
      ctx.stroke();
      
      // Dibujar puntos
      ctx.fillStyle = '#4caf50';
      for (let i = 0; i < datos.data.length; i++) {
        const x = margenIzquierdo + i * pasoX;
        const valor = datos.data[i];
        const y = alto - margenInferior - (valor / maxValor) * altoGrafico;
        
        ctx.beginPath();
        ctx.arc(x, y, 5, 0, 2 * Math.PI);
        ctx.fill();
        
        // Resaltar el punto actual
        if (i === currentIndex) {
          ctx.beginPath();
          ctx.arc(x, y, 8, 0, 2 * Math.PI);
          ctx.strokeStyle = '#ff9800';
          ctx.lineWidth = 3;
          ctx.stroke();
        }
      }
      
      // Línea de meta
      ctx.beginPath();
      ctx.strokeStyle = '#f44336';
      ctx.lineWidth = 2;
      ctx.setLineDash([5, 5]);
      const yMeta = alto - margenInferior - (datos.meta / maxValor) * altoGrafico;
      ctx.moveTo(margenIzquierdo, yMeta);
      ctx.lineTo(ancho - 30, yMeta);
      ctx.stroke();
      ctx.setLineDash([]);
      
      // Etiqueta de meta
      ctx.fillStyle = '#f44336';
      ctx.textAlign = 'left';
      ctx.fillText(`Meta: ${datos.meta} ${datos.unidad}`, margenIzquierdo + 5, yMeta - 5);
      
      // Título del gráfico
      ctx.fillStyle = '#333';
      ctx.font = 'bold 16px Arial';
      ctx.textAlign = 'center';
      ctx.fillText(`Evolución del ${currentGrafico.charAt(0).toUpperCase() + currentGrafico.slice(1)}`, ancho / 2, 15);
      
      // Valor actual
      ctx.font = 'bold 20px Arial';
      ctx.fillStyle = '#4caf50';
      ctx.textAlign = 'right';
      ctx.fillText(`${datos.data[currentIndex]} ${datos.unidad}`, ancho - 40, 30);
      
      // Fecha actual
      const fecha = new Date();
      ctx.font = '12px Arial';
      ctx.fillStyle = '#666';
      ctx.fillText(fecha.toLocaleDateString('es-ES'), ancho - 40, 50);
    }

    // Inicializar el gráfico
    dibujarGrafico();

    // Cambiar tipo de gráfico
    document.getElementById('tipoGrafico').addEventListener('change', function() {
      currentGrafico = this.value;
      currentIndex = datosMedicos[currentGrafico].data.length - 1;
      dibujarGrafico();
    });

    // Botón anterior
    document.getElementById('anteriorDato').addEventListener('click', function() {
      if (currentIndex > 0) {
        currentIndex--;
        dibujarGrafico();
      }
    });

    // Botón siguiente
    document.getElementById('siguienteDato').addEventListener('click', function() {
      if (currentIndex < datosMedicos[currentGrafico].data.length - 1) {
        currentIndex++;
        dibujarGrafico();
      }
    });

    // Nuevo dato
    document.getElementById('nuevoDato').addEventListener('click', function() {
      const datos = datosMedicos[currentGrafico];
      let nuevoValor;
      
      // Generar un valor razonable basado en el tipo de gráfico
      switch (currentGrafico) {
        case 'pulso':
          nuevoValor = Math.floor(Math.random() * 20) + 60; // 60-80
          break;
        case 'presion':
          nuevoValor = Math.floor(Math.random() * 40) + 110; // 110-150
          break;
        case 'glucemia':
          nuevoValor = Math.floor(Math.random() * 100) + 80; // 80-180
          break;
        case 'imc':
          nuevoValor = parseFloat((datos.data[datos.data.length - 1] - 0.2 + Math.random() * 0.4).toFixed(1));
          break;
        default:
          nuevoValor = Math.floor(Math.random() * 50) + 50;
      }
      
      // Añadir nuevo dato
      datos.data.push(nuevoValor);
      datos.labels.push(new Date().toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'}));
      
      // Mantener solo los últimos 7 datos
      if (datos.data.length > 7) {
        datos.data.shift();
        datos.labels.shift();
      }
      
      // Actualizar el índice actual
      currentIndex = datos.data.length - 1;
      
      // Redibujar
      dibujarGrafico();
      
      alert(`Nuevo dato añadido: ${nuevoValor} ${datos.unidad}`);
    });

    // ==================== BUSCADOR DE ENFERMEDADES (WIKIPEDIA) ====================
    document.getElementById('buscarEnfermedad').addEventListener('click', function() {
      const enfermedad = document.getElementById('buscadorEnfermedad').value.trim();
      
      if (!enfermedad) {
        alert('Por favor, ingrese el nombre de una enfermedad.');
        return;
      }
      
      // Simular una búsqueda en Wikipedia
      document.getElementById('tituloEnfermedad').textContent = enfermedad;
      document.getElementById('extractoEnfermedad').textContent = `Información sobre ${enfermedad}. Esta es una simulación de búsqueda en Wikipedia. En una versión completa, esta función realizaría una consulta a la API de Wikipedia para obtener información real sobre la enfermedad buscada. La API de Wikipedia proporciona extractos de artículos, enlaces y metadatos que podrían ser útiles para profesionales médicos. Los resultados incluirían definición, síntomas, causas, diagnóstico, tratamiento y pronóstico de la enfermedad.`;
      document.getElementById('enlaceWikipedia').href = `https://es.wikipedia.org/wiki/${enfermedad.replace(' ', '_')}`;
      document.getElementById('resultadoEnfermedad').style.display = 'block';
    });

    // ==================== SIMULADOR DE RCP ====================
    document.getElementById('iniciarSimuladorRCP').addEventListener('click', function() {
      alert('Funcionalidad de simulador de RCP. En una versión completa, esto abriría un simulador interactivo con temporizador, metrónomo y evaluación de la calidad de las compresiones.');
    });

    // ==================== DESCARGAR PROTOCOLOS ====================
    document.getElementById('descargarProtocoloAdulto').addEventListener('click', function() {
      alert('Funcionalidad de descarga. En una versión completa, esto generaría y descargaría un PDF con el protocolo RCP Adulto.');
    });
  </script>
</body>
</html>
