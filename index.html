<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediAssist Pro ULTRA - Herramienta Médica</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --white: #ffffff;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.25rem;
            --font-size-xl: 1.5rem;
            --font-size-2xl: 2rem;
            --border-radius: 0.5rem;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--box-shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: var(--font-size-xl);
            font-weight: bold;
        }

        .logo i {
            color: var(--secondary);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1rem;
        }

        nav a {
            color: var(--light);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        nav a:hover, nav a.active {
            background: var(--secondary);
            color: var(--white);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        @media (min-width: 992px) {
            .main-content {
                grid-template-columns: 300px 1fr;
            }
        }

        .sidebar {
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar h3 {
            color: var(--secondary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            margin-bottom: 0.5rem;
        }

        .sidebar a {
            color: var(--light);
            text-decoration: none;
            padding: 0.5rem;
            display: block;
            border-radius: var(--border-radius);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar a:hover, .sidebar a.active {
            background: var(--secondary);
            color: var(--white);
        }

        .content {
            background: rgba(44, 62, 80, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section {
            margin-bottom: 2rem;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-title {
            font-size: var(--font-size-lg);
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            background: var(--secondary);
            color: var(--white);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: var(--font-size-sm);
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--secondary);
            color: var(--secondary);
        }

        .btn-outline:hover {
            background: var(--secondary);
            color: var(--white);
        }

        .btn-sm {
            padding: 0.25rem 0.75rem;
            font-size: 0.875rem;
        }

        .btn-danger {
            background: var(--danger);
        }

        .btn-danger:hover {
            background: #c0392b;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--light);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.1);
            color: var(--white);
            font-size: var(--font-size-base);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.25);
        }

        .input-group {
            display: flex;
            gap: 0.5rem;
        }

        .input-group .form-control {
            flex: 1;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 1.5rem 0;
        }

        .chart-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .glass-inner {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-inner h4 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .glass-inner p {
            margin-bottom: 0.5rem;
        }

        .glass-inner ol, .glass-inner ul {
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .glass-inner li {
            margin-bottom: 0.25rem;
        }

        .status {
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-danger {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }

        .status-warning {
            background: rgba(243, 156, 18, 0.2);
            color: var(--warning);
        }

        .status-success {
            background: rgba(39, 174, 96, 0.2);
            color: var(--success);
        }

        .alert {
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .alert-warning {
            background: rgba(243, 156, 18, 0.2);
            border: 1px solid rgba(243, 156, 18, 0.3);
        }

        .alert-icon {
            font-size: 1.5rem;
            color: var(--warning);
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .search-container {
            margin-bottom: 1.5rem;
        }

        .search-input {
            position: relative;
            margin-bottom: 1rem;
        }

        .search-input i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .search-input input {
            width: 100%;
            padding: 0.75rem 0.75rem 0.75rem 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.1);
            color: var(--white);
        }

        .search-results {
            margin-top: 1rem;
        }

        .result-item {
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
        }

        .result-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .result-item i {
            margin-right: 0.5rem;
            color: var(--secondary);
        }

        .pae-entry {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 0;
        }

        .pae-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .pae-title {
            font-weight: 600;
            color: var(--secondary);
        }

        .pae-subtitle {
            font-size: 0.875rem;
            color: var(--light);
        }

        .pae-date {
            font-size: 0.75rem;
            color: var(--gray);
        }

        .rcp-step {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .rcp-step:last-child {
            border-bottom: none;
        }

        .rcp-step h4 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--light);
            font-size: 0.875rem;
            margin-top: 2rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .table th, .table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .table th {
            color: var(--secondary);
            font-weight: 600;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-primary {
            background: rgba(52, 152, 219, 0.2);
            color: var(--secondary);
        }

        .badge-success {
            background: rgba(46, 204, 113, 0.2);
            color: var(--success);
        }

        .badge-warning {
            background: rgba(241, 196, 15, 0.2);
            color: var(--warning);
        }

        .badge-danger {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }

        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tab:hover, .tab.active {
            background: var(--secondary);
            color: var(--white);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .progress-container {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--secondary);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--secondary);
        }

        .info-box {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
        }

        .info-icon {
            font-size: 2rem;
            color: var(--secondary);
        }

        .info-content h4 {
            color: var(--secondary);
            margin-bottom: 0.25rem;
        }

        .info-content p {
            margin: 0;
            font-size: 0.875rem;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem;
            border-radius: var(--border-radius);
            background: var(--success);
            color: var(--white);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-danger {
            background: var(--danger);
        }

        .notification-warning {
            background: var(--warning);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--dark);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            color: var(--secondary);
            font-size: var(--font-size-lg);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--light);
            cursor: pointer;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        .print-btn {
            background: #27ae60;
            margin-left: 0.5rem;
        }

        .print-btn:hover {
            background: #219653;
        }

        @media print {
            .no-print, .no-print * {
                display: none !important;
            }
            
            body {
                background: none;
                color: #000;
            }
            
            .content {
                background: none;
                border: none;
                box-shadow: none;
            }
            
            .card {
                background: none;
                border: none;
                box-shadow: none;
            }
            
            .glass-inner {
                background: none;
                border: none;
            }
            
            .alert, .notification, .modal, header, footer, .card-actions, .chart-controls {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>MediAssist Pro ULTRA</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#inicio" class="active"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="#areas"><i class="fas fa-hospital"></i> Áreas</a></li>
                    <li><a href="#primerosAuxilios"><i class="fas fa-band-aid"></i> Primeros Auxilios</a></li>
                    <li><a href="#calculadoras"><i class="fas fa-calculator"></i> Calculadoras</a></li>
                    <li><a href="#extras"><i class="fas fa-cogs"></i> Extras</a></li>
                </ul>
            </nav>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <h3><i class="fas fa-tasks"></i> Navegación</h3>
                <ul>
                    <li><a href="#inicio" class="active"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="#areas"><i class="fas fa-hospital"></i> Áreas Hospitalarias</a></li>
                    <li><a href="#primerosAuxilios"><i class="fas fa-first-aid"></i> Primeros Auxilios</a></li>
                    <li><a href="#calculadoras"><i class="fas fa-calculator"></i> Calculadoras Médicas</a></li>
                    <li><a href="#extras"><i class="fas fa-tools"></i> Herramientas</a></li>
                </ul>

                <h3><i class="fas fa-clock"></i> Hora</h3>
                <div class="card">
                    <div id="relojDigital" style="font-size: 1.5rem; font-weight: bold; text-align: center; color: var(--secondary);"></div>
                    <div id="fecha" style="text-align: center; margin-top: 0.5rem; color: var(--light);"></div>
                </div>

                <h3><i class="fas fa-exclamation-triangle"></i> Emergencias</h3>
                <div class="card">
                    <div class="info-box">
                        <div class="info-icon">
                            <i class="fas fa-ambulance"></i>
                        </div>
                        <div class="info-content">
                            <h4>Emergencias</h4>
                            <p>Llame al 112</p>
                        </div>
                    </div>
                    <div class="info-box">
                        <div class="info-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="info-content">
                            <h4>Urgencias</h4>
                            <p>900 123 456</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content">
                <!-- Sección Inicio -->
                <section id="inicio" class="section active">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-home"></i> Bienvenido a MediAssist Pro ULTRA</h3>
                        </div>
                        <div class="card-body">
                            <p>Esta herramienta médica integral está diseñada para profesionales de la salud, proporcionando acceso rápido a información crítica, protocolos de atención, calculadoras médicas y recursos esenciales para el trabajo diario en entornos hospitalarios.</p>
                            
                            <div class="grid-3" style="margin: 2rem 0;">
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-book-medical"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Protocolos</h4>
                                        <p>Acceso a protocolos de atención médica</p>
                                    </div>
                                </div>
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-calculator"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Calculadoras</h4>
                                        <p>Herramientas médicas precisas</p>
                                    </div>
                                </div>
                                <div class="info-box">
                                    <div class="info-icon">
                                        <i class="fas fa-user-md"></i>
                                    </div>
                                    <div class="info-content">
                                        <h4>Áreas</h4>
                                        <p>Información de departamentos hospitalarios</p>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-warning">
                                <div class="alert-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="alert-content">
                                    <div class="alert-title">Advertencia Importante</div>
                                    <div>Esta herramienta proporciona información de referencia para profesionales médicos. Siempre consulte las guías clínicas actualizadas y las políticas del hospital antes de tomar decisiones clínicas.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sección Áreas Hospitalarias -->
                <section id="areas" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-hospital"></i> Áreas Hospitalarias</h3>
                            <div class="card-actions">
                                <button class="btn btn-outline btn-sm" id="refreshAreas"><i class="fas fa-sync"></i> Actualizar</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="search-container">
                                <div class="search-input">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="searchArea" placeholder="Buscar área hospitalaria...">
                                </div>
                            </div>

                            <div class="tabs">
                                <div class="tab active" data-tab="urgencias">Urgencias</div>
                                <div class="tab" data-tab="recepcion">Recepción</div>
                                <div class="tab" data-tab="farmacia">Farmacia</div>
                                <div class="tab" data-tab="quirófano">Quirófano</div>
                                <div class="tab" data-tab="uci">UCI</div>
                                <div class="tab" data-tab="maternidad">Maternidad</div>
                                <div class="tab" data-tab="rayosx">Rayos X</div>
                                <div class="tab" data-tab="neurologia">Neurología</div>
                                <div class="tab" data-tab="cardiologia">Cardiología</div>
                                <div class="tab" data-tab="oncologia">Oncología</div>
                                <div class="tab" data-tab="pediatria">Pediatría</div>
                                <div class="tab" data-tab="laboratorio">Laboratorio</div>
                            </div>

                            <div id="areaContent">
                                <!-- El contenido se llenará dinámicamente -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sección Primeros Auxilios -->
                <section id="primerosAuxilios" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-first-aid"></i> Protocolos de Primeros Auxilios</h3>
                            <div class="card-actions">
                                <button class="btn btn-outline btn-sm" id="printFirstAid"><i class="fas fa-print"></i> Imprimir</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <div class="tab active" data-tab="traumatismos">Traumatismos</div>
                                <div class="tab" data-tab="hemorragias">Hemorragias</div>
                                <div class="tab" data-tab="quemaduras">Quemaduras</div>
                                <div class="tab" data-tab="ahogamiento">Ahogamiento</div>
                                <div class="tab" data-tab="intoxicacion">Intoxicación</div>
                                <div class="tab" data-tab="rce">RCP</div>
                            </div>

                            <div id="firstAidContent">
                                <!-- Contenido de primeros auxilios -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sección Calculadoras Médicas -->
                <section id="calculadoras" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-calculator"></i> Calculadoras Médicas</h3>
                            <div class="card-actions">
                                <button class="btn btn-outline btn-sm" id="clearCalculators"><i class="fas fa-eraser"></i> Limpiar</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <div class="tab active" data-tab="imc">IMC</div>
                                <div class="tab" data-tab="cardio">Riesgo Cardiovascular</div>
                                <div class="tab" data-tab="medicamentos">Medicamentos</div>
                            </div>

                            <div id="calculatorContent">
                                <!-- Contenido de calculadoras -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sección Extras -->
                <section id="extras" class="section">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title"><i class="fas fa-tools"></i> Herramientas Profesionales</h3>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <div class="tab active" data-tab="pae">PAE</div>
                                <div class="tab" data-tab="medicamentos">Medicamentos</div>
                                <div class="tab" data-tab="enfermedades">Enfermedades</div>
                            </div>

                            <div id="extrasContent">
                                <!-- Contenido de extras -->
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <footer>
            <p>MediAssist Pro ULTRA © 2024 - Aplicación médica para profesionales de la salud</p>
            <p>Esta herramienta es de uso exclusivo para personal médico autorizado</p>
        </footer>
    </div>

    <!-- Modal para agregar PAE -->
    <div class="modal" id="paeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-notes-medical"></i> Nuevo Plan de Atención de Enfermería</h3>
                <button class="modal-close" id="closePaeModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formularioPAE">
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-user-injured"></i> Nombre del paciente:</label>
                        <input type="text" class="form-control" id="paePaciente" placeholder="Nombre del paciente">
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-diagnoses"></i> Diagnóstico de enfermería:</label>
                        <textarea class="form-control" id="paeDiagnostico" rows="3" placeholder="Ej: Riesgo de infección relacionado con herida quirúrgica"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-bullseye"></i> Objetivos:</label>
                        <textarea class="form-control" id="paeObjetivos" rows="3" placeholder="Ej: El paciente mantendrá la herida limpia y seca sin signos de infección en 72 horas"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-hand-holding-medical"></i> Intervenciones:</label>
                        <textarea class="form-control" id="paeIntervenciones" rows="3" placeholder="Ej: Cambio de apósito estéril cada 24 horas, observación de signos de infección, educación del paciente"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-clipboard-check"></i> Evaluación:</label>
                        <textarea class="form-control" id="paeEvaluacion" rows="3" placeholder="Ej: Herida sin signos de infección, paciente informa disminución del dolor"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelPae">Cancelar</button>
                <button class="btn" id="guardarPAE"><i class="fas fa-save"></i> Guardar PAE</button>
            </div>
        </div>
    </div>

    <!-- Modal para buscar medicamentos -->
    <div class="modal" id="medicamentoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title"><i class="fas fa-pills"></i> Información del Medicamento</h3>
                <button class="modal-close" id="closeMedicamentoModal">&times;</button>
            </div>
            <div class="modal-body" id="medicamentoContent">
                <!-- Contenido del medicamento -->
            </div>
            <div class="modal-footer">
                <button class="btn print-btn" id="printMedicamento"><i class="fas fa-print"></i> Imprimir</button>
                <button class="btn btn-outline" id="closeMedicamentoBtn">Cerrar</button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationMessage">Acción realizada con éxito</span>
    </div>

    <script>
        // Datos de áreas hospitalarias
        const areasData = {
            'urgencias': {
                titulo: 'Urgencias',
                descripcion: 'Atención inmediata a pacientes con condiciones médicas agudas. Servicio 24/7 con equipo multidisciplinar.',
                personal: 'Dr. Juan Pérez (Médico de Urgencias), Dra. María López (Traumatóloga), Enf. Carlos Gómez (Enfermero de Urgencias)',
                contacto: 'Tfno: 900 123 456, Ext: 101, Email: urgencias@hospital.com'
            },
            'recepcion': {
                titulo: 'Recepción',
                descripcion: 'Punto de información y registro de pacientes. Atención al público y gestión administrativa.',
                personal: 'Srta. Ana Martínez (Recepcionista), Sr. David Ruiz (Coordinador Administrativo)',
                contacto: 'Tfno: 900 123 456, Ext: 100, Email: recepcion@hospital.com'
            },
            'farmacia': {
                titulo: 'Farmacia',
                descripcion: 'Dispensación de medicamentos y asesoramiento farmacéutico. Horario: 8:00-20:00.',
                personal: 'Dra. Laura Sánchez (Farmacéutica Jefe), Dr. Pablo Díaz (Farmacéutico)',
                contacto: 'Tfno: 900 123 456, Ext: 105, Email: farmacia@hospital.com'
            },
            'quirófano': {
                titulo: 'Quirófano',
                descripcion: 'Salas de intervención quirúrgica. Equipadas con tecnología avanzada para cirugías generales, traumatología y neurocirugía.',
                personal: 'Dr. Roberto Fernández (Cirujano General), Enf. Elena Castro (Instrumentista)',
                contacto: 'Tfno: 900 123 456, Ext: 201, Email: quirófano@hospital.com'
            },
            'uci': {
                titulo: 'Unidad de Cuidados Intensivos (UCI)',
                descripcion: 'Atención especializada para pacientes críticos. Monitorización continua y soporte vital avanzado.',
                personal: 'Dra. Patricia Gómez (Intensivista), Dr. Miguel Ángel Torres (Neurólogo)',
                contacto: 'Tfno: 900 123 456, Ext: 205, Email: uci@hospital.com'
            },
            'maternidad': {
                titulo: 'Maternidad',
                descripcion: 'Atención al parto, sala de dilatación y postparto. Cuidado neonatal y unidad de cuidados intensivos neonatales.',
                personal: 'Dra. Isabel Ramírez (Ginecóloga), Enf. Marta Jiménez (Matrona)',
                contacto: 'Tfno: 900 123 456, Ext: 301, Email: maternidad@hospital.com'
            },
            'rayosx': {
                titulo: 'Rayos X',
                descripcion: 'Servicio de radiología diagnóstica. Radiografías, fluoroscopia, mamografía y densitometría ósea.',
                personal: 'Dr. Francisco Hernández (Radiólogo), Téc. Laura Ortiz (Técnico de Rayos X)',
                contacto: 'Tfno: 900 123 456, Ext: 210, Email: rayosx@hospital.com'
            },
            'neurologia': {
                titulo: 'Neurología',
                descripcion: 'Diagnóstico y tratamiento de enfermedades del sistema nervioso central y periférico.',
                personal: 'Dr. Alberto Vargas (Neurólogo), Dra. Silvia Mendoza (Neuropsicóloga)',
                contacto: 'Tfno: 900 123 456, Ext: 401, Email: neurologia@hospital.com'
            },
            'cardiologia': {
                titulo: 'Cardiología',
                descripcion: 'Evaluación y tratamiento de enfermedades del corazón y sistema circulatorio. Unidad coronaria y hemodinámica.',
                personal: 'Dr. José Luis Navarro (Cardiólogo), Dra. Beatriz Paredes (Electrofisióloga)',
                contacto: 'Tfno: 900 123 456, Ext: 405, Email: cardiologia@hospital.com'
            },
            'oncologia': {
                titulo: 'Oncología',
                descripcion: 'Diagnóstico y tratamiento del cáncer. Quimioterapia, radioterapia y cuidados paliativos.',
                personal: 'Dr. Manuel Castro (Oncólogo Médico), Dra. Raquel Suárez (Oncóloga Radioterápica)',
                contacto: 'Tfno: 900 123 456, Ext: 410, Email: oncologia@hospital.com'
            },
            'pediatria': {
                titulo: 'Pediatría',
                descripcion: 'Atención médica especializada para niños y adolescentes. Consultas externas y hospitalización.',
                personal: 'Dra. Carmen Rivas (Pediatra), Dr. Daniel Ortega (Neonatólogo)',
                contacto: 'Tfno: 900 123 456, Ext: 501, Email: pediatria@hospital.com'
            },
            'laboratorio': {
                titulo: 'Laboratorio',
                descripcion: 'Análisis clínicos y pruebas de diagnóstico. Resultados en 24-48 horas.',
                personal: 'Dr. Ignacio Molina (Bioquímico), Téc. Ana Belén López (Técnico de Laboratorio)',
                contacto: 'Tfno: 900 123 456, Ext: 215, Email: laboratorio@hospital.com'
            }
        };

        // Datos de primeros auxilios
        const firstAidData = {
            'traumatismos': `
                <div class="glass-inner">
                    <h4><i class="fas fa-bone"></i> Fracturas</h4>
                    <p>Síntomas: dolor intenso, deformidad, hinchazón, imposibilidad de mover la extremidad.</p>
                    <ol>
                        <li>Inmovilice la zona afectada sin tratar de realinear el hueso</li>
                        <li>Aplicar frío para reducir la hinchazón (no hielo directo)</li>
                        <li>Elevación de la extremidad si es posible</li>
                        <li>Control del dolor si está permitido</li>
                        <li>Buscar atención médica inmediata</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-skull"></i> Fractura de Cráneo</h4>
                    <p>Síntomas: pérdida de conciencia, vómitos, sangre o líquido por oído/nariz, pupilas desiguales.</p>
                    <ol>
                        <li>Mantenga al paciente acostado y quieto</li>
                        <li>No taponar orificios por donde sale líquido</li>
                        <li>No dar alimentos ni bebidas</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-spine"></i> Fractura de Columna</h4>
                    <ol>
                        <li>No mover al paciente a menos que haya peligro inminente</li>
                        <li>Mantener alineación cabeza-cuello-columna</li>
                        <li>Si debe moverlo, hacerlo como una sola unidad (técnica de log roll)</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
            `,
            'hemorragias': `
                <div class="glass-inner">
                    <h4><i class="fas fa-tint"></i> Hemorragia Externa</h4>
                    <ol>
                        <li>Aplicar presión directa sobre la herida con gasa estéril o tela limpia</li>
                        <li>Elevar la extremidad por encima del nivel del corazón si es posible</li>
                        <li>Aplicar vendaje compresivo si la hemorragia continúa</li>
                        <li>Si hay un objeto incrustado, no lo retire; aplique presión alrededor del objeto</li>
                        <li>Llame al 112 si la hemorragia no cede o es muy abundante</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-arrow-down"></i> Hemorragia Interna</h4>
                    <p>Síntomas: palidez, sudoración, pulso rápido y débil, confusión, dolor abdominal o torácico, hematomas sin causa aparente.</p>
                    <ol>
                        <li>Mantenga al paciente acostado y quieto</li>
                        <li>Eleve las piernas si no hay lesión en columna</li>
                        <li>Administre oxígeno si está disponible</li>
                        <li>No administre alimentos ni bebidas</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-ambulance"></i> Hemorragia Nasal</h4>
                    <ol>
                        <li>Siente al paciente con la cabeza ligeramente inclinada hacia delante</li>
                        <li>Pídale que se pinche la nariz con los dedos durante 10-15 minutos</li>
                        <li>No introduzca nada en la nariz</li>
                        <li>Si la hemorragia persiste más de 20 minutos, busque atención médica</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-tint-slash"></i> Hemorragia Dental</h4>
                    <ol>
                        <li>Aplicar presión con gasa estéril sobre la encía</li>
                        <li>Si hay un diente extraído, colocar gasa en el alveolo y pedir que muerda</li>
                        <li>Aplicar frío externo en la zona</li>
                        <li>Evitar enjuagues bucales durante las primeras 24 horas</li>
                    </ol>
                </div>
            `,
            'quemaduras': `
                <div class="glass-inner">
                    <h4><i class="fas fa-fire"></i> Clasificación de Quemaduras</h4>
                    <ul>
                        <li><strong>1er grado:</strong> Enrojecimiento, dolor (ej: quemadura solar)</li>
                        <li><strong>2do grado:</strong> Ampollas, dolor intenso</li>
                        <li><strong>3er grado:</strong> Destrucción de tejidos, puede no doler por daño nervioso</li>
                    </ul>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-band-aid"></i> Tratamiento</h4>
                    <ol>
                        <li>Enfriar la quemadura con agua corriente durante 10-15 minutos</li>
                        <li>Cubrir con gasa estéril o tela limpia</li>
                        <li>Prevenir hipotermia</li>
                        <li>Valorar necesidad de traslado a unidad especializada</li>
                        <li>Aplicar fórmula de Parkland si >20% superficie corporal</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-skull"></i> Traumatismo Craneoencefálico</h4>
                    <ul>
                        <li>Mantener inmovilización cervical</li>
                        <li>Controlar vía aérea, respiración y circulación</li>
                        <li>Monitoreo neurológico (escala de Glasgow)</li>
                        <li>Evitar hipercapnia e hipotensión</li>
                        <li>Preparar para TC craneal</li>
                    </ul>
                </div>
            `,
            'ahogamiento': `
                <div class="glass-inner">
                    <h4><i class="fas fa-swimmer"></i> Rescate Acuático</h4>
                    <ol>
                        <li>No entre al agua a menos que esté capacitado y sea seguro</li>
                        <li>Use objetos flotantes para acercar al paciente a la orilla</li>
                        <li>Si debe entrar, use equipo de flotación y evite el contacto directo si el paciente está agitado</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-heartbeat"></i> Evaluación y RCP</h4>
                    <ol>
                        <li>Saque al paciente del agua con cuidado</li>
                        <li>Verifique respuesta: "¡Oiga! ¿Está bien?"</li>
                        <li>Si no responde, llame al 112</li>
                        <li>Comience la RCP inmediatamente si no hay pulso</li>
                        <li>El riesgo de vómito es alto; si ocurre, gire al paciente de lado y limpie la boca</li>
                        <li>El hipotermia es común; mantenga al paciente caliente una vez estabilizado</li>
                    </ol>
                </div>
            `,
            'intoxicacion': `
                <div class="glass-inner">
                    <h4><i class="fas fa-pills"></i> Intoxicación por Medicamentos</h4>
                    <ol>
                        <li>Verifique estado de conciencia y respiración</li>
                        <li>Busque envases o restos del medicamento</li>
                        <li>No induzca el vómito a menos que lo indique un profesional</li>
                        <li>No administre leche, carbón activado u otros remedios caseros</li>
                        <li>Llame al 112 o al Servicio de Información Toxicológica</li>
                        <li>Proporcione información sobre el medicamento, cantidad y hora de ingestión</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-gas-pump"></i> Intoxicación por Gases</h4>
                    <ol>
                        <li>Salga del área contaminada si es seguro</li>
                        <li>Abrir ventanas y puertas para ventilar</li>
                        <li>Apague fuentes de ignición si es seguro</li>
                        <li>Saque al paciente al aire libre</li>
                        <li>Administre oxígeno si está disponible</li>
                        <li>Llame al 112 inmediatamente</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-utensils"></i> Intoxicación Alimentaria</h4>
                    <ol>
                        <li>Detenga la ingestión del alimento sospechoso</li>
                        <li>Mantenga al paciente hidratado con pequeños sorbos de agua</li>
                        <li>No administre antieméticos o antidiarreicos sin indicación médica</li>
                        <li>Guarde una muestra del alimento si es posible</li>
                        <li>Busque atención médica si hay fiebre alta, sangre en vómitos o deposiciones, o signos de deshidratación</li>
                    </ol>
                </div>
                <div class="glass-inner">
                    <h4><i class="fas fa-leaf"></i> Intoxicación por Plantas</h4>
                    <ol>
                        <li>Identifique la planta si es posible</li>
                        <li>No induzca el vómito</li>
                        <li>Lave la boca con agua</li>
                        <li>Llame al Servicio de Información Toxicológica</li>
                        <li>Guarde una muestra de la planta o vómito si es posible</li>
                    </ol>
                </div>
            `,
            'rce': `
                <div class="rcp-step">
                    <h4><i class="fas fa-user-check"></i> 1. Evaluación inicial</h4>
                    <p>Verifique la respuesta del paciente: "¡Oiga! ¿Está bien?". Si no hay respuesta, llame a emergencias (112) y pida un DEA. Envíe a alguien a buscar el DEA mientras usted comienza la RCP.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-heartbeat"></i> 2. Comprobación de pulso y respiración</h4>
                    <p>Compruebe pulso carotídeo durante 5-10 segundos. Si no hay pulso o no está seguro, comience la RCP inmediatamente. No pase más de 10 segundos en esta comprobación.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-hands"></i> 3. Compresiones torácicas</h4>
                    <p>Realice compresiones en el centro del pecho a una profundidad de 5-6 cm a una frecuencia de 100-120 por minuto. Permita que el pecho se reexpanda completamente entre compresiones.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-wind"></i> 4. Ventilaciones</h4>
                    <p>Después de 30 compresiones, realice 2 ventilaciones de 1 segundo cada una, observando la elevación del pecho. Si no está capacitado en ventilaciones, realice solo compresiones torácicas.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-bolt"></i> 5. Uso del DEA</h4>
                    <p>Cuando llegue el DEA, enciéndalo y siga las instrucciones. Asegúrese de que nadie toque al paciente durante el análisis. Si se recomienda una descarga, asegúrese de que todos estén alejados y active la descarga.</p>
                </div>
                <div class="rcp-step">
                    <h4><i class="fas fa-clipboard-check"></i> 6. Continuar RCP</h4>
                    <p>Continúe con ciclos de 30 compresiones y 2 ventilaciones hasta que llegue ayuda médica, el paciente muestre signos de vida, o usted esté demasiado cansado para continuar.</p>
                </div>
            `
        };

        // Datos para calculadoras
        const calculatorsData = {
            'imc': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-weight"></i> Peso (kg):</label>
                    <input type="number" class="form-control" id="pesoIMC" placeholder="Ej: 70">
                </div>
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-ruler-vertical"></i> Altura (cm):</label>
                    <input type="number" class="form-control" id="alturaIMC" placeholder="Ej: 170">
                </div>
                <button class="btn" id="calcularIMC"><i class="fas fa-calculator"></i> Calcular IMC</button>
                <div id="resultadoIMC" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 class="card-title">Resultado del IMC</h4>
                        <div class="grid-2">
                            <div>
                                <p><strong>IMC:</strong> <span id="valorIMC"></span> kg/m²</p>
                                <p><strong>Clasificación:</strong> <span id="clasificacionIMC"></span></p>
                            </div>
                            <div>
                                <p><strong>Peso ideal:</strong> <span id="pesoIdeal"></span> kg</p>
                                <p><strong>Diferencia:</strong> <span id="diferenciaPeso"></span> kg</p>
                            </div>
                        </div>
                        <div class="progress-container">
                            <div class="progress-text">Nivel de riesgo: <span id="nivelRiesgo"></span></div>
                            <div class="progress-bar" id="barraRiesgo" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            `,
            'cardio': `
                <div class="grid-2">
                    <div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-user"></i> Edad:</label>
                            <input type="number" class="form-control" id="edadCardio" placeholder="Ej: 45">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-venus-mars"></i> Sexo:</label>
                            <select class="form-control" id="sexoCardio">
                                <option value="">Seleccionar</option>
                                <option value="masculino">Masculino</option>
                                <option value="femenino">Femenino</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-heart"></i> Presión arterial sistólica (mmHg):</label>
                            <input type="number" class="form-control" id="pasCardio" placeholder="Ej: 120">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-smoking"></i> ¿Fumador?</label>
                            <select class="form-control" id="fumadorCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-chart-line"></i> Colesterol total (mg/dL):</label>
                            <input type="number" class="form-control" id="colesterolCardio" placeholder="Ej: 200">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-heartbeat"></i> HDL (mg/dL):</label>
                            <input type="number" class="form-control" id="hdlCardio" placeholder="Ej: 50">
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-diabetes"></i> ¿Diabetes?</label>
                            <select class="form-control" id="diabetesCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-prescription"></i> ¿Tratamiento para hipertensión?</label>
                            <select class="form-control" id="htaCardio">
                                <option value="">Seleccionar</option>
                                <option value="si">Sí</option>
                                <option value="no">No</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button class="btn" id="calcularCardio"><i class="fas fa-calculator"></i> Calcular Riesgo</button>
                <div id="resultadoCardio" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 class="card-title">Resultado del Riesgo Cardiovascular</h4>
                        <p><strong>Riesgo a 10 años:</strong> <span id="riesgoCardio"></span>%</p>
                        <p><strong>Clasificación:</strong> <span id="clasificacionCardio"></span></p>
                        <p><strong>Recomendaciones:</strong> <span id="recomendacionesCardio"></span></p>
                    </div>
                </div>
            `,
            'medicamentos': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-pills"></i> Nombre del medicamento:</label>
                    <input type="text" class="form-control" id="buscadorMedicamento" placeholder="Ej: Paracetamol, Ibuprofeno...">
                </div>
                <button class="btn" id="buscarMedicamentoBtn"><i class="fas fa-search"></i> Buscar Medicamento</button>
                <div id="resultadoMedicamento" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 id="nombreMedicamento" class="card-title" style="font-size: var(--font-size-xl); margin-bottom: 1rem;"></h4>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-flask"></i> Principio activo:</label>
                            <p id="principioActivo"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-notes-medical"></i> Indicaciones:</label>
                            <p id="indicaciones"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-ban"></i> Contraindicaciones:</label>
                            <p id="contraindicaciones"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-exclamation-triangle"></i> Efectos secundarios:</label>
                            <p id="efectosSecundarios"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-prescription"></i> Dosis habitual:</label>
                            <p id="dosis"></p>
                        </div>
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-exclamation-circle"></i> Advertencias:</label>
                            <p id="advertencias"></p>
                        </div>
                    </div>
                </div>
            `
        };

        // Datos para extras
        const extrasData = {
            'pae': `
                <div class="card glass-inner">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-notes-medical"></i> Historial de PAE</h3>
                        <div class="card-actions">
                            <button class="btn" id="agregarPAE"><i class="fas fa-plus"></i> Nuevo PAE</button>
                        </div>
                    </div>
                    <div class="card-body" id="historialPAE">
                        <p style="text-align: center; color: var(--gray);">No hay registros de PAE. Cree el primero haciendo clic en "Nuevo PAE".</p>
                    </div>
                </div>
            `,
            'medicamentos': `
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-pills"></i> Seleccionar medicamento:</label>
                    <select class="form-control" id="prospectoMedicamento">
                        <option value="">Seleccionar medicamento</option>
                        <option value="paracetamol">Paracetamol</option>
                        <option value="ibuprofeno">Ibuprofeno</option>
                        <option value="omeprazol">Omeprazol</option>
                        <option value="aspirina">Aspirina</option>
                        <option value="simvastatina">Simvastatina</option>
                        <option value="warfarina">Warfarina</option>
                    </select>
                </div>
                <div id="prospectoContent" style="display: none; margin-top: 1.5rem;">
                    <div class="card glass-inner">
                        <h4 id="tituloProspecto" class="card-title"></h4>
                        <div class="form-group">
                            <h5><i class="fas fa-flask"></i> Composición</h5>
                            <p id="composicion"></p>
                        </div>
                        <div class="form-group">
                            <h5><i class="fas fa-notes-medical"></i> Indicaciones terapéuticas</h5>
                            <p id="indicacionesProspecto"></p>
                        </div>
                        <div class="form-group">
                            <h5><i class="fas fa-ban"></i> Contraindicaciones</h5>
                            <p id="contraindicacionesProspecto"></p>
                        </div>
                        <div class="form-group">
                            <h5><i class="fas fa-exclamation-triangle"></i> Advertencias y precauciones</h5>
                            <p id="advertencias"></p>
                        </div>
                        <div class="form-group">
                            <h5><i class="fas fa-intersex"></i> Interacciones con otros medicamentos</h5>
                            <p id="interacciones"></p>
                        </div>
                        <div class="form-group">
                            <h5><i class="fas fa-exclamation-circle"></i> Efectos adversos</h5>
                            <p id="efectosAdversos"></p>
                        </div>
                        <div class="form-group">
                            <h5><i class="fas fa-prescription"></i> Posología</h5>
                            <p id="dosis"></p>
                        </div>
                        <div class="form-group">
                            <h5><i class="fas fa-warehouse"></i> Conservación</h5>
                            <p id="conservacion"></p>
                        </div>
                    </div>
                </div>
                <div class="alert alert-warning" style="margin-top: 1.5rem;">
                    <div class="alert-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="alert-content">
                        <div class="alert-title">Advertencia Importante</div>
                        <div>Las interacciones entre medicamentos pueden ser peligrosas. Consulte siempre con un especialista antes de prescribir combinaciones.</div>
                    </div>
                </div>
            `,
            'enfermedades': `
                <div class="card glass-inner">
                    <div class="card-header">
                        <h3 class="card-title"><i class="fas fa-book-medical"></i> Buscador de Enfermedades</h3>
                        <div class="card-actions">
                            <button class="btn btn-outline btn-sm" id="limpiarEnfermedad"><i class="fas fa-sync"></i> Limpiar</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label"><i class="fas fa-search"></i> Buscar enfermedad:</label>
                            <input type="text" class="form-control" id="buscadorEnfermedad" placeholder="Ej: Diabetes, Asma, Cáncer...">
                            <div class="search-results" id="resultadosEnfermedad"></div>
                        </div>
                        <button class="btn" id="buscarEnfermedad"><i class="fas fa-search"></i> Buscar Información</button>
                        <div id="resultadoEnfermedad" style="display: none; margin-top: 1.5rem;">
                            <div class="card glass-inner">
                                <h4 id="tituloEnfermedad" class="card-title" style="margin-bottom: 1rem;"></h4>
                                <p id="extractoEnfermedad"></p>
                                <div class="form-group">
                                    <label class="form-label"><i class="fas fa-link"></i> Fuente:</label>
                                    <p><a href="#" id="enlaceWikipedia" target="_blank">Wikipedia</a></p>
                                </div>
                            </div>
                        </div>
                        <div class="alert alert-info" style="margin-top: 1.5rem;">
                            <div class="alert-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="alert-content">
                                <div class="alert-title">Nota</div>
                                <div>Esta información es proporcionada por Wikipedia y debe ser verificada con fuentes médicas confiables.</div>
                            </div>
                        </div>
                    </div>
                </div>
            `
        };

        // Datos de medicamentos
        const medicamentosData = {
            'paracetamol': {
                nombre: 'Paracetamol',
                principioActivo: 'Paracetamol',
                indicaciones: 'Analgesia y antipirético en dolores leves a moderados y fiebre.',
                contraindicaciones: 'Hipersensibilidad al paracetamol, insuficiencia hepática grave.',
                efectosSecundarios: 'En dosis altas: hepatotoxicidad. Raros: reacciones cutáneas, alteraciones hematológicas.',
                dosis: 'Adultos: 500-1000 mg cada 4-6 horas. Máximo 4 g/día.',
                advertencias: 'No exceder la dosis máxima recomendada. El consumo de alcohol aumenta el riesgo de hepatotoxicidad. Pacientes con insuficiencia hepática deben usar con precaución.'
            },
            'ibuprofeno': {
                nombre: 'Ibuprofeno',
                principioActivo: 'Ibuprofeno',
                indicaciones: 'Tratamiento sintomático del dolor leve a moderado y de la fiebre. Tratamiento sintomático de estados reumáticos y musculares.',
                contraindicaciones: 'Úlcera gastroduodenal activa o hemorragia digestiva. Insuficiencia cardíaca grave. Embarazo (tercer trimestre).',
                efectosSecundarios: 'Gastrointestinales: náuseas, dispepsia, dolor abdominal. Raros: úlcera gástrica, hemorragia digestiva.',
                dosis: 'Adultos: 200-400 mg cada 6-8 horas. Máximo 1200 mg/día.',
                advertencias: 'Riesgo de efectos gastrointestinales. No usar en pacientes con úlcera péptica activa. Evitar en insuficiencia renal.'
            },
            'omeprazol': {
                nombre: 'Omeprazol',
                principioActivo: 'Omeprazol',
                indicaciones: 'Enfermedad por reflujo gastroesofágico (ERGE). Úlcera gastroduodenal. Síndrome de Zollinger-Ellison. Tratamiento combinado con antibióticos para erradicación de Helicobacter pylori.',
                contraindicaciones: 'Hipersensibilidad al omeprazol o a otros benzimidazoles. No debe usarse en combinación con atazanavir.',
                efectosSecundarios: 'Cefalea, diarrea, náuseas, flatulencia. Raros: hepatitis, reacciones cutáneas graves.',
                dosis: 'Adultos: 20-40 mg al día, según indicación. Tomar 30-60 minutos antes de las comidas.',
                advertencias: 'Debe tenerse precaución en pacientes con disfunción hepática. Puede enmascarar los síntomas de cáncer gástrico. Riesgo de fracturas óseas con uso prolongado.'
            },
            'aspirina': {
                nombre: 'Aspirina',
                principioActivo: 'Ácido acetilsalicílico',
                indicaciones: 'Prevención secundaria de eventos cardiovasculares (infarto de miocardio, accidente cerebrovascular). Alivio del dolor y fiebre.',
                contraindicaciones: 'Úlcera gastroduodenal activa. Hemofilia u otros trastornos hemorrágicos. Asma inducida por AINEs. Niños y adolescentes con infecciones virales (síndrome de Reye).',
                efectosSecundarios: 'Gastrointestinales: náuseas, dispepsia, dolor abdominal, úlcera, hemorragia. Hematológicos: prolongación del tiempo de sangría.',
                dosis: 'Prevención cardiovascular: 75-100 mg al día. Dolor/fiebre: 500-1000 mg cada 4-8 horas.',
                advertencias: 'Riesgo de hemorragia gastrointestinal y cerebral. No debe usarse en el primer y segundo trimestre del embarazo salvo indicación médica. Evitar en niños menores de 16 años.'
            },
            'simvastatina': {
                nombre: 'Simvastatina',
                principioActivo: 'Simvastatina',
                indicaciones: 'Hipercolesterolemia. Prevención de eventos cardiovasculares en pacientes de alto riesgo.',
                contraindicaciones: 'Enfermedad hepática activa o elevaciones persistentes de transaminasas séricas de origen desconocido. Embarazo y lactancia. Combinación con inhibidores potentes del CYP3A4.',
                efectosSecundarios: 'Dolor muscular, debilidad. Raros: miopatía, rabdomiólisis, hepatitis.',
                dosis: 'Dosis inicial: 10-20 mg por la noche. Dosis máxima: 80 mg/día.',
                advertencias: 'Debe realizarse un análisis de función hepática antes del inicio del tratamiento y periódicamente durante el mismo. Suspender si hay signos de miopatía.'
            },
            'warfarina': {
                nombre: 'Warfarina',
                principioActivo: 'Warfarina',
                indicaciones: 'Prevención y tratamiento de trombosis venosa profunda y embolia pulmonar. Prevención de accidente cerebrovascular en fibrilación auricular. Prevención de trombosis en prótesis valvulares.',
                contraindicaciones: 'Hemorragia activa. Trastornos hemorrágicos. Embarazo. Hipersensibilidad a la warfarina.',
                efectosSecundarios: 'Hemorragia (principal riesgo), necrosis cutánea, alopecia, diarrea.',
                dosis: 'Dosis inicial: 5 mg diarios. Ajuste según INR. Monitorización semanal al inicio, luego mensual.',
                advertencias: 'Requiere monitorización del INR. Interacciones con muchos medicamentos y alimentos. Evitar traumatismos.'
            }
        };

        // Datos de prospectos
        const prospectosData = {
            'paracetamol': {
                titulo: 'Paracetamol',
                composicion: 'Cada comprimido contiene 500 mg de paracetamol.',
                indicaciones: 'Alivio del dolor leve a moderado (cefalea, dolor dental, dolor muscular, dolor articular, dolor menstrual) y fiebre.',
                contraindicaciones: 'Hipersensibilidad al paracetamol. Insuficiencia hepática grave.',
                advertencias: 'No exceder la dosis máxima recomendada (4 g/día en adultos). El consumo de alcohol aumenta el riesgo de hepatotoxicidad. Pacientes con insuficiencia hepática deben usar con precaución.',
                interacciones: 'Efecto potenciado por fenobarbital, fenitoína, carbamazepina y alcohol. Efecto reducido por colestiramina.',
                efectosAdversos: 'En dosis altas: hepatotoxicidad grave. Raros: reacciones cutáneas, alteraciones hematológicas.',
                dosis: 'Adultos y adolescentes (>12 años): 500-1000 mg cada 4-6 horas. Máximo 4 g/día. Niños: 60 mg/kg/día divididos en 4-6 dosis.',
                conservacion: 'Conservar en lugar fresco, seco y protegido de la luz. Mantener fuera del alcance de los niños.'
            },
            'ibuprofeno': {
                titulo: 'Ibuprofeno',
                composicion: 'Cada comprimido contiene 400 mg de ibuprofeno.',
                indicaciones: 'Tratamiento sintomático del dolor leve a moderado y de la fiebre. Tratamiento sintomático de estados reumáticos y musculares.',
                contraindicaciones: 'Úlcera gastroduodenal activa o hemorragia digestiva. Insuficiencia cardíaca grave. Embarazo (tercer trimestre). Hipersensibilidad al ibuprofeno o a otros AINEs.',
                advertencias: 'Riesgo de efectos gastrointestinales graves, incluso sin síntomas previos. No usar en pacientes con úlcera péptica activa. Evitar en insuficiencia renal. Puede afectar la fertilidad.',
                interacciones: 'Aumenta el riesgo de efectos gastrointestinales con corticosteroides, anticoagulantes, antiagregantes. Disminuye el efecto de diuréticos y antihipertensivos.',
                efectosAdversos: 'Gastrointestinales: náuseas, dispepsia, dolor abdominal, úlcera, hemorragia digestiva. Cardiovasculares: retención de líquidos, hipertensión. Raros: reacciones cutáneas graves, alteraciones hematológicas.',
                dosis: 'Adultos: 200-400 mg cada 6-8 horas. Máximo 1200 mg/día. Niños: 20-30 mg/kg/día divididos en 3-4 dosis.',
                conservacion: 'Conservar en lugar fresco, seco y protegido de la luz. Mantener fuera del alcance de los niños.'
            },
            'omeprazol': {
                titulo: 'Omeprazol',
                composicion: 'Cada cápsula contiene 20 mg de omeprazol.',
                indicaciones: 'Enfermedad por reflujo gastroesofágico (ERGE). Úlcera gastroduodenal. Síndrome de Zollinger-Ellison. Tratamiento combinado con antibióticos para erradicación de Helicobacter pylori.',
                contraindicaciones: 'Hipersensibilidad al omeprazol o a otros benzimidazoles. No debe usarse en combinación con atazanavir.',
                advertencias: 'Debe tenerse precaución en pacientes con disfunción hepática. Puede enmascarar los síntomas de cáncer gástrico. Riesgo de fracturas óseas con uso prolongado. Puede aumentar el riesgo de infecciones gastrointestinales.',
                interacciones: 'Disminuye la absorción de digoxina, ketoconazol, itraconazol. Aumenta los niveles de fenitoína, warfarina, diazepam. Efecto reducido por rifampicina, estuorantina.',
                efectosAdversos: 'Cefalea, diarrea, náuseas, flatulencia. Raros: hepatitis, reacciones cutáneas graves, alteraciones hematológicas.',
                dosis: 'Adultos: 20-40 mg al día, según indicación. Tomar 30-60 minutos antes de las comidas. Duración del tratamiento según indicación.',
                conservacion: 'Conservar en lugar fresco, seco y protegido de la luz. Mantener fuera del alcance de los niños.'
            },
            'aspirina': {
                titulo: 'Aspirina',
                composicion: 'Cada comprimido contiene 100 mg de ácido acetilsalicílico.',
                indicaciones: 'Prevención secundaria de eventos cardiovasculares (infarto de miocardio, accidente cerebrovascular). Alivio del dolor y fiebre.',
                contraindicaciones: 'Úlcera gastroduodenal activa. Hemofilia u otros trastornos hemorrágicos. Asma inducida por AINEs. Niños y adolescentes con infecciones virales (síndrome de Reye).',
                advertencias: 'Riesgo de hemorragia gastrointestinal y cerebral. No debe usarse en el primer y segundo trimestre del embarazo salvo indicación médica. Evitar en niños menores de 16 años. Puede enmascarar los síntomas de infección.',
                interacciones: 'Aumenta el riesgo de hemorragia con anticoagulantes, trombolíticos, otros antiagregantes. Aumenta los niveles de metotrexato y fenitoína. Disminuye la excreción de ácido úrico.',
                efectosAdversos: 'Gastrointestinales: náuseas, dispepsia, dolor abdominal, úlcera, hemorragia. Hematológicos: prolongación del tiempo de sangría. Raros: acúfenos, sordera, reacciones alérgicas.',
                dosis: 'Prevención cardiovascular: 75-100 mg al día. Dolor/fiebre: 500-1000 mg cada 4-8 horas. Máximo 3 g/día.',
                conservacion: 'Conservar en lugar fresco, seco y protegido de la luz. Mantener fuera del alcance de los niños.'
            },
            'simvastatina': {
                titulo: 'Simvastatina',
                composicion: 'Cada comprimido contiene 20 mg de simvastatina.',
                indicaciones: 'Hipercolesterolemia. Prevención de eventos cardiovasculares en pacientes de alto riesgo.',
                contraindicaciones: 'Enfermedad hepática activa o elevaciones persistentes de transaminasas séricas de origen desconocido. Embarazo y lactancia. Combinación con inhibidores potentes del CYP3A4.',
                advertencias: 'Debe realizarse un análisis de función hepática antes del inicio del tratamiento y periódicamente durante el mismo. Suspender si hay signos de miopatía. Evitar el consumo de pomelo. Riesgo de diabetes.',
                interacciones: 'Aumenta el riesgo de miopatía con inhibidores del CYP3A4 (eritromicina, claritromicina, itraconazol, etc.). Aumenta los niveles de digoxina. Interacción con fibratos (excepto fenofibrato).',
                efectosAdversos: 'Dolor muscular, debilidad. Raros: miopatía, rabdomiólisis, hepatitis, diabetes.',
                dosis: 'Dosis inicial: 10-20 mg por la noche. Dosis máxima: 80 mg/día. Ajuste según perfil lipídico.',
                conservacion: 'Conservar en lugar fresco, seco y protegido de la luz. Mantener fuera del alcance de los niños.'
            },
            'warfarina': {
                titulo: 'Warfarina',
                composicion: 'Cada comprimido contiene 5 mg de warfarina.',
                indicaciones: 'Prevención y tratamiento de trombosis venosa profunda y embolia pulmonar. Prevención de accidente cerebrovascular en fibrilación auricular. Prevención de trombosis en prótesis valvulares.',
                contraindicaciones: 'Hemorragia activa. Trastornos hemorrágicos. Embarazo. Hipersensibilidad a la warfarina.',
                advertencias: 'Requiere monitorización del INR. Interacciones con muchos medicamentos y alimentos. Evitar traumatismos. Riesgo de necrosis cutánea en pacientes con deficiencia de proteína C o S.',
                interacciones: 'Aumenta el riesgo de hemorragia con antiinflamatorios, antiagregantes, algunos antibióticos. Disminuye su efecto con barbitúricos, rifampicina. Alimentos ricos en vitamina K reducen su efecto.',
                efectosAdversos: 'Hemorragia (principal riesgo), necrosis cutánea, alopecia, diarrea.',
                dosis: 'Dosis inicial: 5 mg diarios. Ajuste según INR. Monitorización semanal al inicio, luego mensual.',
                conservacion: 'Conservar en lugar fresco, seco y protegido de la luz. Mantener fuera del alcance de los niños.'
            }
        };

        // Estado actual
        let currentSection = 'inicio';
        let paeRecords = [];

        // Funciones auxiliares
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notificationMessage');
            
            notificationMessage.textContent = message;
            notification.className = 'notification';
            
            if (type === 'danger') {
                notification.classList.add('notification-danger');
                notification.querySelector('i').className = 'fas fa-exclamation-circle';
            } else if (type === 'warning') {
                notification.classList.add('notification-warning');
                notification.querySelector('i').className = 'fas fa-exclamation-triangle';
            } else {
                notification.classList.add('notification-success');
                notification.querySelector('i').className = 'fas fa-check-circle';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function setActiveSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Mostrar la sección seleccionada
            document.getElementById(sectionId).classList.add('active');
            
            // Actualizar navegación
            document.querySelectorAll('nav a, .sidebar a').forEach(link => {
                link.classList.remove('active');
            });
            
            document.querySelectorAll(`nav a[href="#${sectionId}"], .sidebar a[href="#${sectionId}"]`).forEach(link => {
                link.classList.add('active');
            });
            
            currentSection = sectionId;
        }

        function setActiveTab(tabs, tabId) {
            tabs.forEach(tab => {
                tab.classList.remove('active');
                const content = document.getElementById(tab.getAttribute('data-tab'));
                if (content) content.classList.remove('active');
            });
            
            const activeTab = document.querySelector(`.tab[data-tab="${tabId}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
                const content = document.getElementById(tabId);
                if (content) content.classList.add('active');
            }
        }

        // Funciones de secciones
        function loadAreaContent(areaName) {
            const data = areasData[areaName];
            if (data) {
                document.getElementById('areaContent').innerHTML = `
                    <div class="glass-inner">
                        <h4><i class="fas fa-building"></i> ${data.titulo}</h4>
                        <p><i class="fas fa-info-circle"></i> ${data.descripcion}</p>
                        <p><i class="fas fa-user-md"></i> <strong>Personal:</strong> ${data.personal}</p>
                        <p><i class="fas fa-phone"></i> <strong>Contacto:</strong> ${data.contacto}</p>
                    </div>
                `;
            }
        }

        function loadFirstAidContent(category) {
            document.getElementById('firstAidContent').innerHTML = firstAidData[category] || '';
        }

        function loadCalculatorContent(category) {
            document.getElementById('calculatorContent').innerHTML = calculatorsData[category] || '';
        }

        function loadExtrasContent(category) {
            document.getElementById('extrasContent').innerHTML = extrasData[category] || '';
            
            // Inicializar funcionalidades específicas
            if (category === 'pae') {
                updatePAEHistory();
            }
        }

        // Funciones de calculadoras
        function calculateIMC() {
            const peso = parseFloat(document.getElementById('pesoIMC').value);
            const altura = parseFloat(document.getElementById('alturaIMC').value) / 100;
            
            if (!peso || !altura) {
                showNotification('Por favor, complete todos los campos', 'danger');
                return;
            }
            
            const imc = peso / (altura * altura);
            let clasificacion, nivelRiesgo, color, riesgoPercent;
            
            if (imc < 18.5) {
                clasificacion = 'Bajo peso';
                nivelRiesgo = 'Bajo';
                color = '#3498db';
                riesgoPercent = 20;
            } else if (imc < 25) {
                clasificacion = 'Peso normal';
                nivelRiesgo = 'Normal';
                color = '#27ae60';
                riesgoPercent = 10;
            } else if (imc < 30) {
                clasificacion = 'Sobrepeso';
                nivelRiesgo = 'Aumentado';
                color = '#f39c12';
                riesgoPercent = 40;
            } else if (imc < 35) {
                clasificacion = 'Obesidad grado I';
                nivelRiesgo = 'Moderado';
                color = '#e67e22';
                riesgoPercent = 60;
            } else if (imc < 40) {
                clasificacion = 'Obesidad grado II';
                nivelRiesgo = 'Severo';
                color = '#e74c3c';
                riesgoPercent = 80;
            } else {
                clasificacion = 'Obesidad grado III';
                nivelRiesgo = 'Muy severo';
                color = '#c0392b';
                riesgoPercent = 100;
            }
            
            const pesoIdeal = 22 * (altura * altura);
            const diferencia = peso - pesoIdeal;
            
            document.getElementById('valorIMC').textContent = imc.toFixed(2);
            document.getElementById('clasificacionIMC').textContent = clasificacion;
            document.getElementById('pesoIdeal').textContent = pesoIdeal.toFixed(2);
            document.getElementById('diferenciaPeso').textContent = diferencia.toFixed(2);
            document.getElementById('nivelRiesgo').textContent = nivelRiesgo;
            document.getElementById('barraRiesgo').style.width = `${riesgoPercent}%`;
            document.getElementById('barraRiesgo').style.backgroundColor = color;
            
            document.getElementById('resultadoIMC').style.display = 'block';
        }

        function calculateCardioRisk() {
            const edad = parseInt(document.getElementById('edadCardio').value);
            const sexo = document.getElementById('sexoCardio').value;
            const pas = parseInt(document.getElementById('pasCardio').value);
            const fumador = document.getElementById('fumadorCardio').value;
            const colesterol = parseInt(document.getElementById('colesterolCardio').value);
            const hdl = parseInt(document.getElementById('hdlCardio').value);
            const diabetes = document.getElementById('diabetesCardio').value;
            const hta = document.getElementById('htaCardio').value;
            
            // Validación de campos
            if (!edad || !sexo || !pas || !fumador || !colesterol || !hdl || !diabetes || !hta) {
                showNotification('Por favor, complete todos los campos', 'danger');
                return;
            }
            
            // Cálculo simplificado del riesgo cardiovascular
            let riesgo = 0;
            
            // Factores de riesgo
            if (edad >= 65) riesgo += 20;
            else if (edad >= 55) riesgo += 15;
            else if (edad >= 45) riesgo += 10;
            else if (edad >= 35) riesgo += 5;
            
            if (pas >= 160) riesgo += 15;
            else if (pas >= 140) riesgo += 10;
            else if (pas >= 120) riesgo += 5;
            
            if (fumador === 'si') riesgo += 10;
            if (diabetes === 'si') riesgo += 15;
            if (hta === 'si') riesgo += 10;
            
            if (colesterol >= 240) riesgo += 15;
            else if (colesterol >= 200) riesgo += 10;
            else if (colesterol >= 160) riesgo += 5;
            
            if (hdl < 40) riesgo += 10;
            else if (hdl < 50) riesgo += 5;
            
            // Ajuste por sexo
            if (sexo === 'femenino') riesgo = riesgo * 0.8;
            
            // Limitar riesgo máximo
            if (riesgo > 30) riesgo = 30;
            
            let clasificacion, recomendaciones;
            
            if (riesgo < 5) {
                clasificacion = 'Riesgo muy bajo';
                recomendaciones = 'Mantenga su estilo de vida saludable. Realice revisiones anuales.';
            } else if (riesgo < 10) {
                clasificacion = 'Riesgo bajo';
                recomendaciones = 'Mantenga una dieta equilibrada y ejercicio regular. Revise factores de riesgo anualmente.';
            } else if (riesgo < 20) {
                clasificacion = 'Riesgo moderado';
                recomendaciones = 'Intervención en factores de riesgo modificables: dieta, ejercicio, control de presión arterial y colesterol.';
            } else {
                clasificacion = 'Riesgo alto';
                recomendaciones = 'Necesita intervención médica inmediata y tratamiento intensivo de los factores de riesgo.';
            }
            
            document.getElementById('riesgoCardio').textContent = riesgo.toFixed(1);
            document.getElementById('clasificacionCardio').textContent = clasificacion;
            document.getElementById('recomendacionesCardio').textContent = recomendaciones;
            document.getElementById('resultadoCardio').style.display = 'block';
        }

        // Funciones de PAE
        function savePAE() {
            const paciente = document.getElementById('paePaciente').value;
            const diagnostico = document.getElementById('paeDiagnostico').value;
            const objetivos = document.getElementById('paeObjetivos').value;
            const intervenciones = document.getElementById('paeIntervenciones').value;
            const evaluacion = document.getElementById('paeEvaluacion').value;
            
            if (!paciente || !diagnostico) {
                showNotification('Por favor, complete al menos el nombre del paciente y el diagnóstico de enfermería.', 'danger');
                return;
            }
            
            const now = new Date();
            const fecha = now.toLocaleDateString('es-ES');
            const hora = now.toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'});
            
            const newRecord = {
                paciente,
                diagnostico,
                objetivos,
                intervenciones,
                evaluacion,
                fecha,
                hora
            };
            
            paeRecords.unshift(newRecord);
            updatePAEHistory();
            
            // Limpiar formulario
            document.getElementById('formularioPAE').reset();
            
            // Cerrar modal
            document.getElementById('paeModal').classList.remove('show');
            
            showNotification('PAE guardado correctamente');
        }

        function updatePAEHistory() {
            const historialPAE = document.getElementById('historialPAE');
            
            if (paeRecords.length === 0) {
                historialPAE.innerHTML = '<p style="text-align: center; color: var(--gray);">No hay registros de PAE. Cree el primero haciendo clic en "Nuevo PAE".</p>';
                return;
            }
            
            historialPAE.innerHTML = '';
            
            paeRecords.forEach((record, index) => {
                const paeEntry = document.createElement('div');
                paeEntry.className = 'pae-entry';
                paeEntry.innerHTML = `
                    <div class="pae-info">
                        <div class="pae-title">${record.paciente}</div>
                        <div class="pae-subtitle">${record.diagnostico}</div>
                        <div class="pae-date">${record.fecha} ${record.hora}</div>
                    </div>
                    <div class="card-actions">
                        <button class="btn btn-outline btn-sm" onclick="viewPAE(${index})"><i class="fas fa-eye"></i> Ver</button>
                        <button class="btn btn-danger btn-sm" onclick="deletePAE(${index})"><i class="fas fa-trash"></i> Eliminar</button>
                    </div>
                    <div id="paeDetails${index}" class="glass-inner" style="display: none; margin-top: 1rem;">
                        <div class="grid-2">
                            <div>
                                <h5><i class="fas fa-bullseye"></i> Objetivos</h5>
                                <p>${record.objetivos}</p>
                            </div>
                            <div>
                                <h5><i class="fas fa-hand-holding-medical"></i> Intervenciones</h5>
                                <p>${record.intervenciones}</p>
                            </div>
                        </div>
                        <h5><i class="fas fa-clipboard-check"></i> Evaluación</h5>
                        <p>${record.evaluacion}</p>
                    </div>
                `;
                historialPAE.appendChild(paeEntry);
            });
        }

        function viewPAE(index) {
            const details = document.getElementById(`paeDetails${index}`);
            if (details.style.display === 'none') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
        }

        function deletePAE(index) {
            if (confirm('¿Está seguro de que desea eliminar este registro de PAE?')) {
                paeRecords.splice(index, 1);
                updatePAEHistory();
                showNotification('PAE eliminado correctamente');
            }
        }

        // Funciones de medicamentos
        function searchMedicamento() {
            const medicamento = document.getElementById('buscadorMedicamento').value.toLowerCase();
            
            if (!medicamento) {
                showNotification('Por favor, ingrese el nombre de un medicamento.', 'danger');
                return;
            }
            
            const medicamentoData = Object.values(medicamentosData).find(m => 
                m.nombre.toLowerCase().includes(medicamento) || 
                m.principioActivo.toLowerCase().includes(medicamento)
            );
            
            if (medicamentoData) {
                document.getElementById('nombreMedicamento').textContent = medicamentoData.nombre;
                document.getElementById('principioActivo').textContent = medicamentoData.principioActivo;
                document.getElementById('indicaciones').textContent = medicamentoData.indicaciones;
                document.getElementById('contraindicaciones').textContent = medicamentoData.contraindicaciones;
                document.getElementById('efectosSecundarios').textContent = medicamentoData.efectosSecundarios;
                document.getElementById('dosis').textContent = medicamentoData.dosis;
                document.getElementById('advertencias').textContent = medicamentoData.advertencias;
                
                document.getElementById('resultadoMedicamento').style.display = 'block';
            } else {
                showNotification(`No se encontró información para el medicamento "${medicamento}". Pruebe con: Paracetamol, Ibuprofeno, Omeprazol, Aspirina, Simvastatina o Warfarina.`, 'danger');
            }
        }

        function loadProspecto() {
            const medicamento = document.getElementById('prospectoMedicamento').value;
            
            if (!medicamento) {
                document.getElementById('prospectoContent').style.display = 'none';
                return;
            }
            
            const data = prospectosData[medicamento];
            if (data) {
                document.getElementById('tituloProspecto').textContent = data.titulo;
                document.getElementById('composicion').textContent = data.composicion;
                document.getElementById('indicacionesProspecto').textContent = data.indicaciones;
                document.getElementById('contraindicacionesProspecto').textContent = data.contraindicaciones;
                document.getElementById('advertencias').textContent = data.advertencias;
                document.getElementById('interacciones').textContent = data.interacciones;
                document.getElementById('efectosAdversos').textContent = data.efectosAdversos;
                document.getElementById('dosis').textContent = data.dosis;
                document.getElementById('conservacion').textContent = data.conservacion;
                
                document.getElementById('prospectoContent').style.display = 'block';
            }
        }

        // Funciones de enfermedades
        function searchEnfermedad() {
            const enfermedad = document.getElementById('buscadorEnfermedad').value.trim();
            
            if (!enfermedad) {
                showNotification('Por favor, ingrese el nombre de una enfermedad.', 'danger');
                return;
            }
            
            document.getElementById('tituloEnfermedad').textContent = enfermedad;
            document.getElementById('extractoEnfermedad').textContent = `Información sobre ${enfermedad}. Esta es una simulación de búsqueda en Wikipedia. En una versión completa, esta función realizaría una consulta a la API de Wikipedia para obtener información real sobre la enfermedad buscada. La API de Wikipedia proporciona extractos de artículos, enlaces y metadatos que podrían ser útiles para profesionales médicos. Los resultados incluirían definición, síntomas, causas, diagnóstico, tratamiento y pronóstico de la enfermedad.`;
            document.getElementById('enlaceWikipedia').href = `https://es.wikipedia.org/wiki/${enfermedad.replace(' ', '_')}`;
            
            document.getElementById('resultadoEnfermedad').style.display = 'block';
        }

        // Funciones de UI
        function updateReloj() {
            const ahora = new Date();
            const opciones = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const fecha = ahora.toLocaleDateString('es-ES', opciones);
            const hora = ahora.toLocaleTimeString('es-ES');
            
            document.getElementById('relojDigital').textContent = hora;
            document.getElementById('fecha').textContent = fecha;
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Actualizar reloj
            updateReloj();
            setInterval(updateReloj, 1000);
            
            // Navegación
            document.querySelectorAll('nav a, .sidebar a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('href').substring(1);
                    setActiveSection(sectionId);
                    
                    // Cargar contenido específico si es necesario
                    if (sectionId === 'areas') {
                        loadAreaContent('urgencias');
                    } else if (sectionId === 'primerosAuxilios') {
                        loadFirstAidContent('traumatismos');
                    } else if (sectionId === 'calculadoras') {
                        loadCalculatorContent('imc');
                    } else if (sectionId === 'extras') {
                        loadExtrasContent('pae');
                    }
                });
            });
            
            // Tabs de áreas
            document.querySelectorAll('#areas .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const areaName = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#areas .tab'), areaName);
                    loadAreaContent(areaName);
                });
            });
            
            // Tabs de primeros auxilios
            document.querySelectorAll('#primerosAuxilios .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#primerosAuxilios .tab'), category);
                    loadFirstAidContent(category);
                });
            });
            
            // Tabs de calculadoras
            document.querySelectorAll('#calculadoras .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#calculadoras .tab'), category);
                    loadCalculatorContent(category);
                });
            });
            
            // Tabs de extras
            document.querySelectorAll('#extras .tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const category = this.getAttribute('data-tab');
                    setActiveTab(document.querySelectorAll('#extras .tab'), category);
                    loadExtrasContent(category);
                });
            });
            
            // Búsqueda de áreas
            document.getElementById('searchArea').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const tabs = document.querySelectorAll('#areas .tab');
                
                tabs.forEach(tab => {
                    const areaName = tab.getAttribute('data-tab');
                    const areaData = areasData[areaName];
                    if (areaData.titulo.toLowerCase().includes(searchTerm) || 
                        areaData.descripcion.toLowerCase().includes(searchTerm) ||
                        areaData.personal.toLowerCase().includes(searchTerm)) {
                        tab.style.display = 'inline-flex';
                    } else {
                        tab.style.display = 'none';
                    }
                });
            });
            
            // Calculadoras
            document.getElementById('calcularIMC').addEventListener('click', calculateIMC);
            document.getElementById('calcularCardio').addEventListener('click', calculateCardioRisk);
            
            // PAE
            document.getElementById('agregarPAE').addEventListener('click', function() {
                document.getElementById('paeModal').classList.add('show');
            });
            
            document.getElementById('guardarPAE').addEventListener('click', savePAE);
            document.getElementById('cancelPae').addEventListener('click', function() {
                document.getElementById('paeModal').classList.remove('show');
            });
            
            document.getElementById('closePaeModal').addEventListener('click', function() {
                document.getElementById('paeModal').classList.remove('show');
            });
            
            // Medicamentos
            document.getElementById('buscarMedicamentoBtn').addEventListener('click', searchMedicamento);
            document.getElementById('prospectoMedicamento').addEventListener('change', loadProspecto);
            
            // Enfermedades
            document.getElementById('buscarEnfermedad').addEventListener('click', searchEnfermedad);
            document.getElementById('limpiarEnfermedad').addEventListener('click', function() {
                document.getElementById('buscadorEnfermedad').value = '';
                document.getElementById('resultadoEnfermedad').style.display = 'none';
            });
            
            // Impresión
            document.getElementById('printFirstAid').addEventListener('click', function() {
                window.print();
            });
            
            document.getElementById('printMedicamento').addEventListener('click', function() {
                window.print();
            });
            
            // Botones de acción
            document.getElementById('refreshAreas').addEventListener('click', function() {
                loadAreaContent('urgencias');
                showNotification('Áreas actualizadas correctamente');
            });
            
            document.getElementById('clearCalculators').addEventListener('click', function() {
                document.querySelectorAll('input[type="number"], select, textarea').forEach(input => {
                    input.value = '';
                });
                document.querySelectorAll('.form-control').forEach(input => {
                    input.value = '';
                });
                document.getElementById('resultadoIMC').style.display = 'none';
                document.getElementById('resultadoCardio').style.display = 'none';
                document.getElementById('resultadoMedicamento').style.display = 'none';
                showNotification('Calculadoras limpiadas');
            });
            
            // Cerrar modales al hacer clic fuera
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.classList.remove('show');
                }
            });
            
            // Inicializar con área de urgencias
            loadAreaContent('urgencias');
            loadFirstAidContent('traumatismos');
            loadCalculatorContent('imc');
            loadExtrasContent('pae');
        });

        // Funciones globales
        window.viewPAE = viewPAE;
        window.deletePAE = deletePAE;
    </script>
</body>
</html>
